"use strict";(self.webpackChunkjamberry=self.webpackChunkjamberry||[]).push([[652],{7652:(U,P,g)=>{g.r(P),g.d(P,{PodcastSearchPageModule:()=>w});var p=g(9808),d=g(4182),_=g(3368),C=g(7388),h=g(6561),M=g(5189),t=g(5e3),i=g(2463),O=g(7259),l=g(703),m=g(1746);function u(o,r){1&o&&t._UZ(0,"app-loading",10),2&o&&t.Q6J("time",0)}function f(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"No Results"),t.qZA())}function x(o,r){if(1&o&&t._UZ(0,"img",26),2&o){const n=t.oxw().$implicit;t.Q6J("src",n.logoUrl,t.LSH)}}function v(o,r){if(1&o&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&o){const n=r.$implicit;t.Q6J("ngValue",n),t.xp6(1),t.Oqu(n.displayURL)}}function b(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.YNc(2,x,1,1,"img",16),t.qZA(),t.TgZ(3,"div",17)(4,"div",18),t._uU(5,"Podcast"),t.qZA(),t.TgZ(6,"div",19),t._uU(7),t.qZA(),t.TgZ(8,"div",20),t._uU(9),t.qZA(),t.TgZ(10,"div",21)(11,"select",22),t.NdJ("ngModelChange",function(c){return t.CHM(n).$implicit.selected=c}),t.YNc(12,v,2,2,"option",23),t.qZA(),t.TgZ(13,"button",24),t.NdJ("click",function(){const a=t.CHM(n).$implicit;return t.oxw(2).subscribe(a.selected)}),t._UZ(14,"i",25),t._uU(15," Subscribe"),t.qZA()()()()}if(2&o){const n=r.$implicit;t.xp6(2),t.Q6J("ngIf",n.logoUrl),t.xp6(5),t.Oqu(n.name),t.xp6(2),t.Oqu(n.description),t.xp6(2),t.Q6J("ngModel",n.selected),t.xp6(1),t.Q6J("ngForOf",n.pods)}}function S(o,r){if(1&o&&(t.TgZ(0,"div",11),t.YNc(1,f,2,0,"div",12),t.TgZ(2,"div"),t.YNc(3,b,16,5,"div",13),t.qZA()()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",0===n.podcasts.length),t.xp6(2),t.Q6J("ngForOf",n.podcasts)}}const Z=function(){return{standalone:!0}},y=[{path:"",component:(()=>{class o{constructor(n,e,c,a,s){this.app=n,this.jam=e,this.navig=c,this.notify=a,this.podcastService=s,this.searchValue="",this.isSearching=!1,this.searchValue=""}subscribe(n){!n||this.jam.podcast.create({url:n.url.toString()}).then(()=>{this.notify.success("Podcast subscribed")}).catch(e=>{this.notify.error(e)})}search(n){this.podcasts=void 0,n&&n.length>0&&(this.isSearching=!0,this.jam.podcast.discover({query:n}).then(e=>{this.searchValue===n&&(this.buildSearchResults(e),this.isSearching=!1)}).catch(e=>{this.isSearching=!1,this.notify.error(e)}))}buildSearchResults(n){const e={};n.forEach(c=>{const a=new URL(c.url);if(a.hostname.includes("feedburner.com"))return;let s=e[c.title];s||(s={name:c.title,logoUrl:c.scaled_logo_url,description:c.description,pods:[]},e[c.title]=s),(!s.description||0===s.description.length)&&(s.description=c.description),(!s.logoUrl||0===s.logoUrl.length)&&(s.logoUrl=c.scaled_logo_url),s.pods.find(T=>T.url.toString()===a.toString())||s.pods.push({result:c,url:a,displayURL:a.toString()})}),this.podcasts=Object.keys(e).map(c=>{const a=e[c];return a.selected=a.pods.find(s=>s.url.pathname.includes("mp3")),a.selected||(a.selected=a.pods[0]),a})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(i.zi),t.Y36(M.K4),t.Y36(i.Am),t.Y36(i.c),t.Y36(O.XU))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-page-podcast-search"]],decls:12,vars:5,consts:[[1,"search-podcasts"],["icon","icon-podcast","section","New Podcasts"],[1,"input-box"],["name","podcast-search","placeholder","Search Podcast or paste feed url","type","text",3,"ngModel","ngModelOptions","ngModelChange","keydown.enter"],[1,"icon-search",3,"click"],[1,"reference"],["href","https://gpodder.net","target","_blank","rel","noopener"],[1,"content"],[3,"time",4,"ngIf"],["class","podcasts",4,"ngIf"],[3,"time"],[1,"podcasts"],[4,"ngIf"],["class","search-podcast-plate",4,"ngFor","ngForOf"],[1,"search-podcast-plate"],[1,"art"],["alt","Podcast Image",3,"src",4,"ngIf"],[1,"meta"],[1,"type"],[1,"name"],[1,"description"],[1,"actions"],["placeholder","Feed URL","panelClass","url-dropdown-menu",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"button-on-background",3,"click"],[1,"icon-list-add"],["alt","Podcast Image",3,"src"],[3,"ngValue"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"app-view-header-icon-section",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(a){return e.searchValue=a})("keydown.enter",function(){return e.search(e.searchValue)}),t.qZA(),t.TgZ(4,"i",4),t.NdJ("click",function(){return e.search(e.searchValue)}),t.qZA()(),t.TgZ(5,"div",5),t._uU(6,"Powered by "),t.TgZ(7,"a",6),t._uU(8,"gpodder.net"),t.qZA()()(),t.TgZ(9,"div",7),t.YNc(10,u,1,1,"app-loading",8),t.YNc(11,S,4,2,"div",9),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("ngModel",e.searchValue)("ngModelOptions",t.DdM(4,Z)),t.xp6(7),t.Q6J("ngIf",e.isSearching),t.xp6(1),t.Q6J("ngIf",e.podcasts))},directives:[l.A,d.Fj,d.JJ,d.On,p.O5,m.N,p.sg,d.EJ,d.YN,d.Kr],styles:["[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{border-radius:3px;padding-left:3px;padding-right:3px;align-items:center;background-color:var(--input);border:1px solid var(--input-border)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;min-height:20px;background-color:var(--input);color:var(--on-input)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--on-input);font-size:14px;cursor:pointer}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--on-input-hover)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{width:100%;display:flex;min-height:30px}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:calc(100% - 24px)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .reference[_ngcontent-%COMP%]{padding-top:5px;font-size:.8em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 15px 15px}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media (max-width: 522px){[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]{width:100%;margin-top:30px}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;display:block;max-width:100%}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]{border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:var(--background-border);padding:15px;display:flex;flex-flow:row wrap}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .art[_ngcontent-%COMP%]{min-width:64px;min-height:64px;max-width:64px;display:block;cursor:pointer}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:auto}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{margin-left:15px;display:flex;flex-flow:column wrap;position:relative;width:calc(100% - 120px)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], [_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], [_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]{letter-spacing:1px;font-size:.8em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:24px;font-weight:100;color:var(--on-background-active)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--on-background-active)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--on-background)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;line-height:1.2em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:auto}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:5px;margin-right:5px;height:27px;font-weight:500;padding:1px 15px 0}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:scale(1.3);transform-origin:center}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;border:1px solid transparent;padding:4px 9px 7px;border-radius:50%;display:none;position:absolute;right:1px;bottom:0}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--control-hover);color:var(--on-background-hover)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]:hover   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]:hover   app-fav-icon[_ngcontent-%COMP%]{display:inline}@media (max-width: 400px){[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]{padding-left:0;padding-right:0}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.8em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px}}"]}),o})(),canActivate:[C.aH],data:{name:"Podcast Search"}}];let w=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,d.u5,h.m,_.Bz.forChild(y)]]}),o})()}}]);