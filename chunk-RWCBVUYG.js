import{a as V}from"./chunk-LVV376FI.js";import{a as W}from"./chunk-X4HLLE23.js";import{a as U}from"./chunk-5NIXNXXO.js";import{a as J,b as K,c as Z,d as ee}from"./chunk-MZ65RTTK.js";import{a as Q}from"./chunk-OV2RF66Q.js";import"./chunk-VSMEHVNZ.js";import"./chunk-W2NMQGHF.js";import"./chunk-NVLAWCOW.js";import"./chunk-NV464EDQ.js";import"./chunk-WFQJ2JOD.js";import"./chunk-REI5CXDR.js";import"./chunk-N2Q3XI4X.js";import"./chunk-6VWQ7JC4.js";import"./chunk-MQ5GQMNI.js";import"./chunk-6WAGYCOA.js";import"./chunk-UPKF4LSO.js";import{a as D}from"./chunk-PIBSONJI.js";import"./chunk-VEKI7BN2.js";import"./chunk-V6GDRA44.js";import"./chunk-SDBHHTA3.js";import{i as z}from"./chunk-NNT52QCM.js";import"./chunk-6UV7XVIR.js";import"./chunk-SDT7PSNL.js";import"./chunk-4K2FA6DD.js";import"./chunk-AIQOHZWK.js";import"./chunk-N2K5OS3Y.js";import"./chunk-24DMSAFT.js";import{c as q,d as B,g as w,o as F}from"./chunk-Y5Z5ITNC.js";import"./chunk-ORVGIZVG.js";import"./chunk-K7RVMPTP.js";import"./chunk-MHPFTM2Z.js";import"./chunk-T2QKBMPN.js";import"./chunk-DYCPZPVS.js";import"./chunk-CXISAAQ7.js";import"./chunk-BNP52TDG.js";import"./chunk-F6BYEP4R.js";import"./chunk-VP6KNDS4.js";import"./chunk-D2CLWX7O.js";import"./chunk-AQDYGNZB.js";import"./chunk-W76RWN3H.js";import"./chunk-FQC6PRY2.js";import"./chunk-PZTZCA44.js";import"./chunk-4HNSRH53.js";import"./chunk-ZVKVGF76.js";import"./chunk-T6GM3CFW.js";import{$d as Y,Ac as j,Gc as C,Hb as f,Hc as k,Ib as O,Ic as H,Kb as T,Kc as $,Lb as v,Mb as x,Nb as l,Ob as c,Pb as a,Qb as _,Xa as M,Xd as X,_b as R,ab as r,dc as N,e as E,fc as p,ia as b,na as P,nb as y,oa as S,pc as L,sb as A,yc as I,zc as G}from"./chunk-H2EXZDP6.js";var h=e=>({query:e}),te=(e,o)=>({query:e,albumType:o});function ne(e,o){if(e&1&&(c(0,"app-autocomplete-option",8),_(1,"span",9),H(2,"highlight"),a()),e&2){let t=o.$implicit,n=p().control;l("option",t)("control",n),r(),l("innerHTML",$(2,3,t.data.name,n.query),M)}}function oe(e,o){if(e&1&&v(0,ne,3,6,"app-autocomplete-option",8,T),e&2){let t=o.control;x(t.options)}}function ie(e,o){if(e&1&&(c(0,"div",11),_(1,"app-obj-loader",12),a()),e&2){let t=p(2);r(),l("loader",t.library.albumLoader)("searchQuery",C(2,h,t.query))}}function ae(e,o){if(e&1&&(c(0,"div",11),_(1,"app-obj-loader",12),a()),e&2){let t=p(2);r(),l("loader",t.library.artistLoader)("searchQuery",k(2,te,t.query,t.AlbumType.album))}}function re(e,o){if(e&1&&(c(0,"div",11),_(1,"app-obj-loader",12),a()),e&2){let t=p(2);r(),l("loader",t.library.podcastLoader)("searchQuery",C(2,h,t.query))}}function ce(e,o){if(e&1&&(c(0,"div",11),_(1,"app-obj-loader",12),a()),e&2){let t=p(2);r(),l("loader",t.library.seriesLoader)("searchQuery",C(2,h,t.query))}}function le(e,o){if(e&1&&(c(0,"div",11),_(1,"app-obj-loader",12),a()),e&2){let t=p(2);r(),l("loader",t.library.playlistLoader)("searchQuery",C(2,h,t.query))}}function se(e,o){if(e&1&&(c(0,"div",11),_(1,"app-obj-loader",12),a()),e&2){let t=p(2);r(),l("loader",t.library.folderLoader)("searchQuery",C(2,h,t.query))}}function pe(e,o){if(e&1&&(c(0,"div",11),_(1,"app-episodes-loader",13),a()),e&2){let t=p(2);r(),l("query",t.query)}}function _e(e,o){if(e&1&&(c(0,"div",11),_(1,"app-tracks-loader",13),a()),e&2){let t=p(2);r(),l("query",t.query)}}function de(e,o){if(e&1&&(c(0,"div",7)(1,"div",10),f(2,ie,2,4,"div",11)(3,ae,2,5,"div",11)(4,re,2,4,"div",11)(5,ce,2,4,"div",11)(6,le,2,4,"div",11)(7,se,2,4,"div",11)(8,pe,2,1,"div",11)(9,_e,2,1,"div",11),a()()),e&2){let t,n=p();r(2),O((t=n.currentTab.id)===n.tabsObjs.albums.id?2:t===n.tabsObjs.artists.id?3:t===n.tabsObjs.podcasts.id?4:t===n.tabsObjs.series.id?5:t===n.tabsObjs.playlists.id?6:t===n.tabsObjs.folders.id?7:t===n.tabsObjs.episodes.id?8:t===n.tabsObjs.tracks.id?9:-1)}}var m=()=>{},xe=(()=>{let o=class o{constructor(){this.library=b(z),this.AlbumType=X,this.value="",this.query="",this.tabsObjs={artists:{id:"artist",label:"Artist",click:m},albums:{id:"album",label:"Album",click:m},folders:{id:"folder",label:"Folder",click:m},podcasts:{id:"podcast",label:"Podcast",click:m},episodes:{id:"episode",label:"Episodes",click:m},series:{id:"series",label:"Series",click:m},playlists:{id:"playlist",label:"Playlist",click:m},tracks:{id:"track",label:"Track",click:m}},this.currentTab=this.tabsObjs.artists,this.tabs=Object.keys(this.tabsObjs).map(n=>{let i=this.tabsObjs[n];return i.click=()=>{this.setCurrentTab(i)},i}),this.jam=b(Y),this.currentTab=this.tabsObjs.artists,this.currentTab.active=!0}setCurrentTab(n){this.currentTab=n;for(let i of this.tabs)i.active=!1;n.active=!0,this.search()}search(){this.query=this.value}autocompleteSelectResult(n){return this.value=n.data.name,this.search(),this.value}autocompleteGetData(n){return E(this,null,function*(){let i={query:n};return i[this.currentTab.id]=10,((yield this.jam.autocomplete.autocomplete(i))[`${this.currentTab.id}s`]??[]).map(u=>({data:u}))})}autocompleteEnter(n){this.value=n,this.search()}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=y({type:o,selectors:[["app-page-search"]],decls:9,vars:5,consts:()=>{let n;n=$localize`:␟28e6a96bb0aab7b4d624822812d8be756e64c84d␟8969547881326047567:icon-search`;let i;i=$localize`:␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`;let s;s=$localize`:␟d7f33248b7e33cc2c1843bfe84f4bdbc1776124e␟3712763448239725249:Search here`;let d;return d=$localize`:␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`,[["autocomplete","appAutocomplete"],["appAutocompleteContent",""],[1,"search"],["icon",n,"section",i,3,"tabs"],[1,"input-box"],["autocomplete","off","name","query","placeholder",s,"type","text",3,"ngModelChange","ngModel","appAutocompleteControl","appAutocomplete"],["title",d,1,"icon-search",3,"click"],[1,"content"],[3,"option","control"],[3,"innerHTML"],[1,"tab-content"],[1,"tab-pane"],[3,"loader","searchQuery"],[3,"query"]]},template:function(i,s){if(i&1){let d=R();c(0,"app-autocomplete",null,0),A(2,oe,2,0,"ng-template",1),a(),c(3,"div",2)(4,"app-view-header-icon-section",3)(5,"div",4)(6,"input",5),j("ngModelChange",function(g){return P(d),G(s.value,g)||(s.value=g),S(g)}),a(),c(7,"i",6),N("click",function(){return P(d),S(s.search())}),a()()(),f(8,de,10,1,"div",7),a()}if(i&2){let d=L(1);r(4),l("tabs",s.tabs),r(2),I("ngModel",s.value),l("appAutocompleteControl",s)("appAutocomplete",d),r(2),O(s.query?8:-1)}},dependencies:[F,q,B,w,W,V,Q,K,Z,ee,J,D,U],styles:["[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{border-radius:3px;padding-left:3px;padding-right:3px;align-items:center;background-color:var(--input);border:1px solid var(--input-border)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;min-height:28px;background-color:var(--input);color:var(--on-input)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--on-input);font-size:14px;cursor:pointer}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--on-input-hover)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{width:100%;display:flex;min-height:30px}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:calc(100% - 24px)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 5px 5px}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media (max-width: 522px){[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}}"]});let e=o;return e})();export{xe as SearchPageComponent};
