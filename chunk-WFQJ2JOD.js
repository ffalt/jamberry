import{a as E,b as O}from"./chunk-V6GDRA44.js";import{Da as f,Rb as r,Sb as c,Tb as d,Uc as g,Vc as l,_c as b,ab as s,ec as m,ia as a,nb as p,pb as u,rc as h,tc as _,uc as v}from"./chunk-H2EXZDP6.js";var M=(()=>{let t=class t{constructor(){this.viewTypeList=b(!1),this.headline=l()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=p({type:t,selectors:[["app-view-type-toggle"]],inputs:{viewTypeList:[1,"viewTypeList"],headline:[1,"headline"]},outputs:{viewTypeList:"viewTypeListChange"},decls:8,vars:5,consts:()=>{let e;e=$localize`:␟6957187f10bef7578ae39f9d8d5d23b90b57d36a␟7812652214482641791:View as List`;let i;return i=$localize`:␟cac122bb27896420fe3b9d79884161a1e069c748␟7523937793320218832:View as Tiles`,[[1,"view-type"],[1,"section-title"],[1,"buttons"],["title",e,3,"click"],[1,"icon-view-details"],["title",i,3,"click"],[1,"icon-view-tiles"]]},template:function(i,o){i&1&&(r(0,"div",0)(1,"span",1),_(2),c(),r(3,"div",2)(4,"a",3),m("click",function(){return o.viewTypeList.set(!0)}),d(5,"i",4),c(),r(6,"a",5),m("click",function(){return o.viewTypeList.set(!1)}),d(7,"i",6),c()()()),i&2&&(s(2),v(o.headline()),s(2),h("active",o.viewTypeList()),s(2),h("active",!o.viewTypeList()))},styles:["[_nghost-%COMP%]{border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:var(--background-border)}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]{min-height:30px;margin-top:10px;margin-bottom:10px}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-top:10px;color:var(--on-control-ambient)}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px;border-radius:50%;font-size:.6em;margin-left:2px;color:var(--on-background);-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--background-hover);color:var(--on-background-hover)}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:var(--background-active);color:var(--on-background-active)}"]});let n=t;return n})();var N=(()=>{let t=class t{constructor(){this.preRender=l(!1),this.appDeferLoad=g(),this.elementRef=a(f),this.deferLoadService=a(O),this.timeoutLoadMS=50}ngAfterViewInit(){this.deferLoadService.isBrowser?this.deferLoadService.hasIntersectionObserver?this.registerIntersectionObserver():this.addScrollListeners():this.preRender()&&this.load()}ngOnDestroy(){this.removeListeners()}static getScrollPosition(){return window.scrollY+(document.documentElement.clientHeight||document.body.clientHeight)}loadAndUnobserve(){this.load(),this.intersectionObserver&&this.elementRef.nativeElement&&this.intersectionObserver.unobserve(this.elementRef.nativeElement)}cancelDelayLoad(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}delayLoad(){this.timeoutId||(this.timeoutId=setTimeout(()=>{this.loadAndUnobserve(),this.cancelDelayLoad()},this.timeoutLoadMS))}manageIntersection(e){this.checkIfIntersecting(e)?this.delayLoad():this.cancelDelayLoad()}registerIntersectionObserver(){this.intersectionObserver||(this.intersectionObserver=this.deferLoadService.getObserver(),this.elementRef.nativeElement&&(this.intersectionObserver.observe(this.elementRef.nativeElement),this.observeSubscription=this.deferLoadService.observeNotify.subscribe(e=>{this.checkForIntersection(e)})))}checkForIntersection(e){for(let i of e)i.target===this.elementRef.nativeElement&&this.manageIntersection(i)}checkIfIntersecting(e){return e.time?e.isIntersecting:this.isVisible()}load(){this.removeListeners(),this.appDeferLoad.emit()}loadFromScroll(){setTimeout(()=>{this.load()})}addScrollListeners(){this.scrollSubscription=this.deferLoadService.scrollNotify.subscribe(e=>{this.checkInView(e.rect)&&this.loadFromScroll()}),setTimeout(()=>{this.checkInView(this.deferLoadService.currentViewport)&&this.loadFromScroll()})}removeListeners(){this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.observeSubscription&&this.observeSubscription.unsubscribe()}checkInView(e){return this.elementRef.nativeElement?E.fromElement(this.elementRef.nativeElement).intersectsWithY(e):!1}isVisible(){if(!this.elementRef.nativeElement)return!1;let e=t.getScrollPosition();return this.elementRef.nativeElement.offsetTop<=e}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=u({type:t,selectors:[["","appDeferLoad",""]],inputs:{preRender:[1,"preRender"]},outputs:{appDeferLoad:"appDeferLoad"}});let n=t;return n})();export{N as a,M as b};
