import{a as D}from"./chunk-N3BR22SV.js";import{a as V}from"./chunk-42XSKI6Y.js";import{a as K}from"./chunk-F5YR3CZ5.js";import{a as W,b as J,c as U,d as Z}from"./chunk-HN4G6ZVV.js";import{a as z}from"./chunk-3T5XCEXC.js";import"./chunk-EUAKOWGB.js";import"./chunk-ILDEMCQX.js";import"./chunk-3QJCEZQC.js";import"./chunk-LMBWQPDX.js";import"./chunk-HJOPBEHX.js";import"./chunk-VTBMZQVI.js";import"./chunk-TUZFBHPK.js";import"./chunk-HURYLTUC.js";import"./chunk-PWX7D7BF.js";import"./chunk-LXRIBXQ3.js";import"./chunk-3KEFNAKY.js";import{a as Q}from"./chunk-FGYCS4BL.js";import"./chunk-YK3EIVMC.js";import"./chunk-2PUJQAN6.js";import"./chunk-YNWWGJWK.js";import{i as Y}from"./chunk-QH72VV2F.js";import"./chunk-VZVRBD6P.js";import"./chunk-CDMVSZCB.js";import"./chunk-UZYU4GV7.js";import"./chunk-K4DVWEJI.js";import"./chunk-UVO2NCSB.js";import"./chunk-24DMSAFT.js";import{c as $,d as q,g as B,o as w}from"./chunk-XTLMNK2P.js";import"./chunk-GXCVGDS5.js";import"./chunk-J5MSA5AP.js";import"./chunk-3CQO2UIK.js";import"./chunk-PZKV7YRJ.js";import"./chunk-4LEAF22C.js";import"./chunk-EAERQNF5.js";import"./chunk-5EJKCVNW.js";import"./chunk-CQEFCIFT.js";import"./chunk-TT7XXVKE.js";import"./chunk-LV2G3RH6.js";import"./chunk-5NZQP5GA.js";import"./chunk-QWPA4HIO.js";import"./chunk-CTEOCYOX.js";import"./chunk-EPPWFHNT.js";import"./chunk-K64Q6LJ6.js";import"./chunk-ZMFSGBQT.js";import"./chunk-B4HPT77T.js";import{Bc as u,Cb as b,Cc as j,Db as P,Dc as k,Fb as A,Fc as H,Gb as T,Hb as v,Ib as c,Jb as r,Kb as o,Lb as p,Td as F,Ua as E,Vb as x,Xd as X,Za as a,_b as R,ac as s,e as S,fa as g,ka as f,kc as N,la as O,mb as M,rb as y,tc as L,uc as I,vc as G}from"./chunk-S3YUDFSI.js";var C=t=>({query:t}),ee=(t,i)=>({query:t,albumType:i});function te(t,i){if(t&1&&(r(0,"app-autocomplete-option",8),p(1,"span",9),k(2,"highlight"),o()),t&2){let e=i.$implicit,n=s().control;c("option",e)("control",n),a(),c("innerHTML",H(2,3,e.data.name,n.query),E)}}function ne(t,i){if(t&1&&T(0,te,3,6,"app-autocomplete-option",8,A),t&2){let e=i.control;v(e.options)}}function oe(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.albumLoader)("searchQuery",u(2,C,e.query))}}function ie(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.artistLoader)("searchQuery",j(2,ee,e.query,e.AlbumType.album))}}function ae(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.podcastLoader)("searchQuery",u(2,C,e.query))}}function re(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.seriesLoader)("searchQuery",u(2,C,e.query))}}function ce(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.playlistLoader)("searchQuery",u(2,C,e.query))}}function le(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.folderLoader)("searchQuery",u(2,C,e.query))}}function se(t,i){if(t&1&&(r(0,"div",11),p(1,"app-episodes-loader",13),o()),t&2){let e=s(2);a(),c("query",e.query)}}function pe(t,i){if(t&1&&(r(0,"div",11),p(1,"app-tracks-loader",13),o()),t&2){let e=s(2);a(),c("query",e.query)}}function _e(t,i){if(t&1&&(r(0,"div",7)(1,"div",10),b(2,oe,2,4,"div",11)(3,ie,2,5,"div",11)(4,ae,2,4,"div",11)(5,re,2,4,"div",11)(6,ce,2,4,"div",11)(7,le,2,4,"div",11)(8,se,2,1,"div",11)(9,pe,2,1,"div",11),o()()),t&2){let e,n=s();a(2),P((e=n.currentTab.id)===n.tabsObjs.albums.id?2:e===n.tabsObjs.artists.id?3:e===n.tabsObjs.podcasts.id?4:e===n.tabsObjs.series.id?5:e===n.tabsObjs.playlists.id?6:e===n.tabsObjs.folders.id?7:e===n.tabsObjs.episodes.id?8:e===n.tabsObjs.tracks.id?9:-1)}}var _=()=>{},ve=(()=>{class t{constructor(){this.library=g(Y),this.AlbumType=F,this.value="",this.query="",this.tabsObjs={artists:{id:"artist",label:"Artist",click:_},albums:{id:"album",label:"Album",click:_},folders:{id:"folder",label:"Folder",click:_},podcasts:{id:"podcast",label:"Podcast",click:_},episodes:{id:"episode",label:"Episodes",click:_},series:{id:"series",label:"Series",click:_},playlists:{id:"playlist",label:"Playlist",click:_},tracks:{id:"track",label:"Track",click:_}},this.currentTab=this.tabsObjs.artists,this.tabs=Object.keys(this.tabsObjs).map(e=>{let n=this.tabsObjs[e];return n.click=()=>{this.setCurrentTab(n)},n}),this.jam=g(X),this.currentTab=this.tabsObjs.artists,this.currentTab.active=!0}setCurrentTab(e){this.currentTab=e;for(let n of this.tabs)n.active=!1;e.active=!0,this.search()}search(){this.query=this.value}autocompleteSelectResult(e){return this.value=e.data.name,this.search(),this.value}autocompleteGetData(e){return S(this,null,function*(){let n={query:e,[this.currentTab.id]:10};return((yield this.jam.autocomplete.autocomplete(n))[`${this.currentTab.id}s`]??[]).map(m=>({data:m}))})}autocompleteEnter(e){this.value=e,this.search()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=M({type:t,selectors:[["app-page-search"]],decls:9,vars:5,consts:()=>{let e;e=$localize`:␟28e6a96bb0aab7b4d624822812d8be756e64c84d␟8969547881326047567:icon-search`;let n;n=$localize`:␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`;let l;l=$localize`:␟d7f33248b7e33cc2c1843bfe84f4bdbc1776124e␟3712763448239725249:Search here`;let d;return d=$localize`:␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`,[["autocomplete","appAutocomplete"],["appAutocompleteContent",""],[1,"search"],["icon",e,"section",n,3,"tabs"],[1,"input-box"],["autocomplete","off","name","query","placeholder",l,"type","text",3,"ngModelChange","ngModel","appAutocompleteControl","appAutocomplete"],["title",d,1,"icon-search",3,"click"],[1,"content"],[3,"option","control"],[3,"innerHTML"],[1,"tab-content"],[1,"tab-pane"],[3,"loader","searchQuery"],[3,"query"]]},template:function(n,l){if(n&1){let d=x();r(0,"app-autocomplete",null,0),y(2,ne,2,0,"ng-template",1),o(),r(3,"div",2)(4,"app-view-header-icon-section",3)(5,"div",4)(6,"input",5),G("ngModelChange",function(h){return f(d),I(l.value,h)||(l.value=h),O(h)}),o(),r(7,"i",6),R("click",function(){return l.search()}),o()()(),b(8,_e,10,1,"div",7),o()}if(n&2){let d=N(1);a(4),c("tabs",l.tabs),a(2),L("ngModel",l.value),c("appAutocompleteControl",l)("appAutocomplete",d),a(2),P(l.query?8:-1)}},dependencies:[w,$,q,B,V,D,z,J,U,Z,W,Q,K],styles:["[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{border-radius:3px;padding-left:3px;padding-right:3px;align-items:center;background-color:var(--input);border:1px solid var(--input-border)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;min-height:28px;background-color:var(--input);color:var(--on-input)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--on-input);font-size:14px;cursor:pointer}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--on-input-hover)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{width:100%;display:flex;min-height:30px}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:calc(100% - 24px)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 5px 5px}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media(max-width:522px){[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}}"]})}}return t})();export{ve as SearchPageComponent};
