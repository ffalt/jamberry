import{c as z}from"./chunk-XP5ERWDG.js";import{b as H}from"./chunk-4K2FA6DD.js";import{c as U}from"./chunk-F6BYEP4R.js";import{h as q,i as B,j as R}from"./chunk-T6GM3CFW.js";import{Fc as K,Hb as L,Ib as V,Lb as y,Mb as b,Nb as v,Ob as d,Pb as p,Qb as E,Uc as O,Vc as u,Wc as j,Xc as P,_b as h,ab as s,dc as g,fc as _,gc as A,hc as F,ia as N,na as l,nb as f,nc as C,oa as c,oc as w,rc as M,sc as I,tc as x,uc as Q,vc as $}from"./chunk-H2EXZDP6.js";var G=["item"],J=()=>({exact:!1}),k=(()=>{let n=class n{constructor(){this.entry=u(),this.navigate=O(),this.element=j("item")}clickEntry(){this.navigate.emit()}focus(){this.element()?.nativeElement.focus()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=f({type:n,selectors:[["app-sidebar-list-item"]],viewQuery:function(e,t){e&1&&C(t.element,G,5),e&2&&w()},inputs:{entry:[1,"entry"]},outputs:{navigate:"navigate"},decls:4,vars:6,consts:[["item",""],["routerLinkActive","active","tabindex","-1",1,"item",3,"click","keydown.enter","routerLinkActiveOptions","routerLink"],["aria-hidden","true"]],template:function(e,t){if(e&1){let a=h();d(0,"a",1,0),g("click",function(){return l(a),c(t.clickEntry())})("keydown.enter",function(){return l(a),c(t.clickEntry())}),E(2,"i",2),x(3),p()}if(e&2){let a,m,D,T;v("routerLinkActiveOptions",((a=t.entry())==null?null:a.options)||K(5,J))("routerLink",(m=t.entry())==null?null:m.link),s(2),I((D=t.entry())==null?null:D.icon),s(),$(" ",(T=t.entry())==null?null:T.name,`
`)}},dependencies:[R,B],styles:["[_nghost-%COMP%]   .item[_ngcontent-%COMP%]{color:var(--on-control);padding:5px 0;display:flex;flex-flow:row nowrap;align-items:center;border-right-width:3px;border-right-style:solid;border-right-color:transparent;transition:all .1s ease-in-out;transform-origin:left center}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   app-coverart-image[_ngcontent-%COMP%]{margin-right:6px}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:25px;display:block}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]:hover{color:var(--on-control-hover);border-right-color:var(--primary)}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]:focus{border-right-color:var(--secondary)}[_nghost-%COMP%]   .item.active[_ngcontent-%COMP%]{color:var(--on-control-active);transform:scale(1.1)}@media (max-width: 768px){[_nghost-%COMP%]   .item[_ngcontent-%COMP%]{line-height:1.5em}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]:hover{border-right-width:0}}"]});let i=n;return i})();var X=(i,n)=>n.link;function Y(i,n){if(i&1){let r=h();d(0,"li")(1,"app-sidebar-list-item",2),g("navigate",function(){l(r);let e=_(3);return c(e.onNavigate())}),p()()}if(i&2){let r=n.$implicit;s(),v("entry",r)}}function Z(i,n){if(i&1&&(d(0,"ul",1),y(1,Y,2,1,"li",null,X),p()),i&2){let r=_();s(),b(r.entries)}}function ee(i,n){if(i&1){let r=h();d(0,"a",0),g("click",function(){l(r);let e=_();return c(e.toggle())})("keydown.enter",function(){l(r);let e=_();return c(e.toggle())}),x(1),p(),L(2,Z,3,0,"ul",1)}if(i&2){let r=_();s(),Q(n.name),s(),V(r.collapsed?-1:2)}}function me(i,n){let r=H.find(t=>t.path===n),o={name:r.data?.name??"",icon:r.data?.icon??"",link:`/${n}`,options:{exact:!0}},e=(r.children??[]).filter(t=>t.path&&t.path.length>0&&t.data?.name).map(t=>{let a=t.data?.link??t.path;return{name:t.data?.name??"",icon:t.data?.icon??"",link:`/${r.path}/${a}`}});return{name:i,entries:[o,...e]}}var S=(()=>{let n=class n{constructor(){this.list=u.required(),this.items=P(k),this.navigate=O(),this.collapsed=!1}onNavigate(){this.navigate.emit()}toggle(){this.collapsed=!this.collapsed}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=f({type:n,selectors:[["app-sidebar-list"]],viewQuery:function(e,t){e&1&&C(t.items,k,5),e&2&&w()},hostVars:2,hostBindings:function(e,t){e&2&&M("active",t.collapsed)},inputs:{list:[1,"list"]},outputs:{navigate:"navigate"},decls:1,vars:1,consts:[["role","button",1,"header",3,"click","keydown.enter"],[1,"index-list-content"],[3,"navigate","entry"]],template:function(e,t){if(e&1&&L(0,ee,3,2),e&2){let a;V((a=t.list())?0:-1,a)}},dependencies:[k],styles:['[_nghost-%COMP%]{display:flex;flex-flow:column wrap;margin-bottom:15px}[_nghost-%COMP%]   .index-list-content[_ngcontent-%COMP%]{padding:0;list-style:none;margin:0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{color:var(--on-control-ambient);font-size:11px;text-transform:uppercase;letter-spacing:1px;margin-bottom:5px;cursor:pointer;-webkit-user-select:none;user-select:none;border-right-width:3px;border-right-style:solid;border-right-color:transparent}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:after{font-family:jam;content:"\\e804";padding-left:4px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:hover{color:var(--on-control-ambient-hover)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:hover:after{color:var(--primary)}.active[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:after{content:"\\e807"}@media (max-width: 768px){[_nghost-%COMP%]{flex:1}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{border-right-width:0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:after{content:""}}']});let i=n;return i})();var te=["*"],ne=(i,n)=>n.name;function ie(i,n){if(i&1){let r=h();d(0,"app-sidebar-list",2),g("navigate",function(){l(r);let e=_();return c(e.onNavigate())}),p()}if(i&2){let r=n.$implicit;v("list",r)}}var we=(()=>{let n=class n{constructor(){this.sections=u([]),this.listName=u(""),this.collapsed=!1,this.showMobileNavig=!1,this.app=N(z),this.router=N(q),this.items=P(S)}ngOnInit(){this.app.view.currentSidebar=this,this.router.events.forEach(()=>{this.showMobileNavig=!1}).catch(o=>{console.error(o)})}ngOnDestroy(){this.app.view.currentSidebar=void 0}toggleMobileNavig(){this.showMobileNavig=!this.showMobileNavig}onNavigate(){this.showMobileNavig=!1}manageKey(o){this.keyManager?.onKeydown(o)}ngAfterViewInit(){let o=this.items().map(t=>t.items()),e=[].concat(...o);this.keyManager=new U(e).withWrap()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=f({type:n,selectors:[["app-sidebar"]],viewQuery:function(e,t){e&1&&C(t.items,S,5),e&2&&w()},hostVars:4,hostBindings:function(e,t){e&2&&M("active",t.collapsed)("show",t.showMobileNavig)},inputs:{sections:[1,"sections"],listName:[1,"listName"]},ngContentSelectors:te,decls:4,vars:0,consts:[["tabindex","0",1,"navigation",3,"keydown.arrowDown","keydown.arrowUp"],[3,"list"],[3,"navigate","list"]],template:function(e,t){e&1&&(A(),d(0,"nav",0),g("keydown.arrowDown",function(m){return t.manageKey(m)})("keydown.arrowUp",function(m){return t.manageKey(m)}),y(1,ie,1,1,"app-sidebar-list",1,ne),p(),F(3)),e&2&&(s(),b(t.sections()))},dependencies:[S],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column wrap;margin-bottom:15px;height:100%;padding:1px}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]{padding:15px;flex-grow:1;width:100%;overflow-y:auto;overflow-x:hidden;background-color:var(--background-sidebar);color:var(--on-control)}@media (max-width: 768px){[_nghost-%COMP%]{display:none}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]{position:fixed;z-index:10;flex:unset;max-height:calc(100% - 60px);flex-flow:row wrap;border-bottom:1px solid var(--control-box-border)}.show[_nghost-%COMP%]{display:flex}}"]});let i=n;return i})();export{me as a,we as b};
