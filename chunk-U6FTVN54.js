import{a as x}from"./chunk-GKTR2NP4.js";import{a as C}from"./chunk-XNNXFOR6.js";import"./chunk-CN2OCJDW.js";import"./chunk-DYL3URTZ.js";import"./chunk-WNHKVE3C.js";import{i as M}from"./chunk-SCLJ3VCI.js";import"./chunk-DGTK7RHM.js";import"./chunk-PEPRZYDQ.js";import"./chunk-AFPGMN6L.js";import"./chunk-L6NQU2BC.js";import"./chunk-4UFWK3HC.js";import"./chunk-24DMSAFT.js";import"./chunk-SCY3FOMN.js";import"./chunk-FU6C5Z5T.js";import"./chunk-6WISUSLE.js";import"./chunk-NWR5JEWI.js";import"./chunk-3XAJ3MB2.js";import"./chunk-3VLHYTEX.js";import"./chunk-AKA224Y7.js";import"./chunk-RJHPSDKR.js";import"./chunk-MTB5HHEE.js";import"./chunk-TT7XXVKE.js";import{c as o,e as y}from"./chunk-ZBZLQTZR.js";import"./chunk-6SWJ3F4P.js";import"./chunk-N4AK7Z46.js";import"./chunk-FQC6PRY2.js";import"./chunk-ITVL4IJL.js";import"./chunk-JI2YWTPQ.js";import"./chunk-3LOKQP2Q.js";import{f as b,g as f,k as g}from"./chunk-MFAW4R34.js";import{$b as m,Jb as d,Kb as r,Lb as c,Mb as h,U as p,_a as l,fa as s,j as a,nb as u}from"./chunk-XLNNDSL4.js";var H=(()=>{class i{constructor(){this.hasContextMenu=!1,this.route=s(b),this.unsubscribe=new a,this.library=s(M)}ngOnInit(){this.route.url.pipe(p(this.unsubscribe)).subscribe(t=>{let e=y(t);switch(this.type=e,this.hasContextMenu=!1,this.sectionType=e?.category,this.icon=e?.icon,this.section=e?.text,e?.id){case o.podcasts:{this.hasContextMenu=!!this.library.jam.auth.user?.roles.podcast;break}case o.playlists:{this.hasContextMenu=!0;break}default:}this.tabs=e?.id?this.library.buildTabs(e.id):void 0})}onContextMenu(t){if(this.hasContextMenu)switch(this.type?.id){case o.podcasts:{this.library.openSimpleMenu([{text:"New Podcast",icon:"icon-list-add",click:()=>{this.library.navig.toPodcastSearch()}},{text:"Refresh Podcast Feeds",icon:"icon-rescan",click:()=>{this.library.podcastService.checkPodcasts()}}],t);break}case o.playlists:{this.library.openSimpleMenu([{text:"New Playlist",icon:"icon-list-add",click:()=>{this.library.playlistDialogsService.newPlaylist()}}],t);break}default:}}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-page-objs"]],decls:4,vars:5,consts:[["appDeferLoadScrollHost","",1,"objects"],[3,"contextMenuRequest","hasContextMenu","icon","sectionType","section","tabs"],[1,"content"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"app-view-header-icon-section",1),m("contextMenuRequest",function(P){return n.onContextMenu(P)}),c(),r(2,"div",2),h(3,"router-outlet"),c()()),e&2&&(l(),d("hasContextMenu",n.hasContextMenu)("icon",n.icon)("sectionType",n.sectionType)("section",n.section)("tabs",n.tabs))},dependencies:[g,f,x,C],styles:["[_nghost-%COMP%]   .objects[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .objects[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 5px 5px}[_nghost-%COMP%]   .objects[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media(max-width:522px){[_nghost-%COMP%]   .objects[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}}"]})}}return i})();export{H as ObjsPageComponent};
