import{a as E}from"./chunk-X4HLLE23.js";import"./chunk-VSMEHVNZ.js";import{a as I}from"./chunk-W2NMQGHF.js";import"./chunk-NVLAWCOW.js";import"./chunk-NV464EDQ.js";import"./chunk-WFQJ2JOD.js";import"./chunk-REI5CXDR.js";import"./chunk-N2Q3XI4X.js";import"./chunk-6VWQ7JC4.js";import{a as S}from"./chunk-XGGDZPWO.js";import"./chunk-MQ5GQMNI.js";import"./chunk-6WAGYCOA.js";import"./chunk-UPKF4LSO.js";import"./chunk-V6GDRA44.js";import{a as O,i as y}from"./chunk-NNT52QCM.js";import"./chunk-6UV7XVIR.js";import"./chunk-SDT7PSNL.js";import"./chunk-4K2FA6DD.js";import"./chunk-AIQOHZWK.js";import"./chunk-N2K5OS3Y.js";import"./chunk-24DMSAFT.js";import"./chunk-Y5Z5ITNC.js";import"./chunk-ORVGIZVG.js";import"./chunk-K7RVMPTP.js";import"./chunk-MHPFTM2Z.js";import"./chunk-T2QKBMPN.js";import"./chunk-DYCPZPVS.js";import"./chunk-CXISAAQ7.js";import"./chunk-BNP52TDG.js";import"./chunk-F6BYEP4R.js";import"./chunk-VP6KNDS4.js";import"./chunk-D2CLWX7O.js";import"./chunk-AQDYGNZB.js";import"./chunk-W76RWN3H.js";import"./chunk-FQC6PRY2.js";import{a as T}from"./chunk-PZTZCA44.js";import"./chunk-4HNSRH53.js";import{G as x}from"./chunk-ZVKVGF76.js";import{f as g}from"./chunk-T6GM3CFW.js";import{$d as b,Hb as c,Ib as p,Nb as f,Ob as m,Pb as a,Qb as d,Y as v,ab as r,ac as h,fc as l,ia as s,k as _,nb as C}from"./chunk-H2EXZDP6.js";function A(t,i){if(t&1&&(m(0,"div",4)(1,"div",5),h(2,0),a(),d(3,"app-info-note",6),a()),t&2){let n=l(2);r(3),f("info",n.artist.info)}}function R(t,i){if(t&1&&(m(0,"div",1),c(1,A,4,1,"div",4),a()),t&2){let n=l();r(),p(n.artist.info?1:-1)}}function M(t,i){t&1&&d(0,"app-loading")}function w(t,i){if(t&1&&(m(0,"div",2),d(1,"app-obj-groups-view",7),a()),t&2){let n=l();r(),f("objs",n.albums)("viewTypeList",!0)("grouping",!0)}}function N(t,i){if(t&1&&(m(0,"div",3),d(1,"app-tracks-loader",8),a()),t&2){let n=l();r(),f("queryCmd",n.tracksQuery)}}var J=(()=>{let i=class i{constructor(){this.library=s(y),this.notify=s(x),this.jam=s(b),this.route=s(g),this.unsubscribe=new _}ngOnInit(){this.route.paramMap.pipe(v(this.unsubscribe)).subscribe(e=>{this.id=e.get("id")??void 0,this.refresh()})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}refresh(){this.artist=void 0,this.albums=void 0,this.tracksQuery=void 0,this.id&&this.jam.artist.id({id:this.id,artistIncState:!0,artistIncAlbums:!0,artistIncGenres:!0,albumIncState:!0,artistIncInfo:!0}).then(e=>{this.artist=e,this.albums=(e.albums??[]).map(o=>new O(o,this.library)),this.albums.length===0&&(this.tracksQuery={artistIDs:[this.artist.id]})}).catch(e=>{this.notify.error(e)})}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=C({type:i,selectors:[["app-artist-overview"]],decls:4,vars:3,consts:()=>{let e;return e=$localize`:␟eec715de352a6b114713b30b640d319fa78207a0␟4902817035128594900:Description`,[e,[1,"overview"],[1,"artist-albums"],[1,"artist-tracks"],[1,"info"],[1,"section-title"],[3,"info"],[3,"objs","viewTypeList","grouping"],[3,"queryCmd"]]},template:function(o,u){o&1&&(c(0,R,2,1,"div",1)(1,M,1,0,"app-loading"),c(2,w,2,3,"div",2),c(3,N,2,1,"div",3)),o&2&&(p(u.artist?0:1),r(2),p(u.albums&&!u.tracksQuery?2:-1),r(),p(u.tracksQuery?3:-1))},dependencies:[E,I,T,S],styles:["[_nghost-%COMP%]{padding:0 5px 5px}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media (max-width: 522px){[_nghost-%COMP%]{padding-left:10px;padding-right:10px}}"]});let t=i;return t})();export{J as ArtistOverviewComponent};
