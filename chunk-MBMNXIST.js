import{c as H}from"./chunk-4RUMNACR.js";import{b as W}from"./chunk-UZYU4GV7.js";import{c as z}from"./chunk-CQEFCIFT.js";import{h as B,i as U,j as R}from"./chunk-B4HPT77T.js";import{Ac as K,Cb as L,Db as N,Gb as b,Hb as w,Ib as h,Jb as s,Kb as l,Lb as E,Pc as x,Qc as m,Rc as q,Sc as O,U as I,Vb as C,Za as a,_b as d,ac as p,bc as A,cc as F,fa as S,ic as f,j as V,jc as v,ka as _,la as g,mb as u,mc as y,nc as Q,oc as M,pc as $,qc as j}from"./chunk-S3YUDFSI.js";var J=["item"],X=()=>({exact:!1}),P=(()=>{class i{constructor(){this.entry=m(),this.navigate=x(),this.element=q("item")}clickEntry(){this.navigate.emit()}focus(){this.element()?.nativeElement.focus()}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-sidebar-list-item"]],viewQuery:function(e,t){e&1&&f(t.element,J,5),e&2&&v()},inputs:{entry:[1,"entry"]},outputs:{navigate:"navigate"},decls:4,vars:6,consts:[["item",""],["routerLinkActive","active","tabindex","-1",1,"item",3,"click","keydown.enter","routerLinkActiveOptions","routerLink"],["aria-hidden","true"]],template:function(e,t){if(e&1&&(s(0,"a",1,0),d("click",function(){return t.clickEntry()})("keydown.enter",function(){return t.clickEntry()}),E(2,"i",2),M(3),l()),e&2){let o,c,D,T;h("routerLinkActiveOptions",((o=t.entry())==null?null:o.options)||K(5,X))("routerLink",(c=t.entry())==null?null:c.link),a(2),Q((D=t.entry())==null?null:D.icon),a(),j(" ",(T=t.entry())==null?null:T.name,`
`)}},dependencies:[R,U],styles:["[_nghost-%COMP%]   .item[_ngcontent-%COMP%]{color:var(--on-control);padding:5px 0;display:flex;flex-flow:row nowrap;align-items:center;border-right-width:3px;border-right-style:solid;border-right-color:transparent;transition:all .1s ease-in-out;transform-origin:left center}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   app-coverart-image[_ngcontent-%COMP%]{margin-right:6px}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:25px;display:block}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]:hover{color:var(--on-control-hover);border-right-color:var(--primary)}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]:focus{border-right-color:var(--secondary)}[_nghost-%COMP%]   .item.active[_ngcontent-%COMP%]{color:var(--on-control-active);transform:scale(1.1)}@media(max-width:768px){[_nghost-%COMP%]   .item[_ngcontent-%COMP%]{line-height:1.5em}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]:hover{border-right-width:0}}"]})}}return i})();var Y=(i,r)=>r.link;function Z(i,r){if(i&1){let n=C();s(0,"li")(1,"app-sidebar-list-item",2),d("navigate",function(){_(n);let t=p(3);return g(t.onNavigate())}),l()()}if(i&2){let n=r.$implicit;a(),h("entry",n)}}function ee(i,r){if(i&1&&(s(0,"ul",1),b(1,Z,2,1,"li",null,Y),l()),i&2){let n=p();a(),w(n.entries)}}function te(i,r){if(i&1){let n=C();s(0,"a",0),d("click",function(){_(n);let t=p();return g(t.toggle())})("keydown.enter",function(){_(n);let t=p();return g(t.toggle())}),M(1),l(),L(2,ee,3,0,"ul",1)}if(i&2){let n=p();a(),$(r.name),a(),N(n.collapsed?-1:2)}}function _e(i,r){let n=W.find(o=>o.path===r),e={name:n.data?.name??"",icon:n.data?.icon??"",link:`/${r}`,options:{exact:!0}},t=(n.children??[]).filter(o=>o.path&&o.path.length>0&&o.data?.name).map(o=>{let c=o.data?.link??o.path;return{name:o.data?.name??"",icon:o.data?.icon??"",link:`/${n.path}/${c}`}});return{name:i,entries:[e,...t]}}var k=(()=>{class i{constructor(){this.list=m.required(),this.items=O(P),this.navigate=x(),this.collapsed=!1}onNavigate(){this.navigate.emit()}toggle(){this.collapsed=!this.collapsed}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-sidebar-list"]],viewQuery:function(e,t){e&1&&f(t.items,P,5),e&2&&v()},hostVars:2,hostBindings:function(e,t){e&2&&y("active",t.collapsed)},inputs:{list:[1,"list"]},outputs:{navigate:"navigate"},decls:1,vars:1,consts:[["role","button",1,"header",3,"click","keydown.enter"],[1,"index-list-content"],[3,"navigate","entry"]],template:function(e,t){if(e&1&&L(0,te,3,2),e&2){let o;N((o=t.list())?0:-1,o)}},dependencies:[P],styles:['[_nghost-%COMP%]{display:flex;flex-flow:column wrap;margin-bottom:15px}[_nghost-%COMP%]   .index-list-content[_ngcontent-%COMP%]{padding:0;list-style:none;margin:0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{color:var(--on-control-ambient);font-size:11px;text-transform:uppercase;letter-spacing:1px;margin-bottom:5px;cursor:pointer;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:after{font-family:jam;content:"\\e804";padding-left:4px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:hover{color:var(--on-control-ambient-hover)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:hover:after{color:var(--primary)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{border-right-width:3px;border-right-style:solid;border-right-color:transparent}.active[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:after{content:"\\e807"}@media(max-width:768px){[_nghost-%COMP%]{flex:1}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{border-right-width:0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:after{content:""}}']})}}return i})();var ne=["*"],ie=(i,r)=>r.name;function oe(i,r){if(i&1){let n=C();s(0,"app-sidebar-list",2),d("navigate",function(){_(n);let t=p();return g(t.onNavigate())}),l()}if(i&2){let n=r.$implicit;h("list",n)}}var ye=(()=>{class i{constructor(){this.sections=m([]),this.listName=m(""),this.collapsed=!1,this.showMobileNavig=!1,this.app=S(H),this.router=S(B),this.items=O(k),this.unsubscribe=new V}ngOnInit(){this.app.view.currentSidebar=this,this.router.events.pipe(I(this.unsubscribe)).subscribe(()=>{this.showMobileNavig=!1})}ngOnDestroy(){this.app.view.currentSidebar=void 0,this.unsubscribe.next(),this.unsubscribe.complete()}toggleMobileNavig(){this.showMobileNavig=!this.showMobileNavig}onNavigate(){this.showMobileNavig=!1}manageKey(n){this.keyManager?.onKeydown(n)}ngAfterViewInit(){let n=this.items().map(t=>t.items()),e=[].concat(...n);this.keyManager=new z(e).withWrap()}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-sidebar"]],viewQuery:function(e,t){e&1&&f(t.items,k,5),e&2&&v()},hostVars:4,hostBindings:function(e,t){e&2&&y("active",t.collapsed)("show",t.showMobileNavig)},inputs:{sections:[1,"sections"],listName:[1,"listName"]},ngContentSelectors:ne,decls:4,vars:0,consts:[["tabindex","0",1,"navigation",3,"keydown.arrowDown","keydown.arrowUp"],[3,"list"],[3,"navigate","list"]],template:function(e,t){e&1&&(A(),s(0,"nav",0),d("keydown.arrowDown",function(c){return t.manageKey(c)})("keydown.arrowUp",function(c){return t.manageKey(c)}),b(1,oe,1,1,"app-sidebar-list",1,ie),l(),F(3)),e&2&&(a(),w(t.sections()))},dependencies:[k],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column wrap;margin-bottom:15px;height:100%;padding:1px}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]{padding:15px;flex-grow:1;width:100%;overflow-y:auto;overflow-x:hidden;background-color:var(--background-sidebar);color:var(--on-control)}@media(max-width:768px){[_nghost-%COMP%]{display:none}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]{position:fixed;z-index:10;flex:unset;max-height:calc(100% - 60px);flex-flow:row wrap;border-bottom:1px solid var(--control-box-border)}.show[_nghost-%COMP%]{display:flex}}"]})}}return i})();export{_e as a,ye as b};
