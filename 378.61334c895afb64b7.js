"use strict";(self.webpackChunkjamberry=self.webpackChunkjamberry||[]).push([[378],{6378:(J,h,g)=>{g.r(h),g.d(h,{PodcastSearchPageModule:()=>r});var d=g(1180),_=g(6895),i=g(433),M=g(1491),O=g(6434),l=g(2170),m=g(3689),t=g(4650),C=g(9291),u=g(2747),f=g(5324),v=g(7480);function x(e,o){1&e&&t._UZ(0,"app-loading",10),2&e&&t.Q6J("time",0)}function b(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1,"No Results"),t.qZA())}function Z(e,o){if(1&e&&t._UZ(0,"img",26),2&e){const n=t.oxw().$implicit;t.Q6J("src",n.logoUrl,t.LSH)}}function S(e,o){if(1&e&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("ngValue",n),t.xp6(1),t.Oqu(n.displayURL)}}function y(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.YNc(2,Z,1,1,"img",16),t.qZA(),t.TgZ(3,"div",17)(4,"div",18),t._uU(5,"Podcast"),t.qZA(),t.TgZ(6,"div",19),t._uU(7),t.qZA(),t.TgZ(8,"div",20),t._uU(9),t.qZA(),t.TgZ(10,"div",21)(11,"select",22),t.NdJ("ngModelChange",function(s){const P=t.CHM(n).$implicit;return t.KtG(P.selected=s)}),t.YNc(12,S,2,2,"option",23),t.qZA(),t.TgZ(13,"button",24),t.NdJ("click",function(){const a=t.CHM(n).$implicit,P=t.oxw(2);return t.KtG(P.subscribe(a.selected))}),t._UZ(14,"i",25),t._uU(15," Subscribe"),t.qZA()()()()}if(2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngIf",n.logoUrl),t.xp6(5),t.Oqu(n.name),t.xp6(2),t.Oqu(n.description),t.xp6(2),t.Q6J("ngModel",n.selected),t.xp6(1),t.Q6J("ngForOf",n.pods)}}function T(e,o){if(1&e&&(t.TgZ(0,"div",11),t.YNc(1,b,2,0,"div",12),t.TgZ(2,"div"),t.YNc(3,y,16,5,"div",13),t.qZA()()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",0===n.podcasts.length),t.xp6(2),t.Q6J("ngForOf",n.podcasts)}}const w=function(){return{standalone:!0}};class p{constructor(o,n,c,s,a){(0,d.Z)(this,"app",void 0),(0,d.Z)(this,"jam",void 0),(0,d.Z)(this,"navig",void 0),(0,d.Z)(this,"notify",void 0),(0,d.Z)(this,"podcastService",void 0),(0,d.Z)(this,"podcasts",void 0),(0,d.Z)(this,"searchValue",""),(0,d.Z)(this,"isSearching",!1),this.app=o,this.jam=n,this.navig=c,this.notify=s,this.podcastService=a,this.searchValue=""}subscribe(o){o&&this.jam.podcast.create({url:o.url.toString()}).then(()=>{this.notify.success("Podcast subscribed")}).catch(n=>{this.notify.error(n)})}search(o){this.podcasts=void 0,o&&o.length>0&&(this.isSearching=!0,this.jam.podcast.discover({query:o}).then(n=>{this.searchValue===o&&(this.buildSearchResults(n),this.isSearching=!1)}).catch(n=>{this.isSearching=!1,this.notify.error(n)}))}buildSearchResults(o){const n={};o.forEach(c=>{const s=new URL(c.url);if(s.hostname.includes("feedburner.com"))return;let a=n[c.title];a||(a={name:c.title,logoUrl:c.scaled_logo_url,description:c.description,pods:[]},n[c.title]=a),(!a.description||0===a.description.length)&&(a.description=c.description),(!a.logoUrl||0===a.logoUrl.length)&&(a.logoUrl=c.scaled_logo_url),a.pods.find(P=>P.url.toString()===s.toString())||a.pods.push({result:c,url:s,displayURL:s.toString()})}),this.podcasts=Object.keys(n).map(c=>{const s=n[c];return s.selected=s.pods.find(a=>a.url.pathname.includes("mp3")),s.selected||(s.selected=s.pods[0]),s})}}(0,d.Z)(p,"\u0275fac",function(o){return new(o||p)(t.Y36(C.zi),t.Y36(m.K4),t.Y36(C.Am),t.Y36(C.c),t.Y36(u.XU))}),(0,d.Z)(p,"\u0275cmp",t.Xpm({type:p,selectors:[["app-page-podcast-search"]],decls:12,vars:5,consts:[[1,"search-podcasts"],["icon","icon-podcast","section","New Podcasts"],[1,"input-box"],["name","podcast-search","placeholder","Search Podcast or paste feed url","type","text",3,"ngModel","ngModelOptions","ngModelChange","keydown.enter"],[1,"icon-search",3,"click"],[1,"reference"],["href","https://gpodder.net","target","_blank","rel","noopener"],[1,"content"],[3,"time",4,"ngIf"],["class","podcasts",4,"ngIf"],[3,"time"],[1,"podcasts"],[4,"ngIf"],["class","search-podcast-plate",4,"ngFor","ngForOf"],[1,"search-podcast-plate"],[1,"art"],["alt","Podcast Image",3,"src",4,"ngIf"],[1,"meta"],[1,"type"],[1,"name"],[1,"description"],[1,"actions"],["placeholder","Feed URL","panelClass","url-dropdown-menu",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"button-on-background",3,"click"],[1,"icon-list-add"],["alt","Podcast Image",3,"src"],[3,"ngValue"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"app-view-header-icon-section",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(s){return n.searchValue=s})("keydown.enter",function(){return n.search(n.searchValue)}),t.qZA(),t.TgZ(4,"i",4),t.NdJ("click",function(){return n.search(n.searchValue)}),t.qZA()(),t.TgZ(5,"div",5),t._uU(6,"Powered by "),t.TgZ(7,"a",6),t._uU(8,"gpodder.net"),t.qZA()()(),t.TgZ(9,"div",7),t.YNc(10,x,1,1,"app-loading",8),t.YNc(11,T,4,2,"div",9),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("ngModel",n.searchValue)("ngModelOptions",t.DdM(4,w)),t.xp6(7),t.Q6J("ngIf",n.isSearching),t.xp6(1),t.Q6J("ngIf",n.podcasts))},dependencies:[_.sg,_.O5,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.On,f.A,v.N],styles:["[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{border-radius:3px;padding-left:3px;padding-right:3px;align-items:center;background-color:var(--input);border:1px solid var(--input-border)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;min-height:20px;background-color:var(--input);color:var(--on-input)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--on-input);font-size:14px;cursor:pointer}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--on-input-hover)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{width:100%;display:flex;min-height:30px}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:calc(100% - 24px)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .reference[_ngcontent-%COMP%]{padding-top:5px;font-size:.8em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 15px 15px}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media (max-width: 522px){[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]{width:100%;margin-top:30px}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;display:block;max-width:100%}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]{border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:var(--background-border);padding:15px;display:flex;flex-flow:row wrap}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .art[_ngcontent-%COMP%]{min-width:64px;min-height:64px;max-width:64px;display:block;cursor:pointer}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:auto}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{margin-left:15px;display:flex;flex-flow:column wrap;position:relative;width:calc(100% - 120px)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], [_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], [_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]{letter-spacing:1px;font-size:.8em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:24px;font-weight:100;color:var(--on-background-active)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--on-background-active)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--on-background)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;line-height:1.2em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:auto}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:5px;margin-right:5px;height:27px;font-weight:500;padding:1px 15px 0}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:scale(1.3);transform-origin:center}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;border:1px solid transparent;padding:4px 9px 7px;border-radius:50%;display:none;position:absolute;right:1px;bottom:0}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--control-hover);color:var(--on-background-hover)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]:hover   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]:hover   app-fav-icon[_ngcontent-%COMP%]{display:inline}@media (max-width: 400px){[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]{padding-left:0;padding-right:0}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.8em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px}}"]}));const U=[{path:"",component:p,canActivate:[O.aH],data:{name:"Podcast Search"}}];class r{}(0,d.Z)(r,"\u0275fac",function(o){return new(o||r)}),(0,d.Z)(r,"\u0275mod",t.oAB({type:r})),(0,d.Z)(r,"\u0275inj",t.cJS({imports:[_.ez,i.u5,l.m,M.Bz.forChild(U)]}))}}]);