import{a as D}from"./chunk-WEPX5RD4.js";import{a as V}from"./chunk-AABGUE3T.js";import{a as K}from"./chunk-F4ZYUPGE.js";import{a as W,b as J,c as U,d as Z}from"./chunk-2ZQB3OXX.js";import{a as z}from"./chunk-X6XLJMXS.js";import"./chunk-TOONS3AW.js";import"./chunk-CHYN2OU2.js";import"./chunk-BROOBCUQ.js";import"./chunk-YTAUIBY4.js";import"./chunk-AOSNM3EN.js";import"./chunk-CXOLACS4.js";import"./chunk-YXDUILPU.js";import"./chunk-Z5Y35675.js";import"./chunk-DJYMAW3B.js";import"./chunk-UO5UMZSC.js";import"./chunk-JP4K5MFN.js";import{a as Q}from"./chunk-XNNXFOR6.js";import"./chunk-CN2OCJDW.js";import"./chunk-DYL3URTZ.js";import"./chunk-WNHKVE3C.js";import{i as Y}from"./chunk-SCLJ3VCI.js";import"./chunk-DGTK7RHM.js";import"./chunk-PEPRZYDQ.js";import"./chunk-AFPGMN6L.js";import"./chunk-L6NQU2BC.js";import"./chunk-4UFWK3HC.js";import"./chunk-24DMSAFT.js";import{c as $,d as q,g as B,o as w}from"./chunk-SCY3FOMN.js";import"./chunk-FU6C5Z5T.js";import"./chunk-6WISUSLE.js";import"./chunk-NWR5JEWI.js";import"./chunk-3XAJ3MB2.js";import"./chunk-3VLHYTEX.js";import"./chunk-AKA224Y7.js";import"./chunk-RJHPSDKR.js";import"./chunk-MTB5HHEE.js";import"./chunk-TT7XXVKE.js";import"./chunk-ZBZLQTZR.js";import"./chunk-6SWJ3F4P.js";import"./chunk-N4AK7Z46.js";import"./chunk-FQC6PRY2.js";import"./chunk-ITVL4IJL.js";import"./chunk-JI2YWTPQ.js";import"./chunk-3LOKQP2Q.js";import"./chunk-MFAW4R34.js";import{$b as R,Cc as u,Db as S,Dc as j,Eb as f,Ec as k,Gb as A,Gc as H,Hb as T,Ib as v,Jb as c,Kb as r,Lb as o,Mb as p,Sd as F,Va as E,Wb as x,Wd as X,_a as a,bc as s,e as O,fa as g,ka as b,la as P,lc as N,nb as M,sb as y,uc as L,vc as I,wc as G}from"./chunk-XLNNDSL4.js";var C=t=>({query:t}),ee=(t,i)=>({query:t,albumType:i});function te(t,i){if(t&1&&(r(0,"app-autocomplete-option",8),p(1,"span",9),k(2,"highlight"),o()),t&2){let e=i.$implicit,n=s().control;c("option",e)("control",n),a(),c("innerHTML",H(2,3,e.data.name,n.query),E)}}function ne(t,i){if(t&1&&T(0,te,3,6,"app-autocomplete-option",8,A),t&2){let e=i.control;v(e.options)}}function oe(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.albumLoader)("searchQuery",u(2,C,e.query))}}function ie(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.artistLoader)("searchQuery",j(2,ee,e.query,e.AlbumType.album))}}function ae(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.podcastLoader)("searchQuery",u(2,C,e.query))}}function re(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.seriesLoader)("searchQuery",u(2,C,e.query))}}function ce(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.playlistLoader)("searchQuery",u(2,C,e.query))}}function le(t,i){if(t&1&&(r(0,"div",11),p(1,"app-obj-loader",12),o()),t&2){let e=s(2);a(),c("loader",e.library.folderLoader)("searchQuery",u(2,C,e.query))}}function se(t,i){if(t&1&&(r(0,"div",11),p(1,"app-episodes-loader",13),o()),t&2){let e=s(2);a(),c("query",e.query)}}function pe(t,i){if(t&1&&(r(0,"div",11),p(1,"app-tracks-loader",13),o()),t&2){let e=s(2);a(),c("query",e.query)}}function _e(t,i){if(t&1&&(r(0,"div",7)(1,"div",10),S(2,oe,2,4,"div",11)(3,ie,2,5,"div",11)(4,ae,2,4,"div",11)(5,re,2,4,"div",11)(6,ce,2,4,"div",11)(7,le,2,4,"div",11)(8,se,2,1,"div",11)(9,pe,2,1,"div",11),o()()),t&2){let e,n=s();a(2),f((e=n.currentTab.id)===n.tabsObjs.albums.id?2:e===n.tabsObjs.artists.id?3:e===n.tabsObjs.podcasts.id?4:e===n.tabsObjs.series.id?5:e===n.tabsObjs.playlists.id?6:e===n.tabsObjs.folders.id?7:e===n.tabsObjs.episodes.id?8:e===n.tabsObjs.tracks.id?9:-1)}}var d=()=>{},ve=(()=>{class t{constructor(){this.library=g(Y),this.AlbumType=F,this.value="",this.query="",this.tabsObjs={artists:{id:"artist",label:"Artist",click:d},albums:{id:"album",label:"Album",click:d},folders:{id:"folder",label:"Folder",click:d},podcasts:{id:"podcast",label:"Podcast",click:d},episodes:{id:"episode",label:"Episodes",click:d},series:{id:"series",label:"Series",click:d},playlists:{id:"playlist",label:"Playlist",click:d},tracks:{id:"track",label:"Track",click:d}},this.currentTab=this.tabsObjs.artists,this.tabs=Object.keys(this.tabsObjs).map(e=>{let n=this.tabsObjs[e];return n.click=()=>{this.setCurrentTab(n)},n}),this.jam=g(X),this.currentTab=this.tabsObjs.artists,this.currentTab.active=!0}setCurrentTab(e){this.currentTab=e;for(let n of this.tabs)n.active=!1;e.active=!0,this.search()}search(){this.query=this.value}autocompleteSelectResult(e){return this.value=e.data.name,this.search(),this.value}autocompleteGetData(e){return O(this,null,function*(){let n={query:e,[this.currentTab.id]:10};return((yield this.jam.autocomplete.autocomplete(n))[`${this.currentTab.id}s`]??[]).map(m=>({data:m}))})}autocompleteEnter(e){this.value=e,this.search()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=M({type:t,selectors:[["app-page-search"]],decls:9,vars:5,consts:()=>{let e;e=$localize`:␟28e6a96bb0aab7b4d624822812d8be756e64c84d␟8969547881326047567:icon-search`;let n;n=$localize`:␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`;let l;l=$localize`:␟d7f33248b7e33cc2c1843bfe84f4bdbc1776124e␟3712763448239725249:Search here`;let _;return _=$localize`:␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`,[["autocomplete","appAutocomplete"],["appAutocompleteContent",""],[1,"search"],["icon",e,"section",n,3,"tabs"],[1,"input-box"],["autocomplete","off","name","query","placeholder",l,"type","text",3,"ngModelChange","ngModel","appAutocompleteControl","appAutocomplete"],["title",_,1,"icon-search",3,"click"],[1,"content"],[3,"option","control"],[3,"innerHTML"],[1,"tab-content"],[1,"tab-pane"],[3,"loader","searchQuery"],[3,"query"]]},template:function(n,l){if(n&1){let _=x();r(0,"app-autocomplete",null,0),y(2,ne,2,0,"ng-template",1),o(),r(3,"div",2)(4,"app-view-header-icon-section",3)(5,"div",4)(6,"input",5),G("ngModelChange",function(h){return b(_),I(l.value,h)||(l.value=h),P(h)}),o(),r(7,"i",6),R("click",function(){return b(_),P(l.search())}),o()()(),S(8,_e,10,1,"div",7),o()}if(n&2){let _=N(1);a(4),c("tabs",l.tabs),a(2),L("ngModel",l.value),c("appAutocompleteControl",l)("appAutocomplete",_),a(2),f(l.query?8:-1)}},dependencies:[w,$,q,B,V,D,z,J,U,Z,W,Q,K],styles:["[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{border-radius:3px;padding-left:3px;padding-right:3px;align-items:center;background-color:var(--input);border:1px solid var(--input-border)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;min-height:28px;background-color:var(--input);color:var(--on-input)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--on-input);font-size:14px;cursor:pointer}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--on-input-hover)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{width:100%;display:flex;min-height:30px}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:calc(100% - 24px)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 5px 5px}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media(max-width:522px){[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}}"]})}}return t})();export{ve as SearchPageComponent};
