import{Ad as g,E as b,Ia as u,J as m,_ as p,da as a,ia as f,k as l,ub as c}from"./chunk-H2EXZDP6.js";var i=class i{constructor(t,n,r,e){this.left=t,this.top=n,this.right=r,this.bottom=e}static fromElement(t){let{left:n,top:r,right:e,bottom:o}=t.getBoundingClientRect();return new i(n,r,e,o)}static fromWindow(t){return new i(0,0,t.innerWidth,t.innerHeight)}inflate(t){this.left-=t,this.top-=t,this.right+=t,this.bottom+=t}intersectsWith(t){return t.left<this.right&&this.left<t.right&&t.top<this.bottom&&this.top<t.bottom}intersectsWithY(t){return t.top<this.bottom&&this.top<t.bottom}getIntersectionWith(t){let n=Math.max(this.left,t.left),r=Math.max(this.top,t.top),e=Math.min(this.right,t.right),o=Math.min(this.bottom,t.bottom);return e>=n&&o>=r?new i(n,r,e,o):i.empty}};i.empty=new i(0,0,0,0);var s=i;var x=(()=>{let t=class t{constructor(){this.scrollNotify=new c,this.observeNotify=new c,this.currentViewport=new s(0,0,0,0),this.platformId=f(u),this.scrollSubject=new l,this.isBrowser=g(this.platformId),this.hasIntersectionObserver=t.checkIntersectionObserver();let r=this.scrollSubject.asObservable();this.scrollObservable=b(r.pipe(p(300)),r.pipe(m(100))),this.scrollObservable.subscribe(e=>{this.scrollNotify.emit(e)}),this.currentViewport=s.fromWindow(globalThis)}getObserver(){return this.intersectionObserver?this.intersectionObserver:(this.intersectionObserver=new IntersectionObserver(r=>{this.observeNotify.next(r)},{threshold:0}),this.intersectionObserver)}notifyScroll(r){if(this.hasIntersectionObserver)return;let e=r.element?s.fromElement(r.element):s.fromWindow(globalThis),o=e.bottom-e.top;e.bottom+=o,e.top-=o,this.currentViewport=e,this.scrollSubject.next({rect:e})}static checkIntersectionObserver(){return"IntersectionObserver"in globalThis}};t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let h=t;return h})();export{s as a,x as b};
