import{D as o,G as n,Zc as a,cd as c,f as s,od as h}from"./chunk-H26ZKUNV.js";var u=(()=>{class t{router;auth;notify;constructor(r,e,i){this.router=r,this.auth=e,this.notify=i}canActivate(r,e){return s(this,null,function*(){if(this.auth.checked)return this.auth.isLoggedIn();this.auth.loaded||(yield this.auth.load());try{yield this.auth.check()}catch(i){return this.notify.error(i),!1}return this.auth.auth&&this.auth.auth?.version!==a.version&&this.notify.info(`The Server API version ${this.auth.auth?.version} is different to the Client version ${a.version}. Errors may happen. Good luck!`),this.auth.isLoggedIn()?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:e.url}}).catch(i=>{console.error(i)}),!1)})}static \u0275fac=function(e){return new(e||t)(n(h),n(a),n(c))};static \u0275prov=o({token:t,factory:t.\u0275fac})}return t})();var f=(()=>{class t{canDeactivate(r){return r.canDeactivate()?!0:confirm("WARNING: You have unsaved changes. Press Cancel to go back and save these changes, or OK to lose these changes.")}static \u0275fac=function(e){return new(e||t)};static \u0275prov=o({token:t,factory:t.\u0275fac})}return t})();var k=[u,f];export{u as a,k as b};
