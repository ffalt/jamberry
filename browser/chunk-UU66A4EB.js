import{D as B,E as $,F as z,G as X,J as Y,d as at,e as U,yb as G}from"./chunk-H26ZKUNV.js";var q=at((pt,C)=>{"use strict";(function(h,k,r){if(!h)return;for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},f={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},b={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},g,v=1;v<20;++v)i[111+v]="f"+v;for(v=0;v<=9;++v)i[v+96]=v.toString();function S(t,e,n){if(t.addEventListener){t.addEventListener(e,n,!1);return}t.attachEvent("on"+e,n)}function E(t){if(t.type=="keypress"){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return i[t.which]?i[t.which]:f[t.which]?f[t.which]:String.fromCharCode(t.which).toLowerCase()}function J(t,e){return t.sort().join(",")===e.sort().join(",")}function Q(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function W(t){if(t.preventDefault){t.preventDefault();return}t.returnValue=!1}function Z(t){if(t.stopPropagation){t.stopPropagation();return}t.cancelBubble=!0}function P(t){return t=="shift"||t=="ctrl"||t=="alt"||t=="meta"}function tt(){if(!g){g={};for(var t in i)t>95&&t<112||i.hasOwnProperty(t)&&(g[i[t]]=t)}return g}function et(t,e,n){return n||(n=tt()[t]?"keydown":"keypress"),n=="keypress"&&e.length&&(n="keydown"),n}function rt(t){return t==="+"?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function R(t,e){var n,l,w,M=[];for(n=rt(t),w=0;w<n.length;++w)l=n[w],b[l]&&(l=b[l]),e&&e!="keypress"&&d[l]&&(l=d[l],M.push("shift")),P(l)&&M.push(l);return e=et(l,M,e),{key:l,modifiers:M,action:e}}function D(t,e){return t===null||t===k?!1:t===e?!0:D(t.parentNode,e)}function m(t){var e=this;if(t=t||k,!(e instanceof m))return new m(t);e.target=t,e._callbacks={},e._directMap={};var n={},l,w=!1,M=!1,K=!1;function T(s){s=s||{};var a=!1,c;for(c in n){if(s[c]){a=!0;continue}n[c]=0}a||(K=!1)}function F(s,a,c,o,p,_){var u,y,x=[],A=c.type;if(!e._callbacks[s])return[];for(A=="keyup"&&P(s)&&(a=[s]),u=0;u<e._callbacks[s].length;++u)if(y=e._callbacks[s][u],!(!o&&y.seq&&n[y.seq]!=y.level)&&A==y.action&&(A=="keypress"&&!c.metaKey&&!c.ctrlKey||J(a,y.modifiers))){var nt=!o&&y.combo==p,ot=o&&y.seq==o&&y.level==_;(nt||ot)&&e._callbacks[s].splice(u,1),x.push(y)}return x}function O(s,a,c,o){e.stopCallback(a,a.target||a.srcElement,c,o)||s(a,c)===!1&&(W(a),Z(a))}e._handleKey=function(s,a,c){var o=F(s,a,c),p,_={},u=0,y=!1;for(p=0;p<o.length;++p)o[p].seq&&(u=Math.max(u,o[p].level));for(p=0;p<o.length;++p){if(o[p].seq){if(o[p].level!=u)continue;y=!0,_[o[p].seq]=1,O(o[p].callback,c,o[p].combo,o[p].seq);continue}y||O(o[p].callback,c,o[p].combo)}var x=c.type=="keypress"&&M;c.type==K&&!P(s)&&!x&&T(_),M=y&&c.type=="keydown"};function L(s){typeof s.which!="number"&&(s.which=s.keyCode);var a=E(s);if(a){if(s.type=="keyup"&&w===a){w=!1;return}e.handleKey(a,Q(s),s)}}function it(){clearTimeout(l),l=setTimeout(T,1e3)}function st(s,a,c,o){n[s]=0;function p(A){return function(){K=A,++n[s],it()}}function _(A){O(c,A,s),o!=="keyup"&&(w=E(A)),setTimeout(T,10)}for(var u=0;u<a.length;++u){var y=u+1===a.length,x=y?_:p(o||R(a[u+1]).action);V(a[u],x,o,s,u)}}function V(s,a,c,o,p){e._directMap[s+":"+c]=a,s=s.replace(/\s+/g," ");var _=s.split(" "),u;if(_.length>1){st(s,_,a,c);return}u=R(s,c),e._callbacks[u.key]=e._callbacks[u.key]||[],F(u.key,u.modifiers,{type:u.action},o,s,p),e._callbacks[u.key][o?"unshift":"push"]({callback:a,modifiers:u.modifiers,action:u.action,seq:o,level:p,combo:s})}e._bindMultiple=function(s,a,c){for(var o=0;o<s.length;++o)V(s[o],a,c)},S(t,"keypress",L),S(t,"keydown",L),S(t,"keyup",L)}m.prototype.bind=function(t,e,n){var l=this;return t=t instanceof Array?t:[t],l._bindMultiple.call(l,t,e,n),l},m.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},m.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},m.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},m.prototype.stopCallback=function(t,e){var n=this;if((" "+e.className+" ").indexOf(" mousetrap ")>-1||D(e,n.target))return!1;if("composedPath"in t&&typeof t.composedPath=="function"){var l=t.composedPath()[0];l!==t.target&&(e=l)}return e.tagName=="INPUT"||e.tagName=="SELECT"||e.tagName=="TEXTAREA"||e.isContentEditable},m.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},m.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);g=null},m.init=function(){var t=m(k);for(var e in t)e.charAt(0)!=="_"&&(m[e]=function(n){return function(){return t[n].apply(t,arguments)}}(e))},m.init(),h.Mousetrap=m,typeof C<"u"&&C.exports&&(C.exports=m),typeof define=="function"&&define.amd&&define(function(){return m})})(typeof window<"u"?window:null,typeof window<"u"?document:null)});var j=U(q());var H=new z("HotkeyOptions");var I=(()=>{class h{options;hotkeys=[];pausedHotkeys=[];mousetrap;preventIn=["INPUT","SELECT","TEXTAREA"];constructor(r){this.options=r,j.default.prototype.stopCallback=(i,f)=>` ${f.className} `.includes(" mousetrap ")?!1:f.contentEditable==="true",this.mousetrap=new j.default}add(r,i){if(Array.isArray(r)){let d=[];for(let b of r)d.push(this.add(b,i));return d}this.remove(r),this.hotkeys.push(r);let f=(d,b)=>{let g=!0;if(d){let v=d.target||d.srcElement,S=v.nodeName.toUpperCase();` ${v.className} `.includes(" mousetrap ")?g=!0:this.preventIn.includes(S)&&!(r.allowIn||[]).map(E=>E.toUpperCase()).includes(S)&&(g=!1)}if(g)return r.callback.apply(this,[d,b])};return this.mousetrap.bind(r.combo,f,i),r}remove(r){let i=[];if(!r){for(let d of this.hotkeys)i.push(this.remove(d));return i}if(Array.isArray(r)){for(let d of r)i.push(this.remove(d));return i}let f=this.findHotkey(r);if(f>-1)return this.hotkeys.splice(f,1),this.mousetrap.unbind(r.combo),r}get(r){if(!r)return this.hotkeys;if(Array.isArray(r)){let i=[];for(let f of r)i.push(this.get(f));return i}return this.hotkeys.find(i=>i.combo.includes(r))}pause(r){if(!r)return this.pause(this.hotkeys);if(Array.isArray(r)){let i=[];for(let f of r)i.push(this.pause(f));return i}return this.remove(r),this.pausedHotkeys.push(r),r}unpause(r){if(!r)return this.unpause(this.pausedHotkeys);if(Array.isArray(r)){let f=[];for(let d of r)f.push(this.unpause(d));return f}let i=this.pausedHotkeys.indexOf(r);if(i>-1)return this.add(r),this.pausedHotkeys.splice(i,1)}reset(){this.mousetrap.reset()}findHotkey(r){return this.hotkeys.indexOf(r)}static \u0275fac=function(i){return new(i||h)(X(H))};static \u0275prov=B({token:h,factory:h.\u0275fac})}return h})();var ct=U(q());var N=class h{combo;callback;allowIn;description;action;persistent;get formatted(){if(!this.formattedVal){let r=this.combo[0].split(/[\s]/);for(let i=0;i<r.length;i++)r[i]=h.symbolize(r[i]);this.formattedVal=r}return this.formattedVal}formattedVal;constructor(k,r,i,f,d,b){this.combo=k,this.callback=r,this.allowIn=i,this.description=f,this.action=d,this.persistent=b,this.combo=Array.isArray(k)?k:[k],this.allowIn=i||[],this.description=f||""}static symbolize(k){let r={command:"\u2318",shift:"\u21E7",left:"\u2190",right:"\u2192",up:"\u2191",down:"\u2193",return:"\u23CE",backspace:"\u232B"},i=k.split("+");for(let f=0;f<i.length;f++)i[f]==="mod"&&(i[f]=window.navigator&&window.navigator.platform.includes("Mac")?"command":"ctrl"),i[f]=r[i[f]]||i[f];return i.join(" + ")}};var Mt=(()=>{class h{static forRoot(r={}){return{ngModule:h,providers:[I,{provide:H,useValue:r}]}}static \u0275fac=function(i){return new(i||h)};static \u0275mod=Y({type:h});static \u0275inj=$({imports:[G]})}return h})();export{N as a,I as b,Mt as c};
