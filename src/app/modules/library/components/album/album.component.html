<context-menu #albumMenu>
	<ng-template contextMenuItem let-album>
		<app-context-entry-fav [base]="album" baseType="album"></app-context-entry-fav>
	</ng-template>
	<ng-template contextMenuItem let-album>
		<app-context-entry-rate [base]="album" baseType="album"></app-context-entry-rate>
	</ng-template>
	<ng-template contextMenuItem (execute)="player.addAlbumToQueue($event.item)"><i class="icon-list-add"></i> Add To Queue</ng-template>
	<ng-template contextMenuItem (execute)="actions.download($event.item)"><i class="icon-download-cloud"></i> Download</ng-template>
</context-menu>
<div class="album" *ngIf="album" (click)="toggleAlbumTracks()" [contextMenu]="albumMenu" [contextMenuSubject]="album">
	<div class="art">
		<app-coverart-image [coverArtObj]="album" [size]="135" [alt]="album.name" (click)="navig.toAlbum(album)" appClickStop></app-coverart-image>
	</div>
	<div class="meta">
		<app-fav-icon [state]="album.state" (click)="actions.toggleAlbumFav(album)" appClickStop></app-fav-icon>
		<div class="year">{{album.tag.year}}</div>
		<div class="name"><a (click)="navig.toAlbum(album)" appClickStop>{{album.name}}</a></div>
		<div class="type" *ngIf="album.albumType !== AlbumType.album">{{album.albumType}}</div>
		<div *ngIf="showArtist || isVariousArtists" class="artist"><a (click)="navig.toArtistID(album.artistID,album.name)" appClickStop>{{album.artist}}</a></div>
		<div class="actions">
			<button class="button-primary" (click)="player.startAlbum(album)" appClickStop><i class="icon-play"></i> Play</button>
			<a [contextMenu]="albumMenu" [contextMenuSubject]="album" [contextMenuTriggerLeft]="true" appClickStop>â€¦</a>
		</div>
	</div>
</div>
<div *ngIf="tracksExpanded" class="tracks">
	<app-loading *ngIf="!tracks" [time]="500"></app-loading>
	<app-tracks [tracks]="tracks" [showArtist]="showArtist||isVariousArtists"></app-tracks>
</div>

