<app-loading *ngIf="!episode"></app-loading>
<!--<app-context-menu-episode [showGoTo]="false"></app-context-menu-episode>-->
<div class="episode" *ngIf="episode">
	<div class="header" [appBackgroundImage]="episode.id" (contextmenu)="onContextMenu($event, episode)">
		<div class="info">
			<div class="img">
				<app-coverart-image [coverArtObj]="episode" [size]="150" [fill]="true" [alt]="episode.name" [allowEnlarge]="true"></app-coverart-image>
			</div>
			<div class="meta">
				<div class="type">episode</div>
				<div class="name">{{episode.name}}</div>
				<div class="actions">
					<app-episode-state-button [episode]="episode" showTitle="true"></app-episode-state-button>
				</div>
			</div>
			<div class="listeners">
				<a class="more" (click)="onContextMenu($event, episode)">â€¦</a>
			</div>
		</div>
		<div class="navigation"></div>
	</div>
	<div class="content">
		<div class="overview">
			<div class="info" *ngIf="episode.summary">
				<div class="section-title">Description</div>
				<div class="description">
					<div class="note">{{episode.summary}}</div>
				</div>
			</div>
			<div class="info">
				<div class="section-title">Chapters</div>
				<app-chapters *ngIf="episode.chapters" [episode]="episode"></app-chapters>
			</div>
			<div class="info">
				<div class="section-title">Info</div>
				<div class="key-value-row">
					<div>Date</div>
					<div>{{episode.date|date}}</div>
				</div>
				<div class="key-value-row">
					<div>Duration</div>
					<div>{{episode.duration|duration}}</div>
				</div>
				<div class="key-value-row">
					<div>URL</div>
					<div><a [href]="episode.link" target="_blank" rel="noopener">{{episode.link}}</a></div>
				</div>
				<div class="key-value-row">
					<div>Author</div>
					<div>{{episode.author}}</div>
				</div>
				<ng-container *ngIf="episode.media">
					<div class="section-title">Media</div>
					<div class="key-value-row">
						<div>Size</div>
						<div>{{episode.media.size | filesize}}</div>
					</div>
					<div class="key-value-row" *ngIf="episode.media.bitRate">
						<div>BitRate</div>
						<div>{{episode.media.bitRate}}</div>
					</div>
					<div class="key-value-row">
						<div>SampleRate</div>
						<div>{{episode.media.sampleRate}}</div>
					</div>
					<div class="key-value-row">
						<div>Format</div>
						<div>{{episode.media.format}}</div>
					</div>
					<div class="key-value-row">
						<div>Channels</div>
						<div>{{episode.media.channels}}</div>
					</div>
				</ng-container>
			</div>
		</div>
	</div>
</div>
