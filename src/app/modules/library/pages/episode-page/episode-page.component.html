<app-loading *ngIf="!episode"></app-loading>
<div class="episode" *ngIf="episode">
	<app-view-header-jam-base
		[appBackgroundImage]="episode.id" [section]="episode.name" sectionType="episode"
		[base]="episode" [infos]="infos"
		(contextMenuRequest)="onContextMenu($event)">
		<app-episode-state-button [episode]="episode" [showTitle]="true"></app-episode-state-button>
	</app-view-header-jam-base>
	<div class="content">
		<div class="overview">
			<div class="info" *ngIf="episode.summary">
				<div class="section-title">Description</div>
				<app-info-text [info]="episode.summary"></app-info-text>
			</div>
			<div class="info">
				<div class="section-title">Chapters</div>
				<app-chapters *ngIf="episode.chapters" [episode]="episode"></app-chapters>
			</div>
			<div class="info">
				<div class="section-title">Info</div>
				<div class="key-value-row">
					<div>Date</div>
					<div>{{episode.date|date}}</div>
				</div>
				<div class="key-value-row">
					<div>Duration</div>
					<div>{{episode.duration|duration}}</div>
				</div>
				<div class="key-value-row">
					<div>URL</div>
					<div><a [href]="episode.link" target="_blank" rel="noopener">{{episode.link}}</a></div>
				</div>
				<div class="key-value-row">
					<div>Author</div>
					<div>{{episode.author}}</div>
				</div>
				<ng-container *ngIf="episode.media">
					<div class="section-title">Media</div>
					<div class="key-value-row">
						<div>Size</div>
						<div>{{episode.media.size | filesize}}</div>
					</div>
					<div class="key-value-row" *ngIf="episode.media.bitRate">
						<div>BitRate</div>
						<div>{{episode.media.bitRate}}</div>
					</div>
					<div class="key-value-row">
						<div>SampleRate</div>
						<div>{{episode.media.sampleRate}}</div>
					</div>
					<div class="key-value-row">
						<div>Format</div>
						<div>{{episode.media.format}}</div>
					</div>
					<div class="key-value-row">
						<div>Channels</div>
						<div>{{episode.media.channels}}</div>
					</div>
				</ng-container>
			</div>
		</div>
	</div>
</div>
