import{a as S}from"./chunk-66GF6ZOY.js";import"./chunk-5I2ZEKAS.js";import{a as y}from"./chunk-2Y5FDNKG.js";import"./chunk-XJKSMSIQ.js";import"./chunk-FC2POIZG.js";import"./chunk-C235MGFY.js";import"./chunk-VSVB5IN5.js";import"./chunk-BTZLZY44.js";import"./chunk-4HT6225I.js";import{a as I}from"./chunk-PDFDIAHA.js";import"./chunk-7YEHAOTU.js";import"./chunk-H7J33JRO.js";import"./chunk-TN4DQYXD.js";import"./chunk-EFVW3FZ4.js";import{a as O,i as T}from"./chunk-UJDKMBWQ.js";import"./chunk-33GLPMOM.js";import"./chunk-55GTWUAS.js";import"./chunk-FNYIAIY2.js";import"./chunk-GZZSVLKI.js";import"./chunk-OSSJ2PGW.js";import"./chunk-24DMSAFT.js";import"./chunk-JWYMJBHE.js";import"./chunk-4IQGZQCR.js";import"./chunk-U7OXVLBO.js";import"./chunk-Q63CSAYE.js";import"./chunk-X6GEWTUQ.js";import"./chunk-COAHUF74.js";import"./chunk-NDAMPTYI.js";import"./chunk-PWCTC5DJ.js";import"./chunk-5TIVVKYZ.js";import"./chunk-TT7XXVKE.js";import"./chunk-ALNDELZX.js";import"./chunk-EYYLYRFR.js";import"./chunk-U3AJXI6D.js";import"./chunk-FQC6PRY2.js";import{a as x}from"./chunk-33YDEZ6H.js";import"./chunk-Q3X46OXX.js";import{G as g}from"./chunk-SR2DRA4F.js";import{f as b}from"./chunk-MCFY5JX5.js";import{Db as a,Eb as s,Jb as u,Kb as p,Lb as o,Mb as c,U as _,Wd as h,Yb as C,_a as n,bc as m,fa as r,j as f,nb as v}from"./chunk-MRX5UB2X.js";function E(i,d){if(i&1&&(p(0,"div",4)(1,"div",5),C(2,0),o(),c(3,"app-info-note",6),o()),i&2){let t=m(2);n(3),u("info",t.artist.info)}}function A(i,d){if(i&1&&(p(0,"div",1),a(1,E,4,1,"div",4),o()),i&2){let t=m();n(),s(t.artist.info?1:-1)}}function w(i,d){i&1&&c(0,"app-loading")}function R(i,d){if(i&1&&(p(0,"div",2),c(1,"app-obj-groups-view",7),o()),i&2){let t=m();n(),u("objs",t.albums)("viewTypeList",!0)("grouping",!0)}}function M(i,d){if(i&1&&(p(0,"div",3),c(1,"app-tracks-loader",8),o()),i&2){let t=m();n(),u("queryCmd",t.tracksQuery)}}var z=(()=>{class i{constructor(){this.library=r(T),this.notify=r(g),this.jam=r(h),this.route=r(b),this.unsubscribe=new f}ngOnInit(){this.route.paramMap.pipe(_(this.unsubscribe)).subscribe(t=>{this.id=t.get("id")??void 0,this.refresh()})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}refresh(){this.artist=void 0,this.albums=void 0,this.tracksQuery=void 0,this.id&&this.jam.artist.id({id:this.id,artistIncState:!0,artistIncAlbums:!0,artistIncGenres:!0,albumIncState:!0,artistIncInfo:!0}).then(t=>{this.artist=t,this.albums=(t.albums??[]).map(e=>new O(e,this.library)),this.albums.length===0&&(this.tracksQuery={artistIDs:[this.artist.id]})}).catch(t=>{this.notify.error(t)})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=v({type:i,selectors:[["app-artist-overview"]],decls:4,vars:3,consts:()=>{let t;return t=$localize`:␟eec715de352a6b114713b30b640d319fa78207a0␟4902817035128594900:Description`,[t,[1,"overview"],[1,"artist-albums"],[1,"artist-tracks"],[1,"info"],[1,"section-title"],[3,"info"],[3,"objs","viewTypeList","grouping"],[3,"queryCmd"]]},template:function(e,l){e&1&&(a(0,A,2,1,"div",1)(1,w,1,0,"app-loading"),a(2,R,2,3,"div",2),a(3,M,2,1,"div",3)),e&2&&(s(l.artist?0:1),n(2),s(l.albums&&!l.tracksQuery?2:-1),n(),s(l.tracksQuery?3:-1))},dependencies:[S,y,x,I],styles:["[_nghost-%COMP%]{padding:0 5px 5px}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media(max-width:522px){[_nghost-%COMP%]{padding-left:10px;padding-right:10px}}"]})}}return i})();export{z as ArtistOverviewComponent};
