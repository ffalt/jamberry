import{A as z,q as Y,w as K,z as $}from"./chunk-SR2DRA4F.js";import{$b as M,Db as y,Eb as h,Nb as a,Ob as l,Qc as P,U as E,Vb as T,Wb as g,Yb as v,Za as R,_a as u,a as w,aa as k,ac as b,ba as x,bc as _,da as D,fa as s,j as d,jb as O,jc as G,ka as f,kc as N,la as m,na as L,nb as S,nc as V,ob as I,pc as B,qc as j,rd as U}from"./chunk-MRX5UB2X.js";var c=class{constructor(r){this.overlayRef=r,this.beforeCloseSubj=new d,this.afterClosedSubj=new d}close(){if(!this.componentInstance)return;let r=this.componentInstance.getResult();this.beforeCloseSubj.next(r),this.beforeCloseSubj.complete(),this.overlayRef.detachBackdrop(),this.overlayRef.dispose(),this.afterClosedSubj.next(r),this.afterClosedSubj.complete(),this.componentInstance=void 0}afterClosed(){return this.afterClosedSubj.asObservable()}beforeClose(){return this.beforeCloseSubj.asObservable()}};var re={playPause:{shortcut:"space",name:"Play / Pause"},nextTrack:{shortcut:"alt+right",name:"Next Track"},previousTrack:{shortcut:"alt+left",name:"Previous Track"},volumeUp:{shortcut:"+",name:"Volume Up"},volumeDown:{shortcut:"-",name:"Volume Down"},rewind:{shortcut:"shift+left",name:"Rewind 10 seconds"},forward:{shortcut:"shift+right",name:"Forward 10 seconds"}};function ie(e){return["Enter","NumpadEnter","Tab","ShiftLeft","ShiftRight","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","MetaLeft","MetaRight"].includes(e.code)}function ae(e){return["ArrowDown","ArrowUp"].includes(e.code)}function le(e){return["ArrowLeft","ArrowRight","ArrowDown","ArrowUp"].includes(e.code)}function ce(e){return["ArrowLeft","ArrowRight"].includes(e.code)}function se(e){return e.code==="ArrowRight"}function de(e){return e.code==="ArrowLeft"}function ue(e){return e.code==="ArrowDown"}function pe(e){return["Enter","NumpadEnter"].includes(e.code)}function F(e){return e.code==="Escape"}var C=new D("DIALOG_OVERLAY_DIALOG_CONFIG");var W=["overlayDialogBody"];function J(e,r){if(e&1){let o=g();a(0,"button",14),b("click",function(){f(o);let n=_(2);return m(n.ok())}),v(1,2),l()}}function Z(e,r){if(e&1){let o=g();a(0,"button",15),b("click",function(){f(o);let n=_(2);return m(n.cancel())}),v(1,3),l()}}function ee(e,r){if(e&1&&(a(0,"div",11),y(1,J,2,0,"button",12),y(2,Z,2,0,"button",13),l()),e&2){let o=_();V("disabled",o.isBusy),u(),h(o.config.onOkBtn?1:-1),u(),h(o.config.onCancelBtn?2:-1)}}var H=(()=>{class e{constructor(){this.dialogRef=s(c),this.config=s(C),this.isBusy=!1,this.dynamicComponentTarget=P("overlayDialogBody",{read:O})}handleKeydown(o){F(o)&&this.dialogRef.close()}ngOnInit(){let o=this.dynamicComponentTarget();this.config.childComponent&&o&&(this.childComponentRef=o.createComponent(this.config.childComponent),this.childComponentRef.instance.dialogInit(this.dialogRef,this.config))}getResult(){if(this.childComponentRef?.instance.dialogResult)return this.childComponentRef.instance.dialogResult()}ok(){this.isBusy||!this.config.onOkBtn||(this.isBusy=!0,this.config.onOkBtn().then(()=>{this.isBusy=!1,this.dialogRef.close()}).catch(()=>{this.isBusy=!1}))}cancel(){this.isBusy||!this.config.onCancelBtn||(this.isBusy=!0,this.config.onCancelBtn().then(()=>{this.isBusy=!1,this.dialogRef.close()}).catch(()=>{this.isBusy=!1}))}close(){this.dialogRef.close()}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=S({type:e,selectors:[["app-dialog-overlay"]],viewQuery:function(t,n){t&1&&G(n.dynamicComponentTarget,W,5,O),t&2&&N()},hostBindings:function(t,n){t&1&&M("keydown",function(p){return n.handleKeydown(p)},R)},decls:11,vars:2,consts:()=>{let o;o=$localize`:␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`;let t;t=$localize`:␟7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e␟8998179362936748717:OK`;let n;return n=$localize`:␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,[["overlayDialogBody",""],o,t,n,[1,"overlay-content"],[1,"overlay-title"],[1,"close-panel"],[1,"close",3,"click"],[1,"visually-hidden"],[1,"overlay-body"],[1,"overlay-buttons",3,"disabled"],[1,"overlay-buttons"],[1,"ok"],[1,"cancel"],[1,"ok",3,"click"],[1,"cancel",3,"click"]]},template:function(t,n){if(t&1){let i=g();a(0,"div",4)(1,"div",5),B(2),l(),a(3,"div",6)(4,"button",7),b("click",function(){return f(i),m(n.close())}),a(5,"span",8),v(6,1),l()()(),a(7,"div",9),T(8,null,0),l(),y(10,ee,3,4,"div",10),l()}t&2&&(u(2),j(n.config.title),u(8),h(n.config.onOkBtn||n.config.onCancelBtn?10:-1))},styles:[`:host{display:flex;flex-direction:column;align-items:center}.overlay-content{padding:2em;display:block;position:relative;border-radius:.3125rem;background-color:var(--control);color:var(--on-control);max-height:100%;overflow-y:auto}.overlay-content .overlay-title{text-align:center;padding:0 .5em .5em;margin:0;font-size:1.5rem;font-weight:700;color:var(--on-control-hover)}.overlay-content .overlay-buttons{display:flex}.overlay-content .overlay-buttons>a,.overlay-content .overlay-buttons>button{position:relative;display:inline-block;padding:8px 0;border-radius:3px;font-size:14px;font-weight:400;text-transform:uppercase;overflow:hidden;cursor:pointer;margin-top:1em;flex-grow:1;flex-basis:0;text-align:center;color:var(--on-control-hover)}.overlay-content .overlay-buttons>a:before,.overlay-content .overlay-buttons>button:before{position:absolute;content:"";top:0;left:0;width:0;height:100%;transition:width .25s ease;z-index:0;background-color:#fff3}.overlay-content .overlay-buttons>a:hover:before,.overlay-content .overlay-buttons>button:hover:before{width:100%}.overlay-content .overlay-buttons>a.ok,.overlay-content .overlay-buttons>button.ok{background-color:var(--primary);color:var(--on-primary);margin-right:5px}.overlay-content .overlay-buttons>a.cancel,.overlay-content .overlay-buttons>button.cancel{background-color:var(--accent);color:var(--on-accent)}.overlay-content .overlay-buttons.disabled>a,.overlay-content .overlay-buttons.disabled>button{background-color:var(--on-control-ambient-disabled)}.overlay-content .close-panel{position:absolute;top:0;right:0;overflow:hidden;width:2.5rem;height:2.5rem;max-width:2.5rem;max-height:2.5rem}.overlay-content .close-panel .close{display:flex;align-items:center;justify-content:center;width:2.5rem;height:2.5rem;border:none;background-color:transparent;font-size:1.5rem;transition:.25s linear}.overlay-content .close-panel .close:before,.overlay-content .close-panel .close:after{position:absolute;content:"";width:.75rem;height:.125rem;background-color:var(--on-control-hover);overflow:hidden}.overlay-content .close-panel .close:before{transform:rotate(-45deg)}.overlay-content .close-panel .close:after{transform:rotate(45deg)}.overlay-content .close-panel .close:hover{transform:rotate(360deg)}.overlay-content .close-panel .close:hover:before,.overlay-content .close-panel .close:hover:after{background-color:var(--accent)}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000}.cdk-overlay-backdrop{position:absolute;inset:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0;background-color:#000}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.48}.cdk-overlay-dark-backdrop{background-color:var(--dialog-backdrop)}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-transparent-backdrop{background-color:unset}.overlay-panel-large{width:80%;min-width:80%;height:80%;min-height:80%}.overlay-panel-large app-dialog-overlay,.overlay-panel-large .overlay-body,.overlay-panel-large .overlay-content{width:100%;height:100%}.overlay-panel-large .overlay-content{overflow-y:hidden}.overlay-panel-large-buttons{width:80%;min-width:80%;height:80%;min-height:80%}.overlay-panel-large-buttons .overlay-body{overflow:auto;flex-grow:1}.overlay-panel-large-buttons app-dialog-overlay,.overlay-panel-large-buttons .overlay-content{width:100%;height:100%;max-height:100%}.overlay-panel-large-buttons .overlay-content{display:flex;flex-direction:column}@media(max-width:768px){.overlay-content .overlay-title{font-size:1.2rem}}@media(max-width:522px){.overlay-content{padding:1em}}
`],encapsulation:2})}}return e})();var Q={hasBackdrop:!0,backdropClass:"dark-backdrop"};var A=class{constructor(r,o){this.parentInjector=r,this.customTokens=o}get(r,o){let t=this.customTokens.get(r);return t??this.parentInjector.get(r,o)}},q=(()=>{class e{constructor(){this.injector=s(L),this.overlay=s($),this.unsubscribe=new d}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}open(o={}){let t=w(w({},Q),o),n=this.createOverlay(t),i=new c(n);return i.componentInstance=this.attachDialogContainer(n,t,i),n.backdropClick().pipe(E(this.unsubscribe)).subscribe(()=>{i.close()}),i}createOverlay(o){return this.overlay.create(this.getOverlayConfig(o))}attachDialogContainer(o,t,n){let i=this.createInjector(t,n),p=new Y(H,void 0,i);return o.attach(p).instance}createInjector(o,t){let n=new WeakMap([[c,t],[C,o]]);return new A(this.injector,n)}getOverlayConfig(o){let t=this.overlay.position().global().centerHorizontally().centerVertically();return new K({hasBackdrop:o.hasBackdrop,backdropClass:o.backdropClass,panelClass:o.panelClass,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:t})}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac})}}return e})();var Pe=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=I({type:e})}static{this.\u0275inj=x({providers:[q],imports:[U,z]})}}return e})();export{re as a,ie as b,ae as c,le as d,ce as e,se as f,de as g,ue as h,pe as i,F as j,q as k,Pe as l};
