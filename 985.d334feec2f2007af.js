"use strict";(self.webpackChunkjamberry=self.webpackChunkjamberry||[]).push([[985],{8985:(I,r,a)=>{a.r(r),a.d(r,{PodcastSearchPageModule:()=>$});var h=a(177),C=a(4341),S=a(6499),E=a(9476),A=a(5015),f=a(6879),n=a(4438),d=a(1312),R=a(8707),m=a(3391),u=a(8723);const T=()=>({standalone:!0});function N(o,g){1&o&&n.nrm(0,"app-loading",13),2&o&&n.Y8G("time",0)}function b(o,g){1&o&&(n.j41(0,"div"),n.pXf(1,2),n.k0s())}function x(o,g){if(1&o&&n.nrm(0,"img",17),2&o){const t=n.XpG().$implicit;n.Y8G("src",t.logoUrl,n.B4B)}}function G(o,g){if(1&o&&(n.j41(0,"option",24),n.EFF(1),n.k0s()),2&o){const t=g.$implicit;n.Y8G("ngValue",t),n.R7$(),n.JRh(t.displayURL)}}function D(o,g){if(1&o){const t=n.RV6();n.j41(0,"div",15)(1,"div",16),n.DNE(2,x,1,1,"img",17),n.k0s(),n.j41(3,"div",18)(4,"div",19),n.pXf(5,3),n.k0s(),n.j41(6,"div",20),n.EFF(7),n.k0s(),n.j41(8,"div",21),n.EFF(9),n.k0s(),n.j41(10,"div",22)(11,"select",23),n.mxI("ngModelChange",function(e){const s=n.eBV(t).$implicit;return n.DH7(s.selected,e)||(s.selected=e),n.Njj(e)}),n.Z7z(12,G,2,2,"option",24,n.fX1),n.k0s(),n.j41(14,"button",25),n.bIt("click",function(){const e=n.eBV(t).$implicit,s=n.XpG(2);return n.Njj(s.subscribe(e.selected))}),n.nrm(15,"i",26),n.qex(16),n.pXf(17,4),n.bVm(),n.k0s()()()()}if(2&o){const t=g.$implicit;n.R7$(2),n.vxM(2,t.logoUrl?2:-1),n.R7$(5),n.JRh(t.name),n.R7$(2),n.JRh(t.description),n.R7$(2),n.R50("ngModel",t.selected),n.R7$(),n.Dyx(t.pods)}}function v(o,g){if(1&o&&(n.j41(0,"div",14),n.DNE(1,b,2,0,"div"),n.j41(2,"div"),n.Z7z(3,D,18,4,"div",15,n.fX1),n.k0s()()),2&o){const t=n.XpG();n.R7$(),n.vxM(1,0===t.podcasts.length?1:-1),n.R7$(2),n.Dyx(t.podcasts)}}const L=[{path:"",component:(()=>{class o{app;jam;navig;notify;podcastService;podcasts;searchValue="";isSearching=!1;constructor(t,c,e,s,_){this.app=t,this.jam=c,this.navig=e,this.notify=s,this.podcastService=_,this.searchValue=""}subscribe(t){t&&this.jam.podcast.create({url:t.url.toString()}).then(()=>{this.notify.success("Podcast subscribed")}).catch(c=>{this.notify.error(c)})}search(t){this.podcasts=void 0,t&&t.length>0&&(this.isSearching=!0,this.jam.podcast.discover({query:t}).then(c=>{this.searchValue===t&&(this.buildSearchResults(c),this.isSearching=!1)}).catch(c=>{this.isSearching=!1,this.notify.error(c)}))}buildSearchResults(t){const c={};t.forEach(e=>{const s=new URL(e.url);if(s.hostname.includes("feedburner.com"))return;let _=c[e.title];_||(_={name:e.title,logoUrl:e.scaled_logo_url,description:e.description,pods:[]},c[e.title]=_),(!_.description||0===_.description.length)&&(_.description=e.description),(!_.logoUrl||0===_.logoUrl.length)&&(_.logoUrl=e.scaled_logo_url),_.pods.find(i=>i.url.toString()===s.toString())||_.pods.push({result:e,url:s,displayURL:s.toString()})}),this.podcasts=Object.keys(c).map(e=>{const s=c[e];return s.selected=s.pods.find(_=>_.url.pathname.includes("mp3")),s.selected||(s.selected=s.pods[0]),s})}static \u0275fac=function(c){return new(c||o)(n.rXU(d.d3),n.rXU(f.UA),n.rXU(d.Hp),n.rXU(d.FL),n.rXU(R.sy))};static \u0275cmp=n.VBU({type:o,selectors:[["app-page-podcast-search"]],decls:13,vars:5,consts:()=>{let t,c,e,s,_,i,O,M,p,l;return t=$localize`:␟bcf0cf926b1e905efa525be7b6c2882e30336d84␟1357676316058684153:icon-podcast`,c=$localize`:␟2a7eeaf2b2848fdb9ee7413abb25112c5bbdbaf9␟4930940035022738997:New Podcasts`,e=$localize`:␟3139a6aecd219e16271f27a9ea62a62440ade0e6␟5108862386290980810:Search Podcast or paste feed url`,s=$localize`:␟596d65263456e81ac98fb7f8d616bf01adfc17a8␟7933384538978087776:Powered by`,_=$localize`:␟5793742019cf278a58428fa27054e1ea7993113d␟1865604754847434933:gpodder.net`,i=$localize`:␟850f8ce88f2d1eedf4965af96f6c4e03e86220b4␟8161264306826042917:No Results`,O=$localize`:␟7f37d036d722d1c188cc50c7343f1193682df80a␟6294189837610631338:Podcast Image`,M=$localize`:␟70b989779eb53e6ff14d810336677dbc3bde4202␟7944777648309302794:Feed URL`,p=$localize`:␟ca427f6920d12a392d55ee77947267c699197915␟2605658322936929408:Podcast`,l=$localize`:␟d0336848b0c375a1c25ba369b3481ee383217a4f␟1144407473317535723:Subscribe`,[s,_,i,p,l,[1,"search-podcasts"],["icon",t,"section",c],[1,"input-box"],["name","podcast-search","placeholder",e,"type","text",3,"ngModelChange","keydown.enter","ngModelOptions","ngModel"],[1,"icon-search",3,"click"],[1,"reference"],["href","https://gpodder.net","target","_blank","rel","noopener"],[1,"content"],[3,"time"],[1,"podcasts"],[1,"search-podcast-plate"],[1,"art"],["alt",O,3,"src"],[1,"meta"],[1,"type"],[1,"name"],[1,"description"],[1,"actions"],["title",M,3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"button-on-background",3,"click"],[1,"icon-list-add"]]},template:function(c,e){1&c&&(n.j41(0,"div",5)(1,"app-view-header-icon-section",6)(2,"div",7)(3,"input",8),n.mxI("ngModelChange",function(_){return n.DH7(e.searchValue,_)||(e.searchValue=_),_}),n.bIt("keydown.enter",function(){return e.search(e.searchValue)}),n.k0s(),n.j41(4,"i",9),n.bIt("click",function(){return e.search(e.searchValue)}),n.k0s()(),n.j41(5,"div",10),n.qex(6),n.pXf(7,0),n.bVm(),n.j41(8,"a",11),n.pXf(9,1),n.k0s()()(),n.j41(10,"div",12),n.DNE(11,N,1,1,"app-loading",13)(12,v,5,1,"div",14),n.k0s()()),2&c&&(n.R7$(3),n.Y8G("ngModelOptions",n.lJ4(4,T)),n.R50("ngModel",e.searchValue),n.R7$(8),n.vxM(11,e.isSearching?11:-1),n.R7$(),n.vxM(12,e.podcasts?12:-1))},dependencies:[C.xH,C.y7,C.me,C.wz,C.BC,C.vS,m.z,u.q],styles:["[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{border-radius:3px;padding-left:3px;padding-right:3px;align-items:center;background-color:var(--input);border:1px solid var(--input-border)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;min-height:20px;background-color:var(--input);color:var(--on-input)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--on-input);font-size:14px;cursor:pointer}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--on-input-hover)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{width:100%;display:flex;min-height:30px}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:calc(100% - 24px)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .reference[_ngcontent-%COMP%]{padding-top:5px;font-size:.8em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 5px 5px}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media (max-width: 522px){[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]{width:100%;margin-top:30px}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;display:block;max-width:100%}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]{border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:var(--background-border);padding:15px;display:flex;flex-flow:row wrap}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .art[_ngcontent-%COMP%]{min-width:64px;min-height:64px;max-width:64px;display:block;cursor:pointer}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:auto}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{margin-left:15px;display:flex;flex-flow:column wrap;position:relative;width:calc(100% - 120px)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], [_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], [_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]{letter-spacing:1px;font-size:.8em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:24px;font-weight:100;color:var(--on-background-highlight)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--on-background-highlight)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--on-background)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;line-height:1.2em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:auto}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:5px;margin-right:5px;height:27px;font-weight:500;padding:1px 15px 0}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:scale(1.3);transform-origin:center}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;border:1px solid transparent;padding:4px 9px 7px;border-radius:50%;display:none;position:absolute;right:1px;bottom:0}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--control-hover);color:var(--on-background-hover)}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]:hover   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]:hover   app-fav-icon[_ngcontent-%COMP%]{display:inline}@media (max-width: 400px){[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]{padding-left:0;padding-right:0}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.8em}[_nghost-%COMP%]   .search-podcasts[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .podcasts[_ngcontent-%COMP%]   .search-podcast-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px}}"]})}return o})(),canActivate:[E.HU],data:{name:"Podcast Search"}}];let $=(()=>{class o{static \u0275fac=function(c){return new(c||o)};static \u0275mod=n.$C({type:o});static \u0275inj=n.G2t({imports:[h.MD,C.YN,A.G,S.iI.forChild(L)]})}return o})()}}]);