import{a as S}from"./chunk-42XSKI6Y.js";import"./chunk-EUAKOWGB.js";import{a as y}from"./chunk-ILDEMCQX.js";import"./chunk-3QJCEZQC.js";import"./chunk-LMBWQPDX.js";import"./chunk-HJOPBEHX.js";import"./chunk-VTBMZQVI.js";import"./chunk-TUZFBHPK.js";import"./chunk-HURYLTUC.js";import{a as I}from"./chunk-OEKZQI6C.js";import"./chunk-PWX7D7BF.js";import"./chunk-LXRIBXQ3.js";import"./chunk-3KEFNAKY.js";import"./chunk-2PUJQAN6.js";import{a as O,i as T}from"./chunk-QH72VV2F.js";import"./chunk-VZVRBD6P.js";import"./chunk-CDMVSZCB.js";import"./chunk-UZYU4GV7.js";import"./chunk-K4DVWEJI.js";import"./chunk-UVO2NCSB.js";import"./chunk-24DMSAFT.js";import"./chunk-XTLMNK2P.js";import"./chunk-GXCVGDS5.js";import"./chunk-J5MSA5AP.js";import"./chunk-3CQO2UIK.js";import"./chunk-PZKV7YRJ.js";import"./chunk-4LEAF22C.js";import"./chunk-EAERQNF5.js";import"./chunk-5EJKCVNW.js";import"./chunk-CQEFCIFT.js";import"./chunk-TT7XXVKE.js";import"./chunk-LV2G3RH6.js";import"./chunk-5NZQP5GA.js";import"./chunk-QWPA4HIO.js";import"./chunk-CTEOCYOX.js";import{a as x}from"./chunk-EPPWFHNT.js";import"./chunk-K64Q6LJ6.js";import{G as g}from"./chunk-ZMFSGBQT.js";import{f as b}from"./chunk-B4HPT77T.js";import{Cb as a,Db as s,Ib as u,Jb as p,Kb as o,Lb as c,U as _,Xb as C,Xd as h,Za as n,ac as m,fa as r,j as f,mb as v}from"./chunk-S3YUDFSI.js";function E(i,d){if(i&1&&(p(0,"div",4)(1,"div",5),C(2,0),o(),c(3,"app-info-note",6),o()),i&2){let t=m(2);n(3),u("info",t.artist.info)}}function A(i,d){if(i&1&&(p(0,"div",1),a(1,E,4,1,"div",4),o()),i&2){let t=m();n(),s(t.artist.info?1:-1)}}function w(i,d){i&1&&c(0,"app-loading")}function R(i,d){if(i&1&&(p(0,"div",2),c(1,"app-obj-groups-view",7),o()),i&2){let t=m();n(),u("objs",t.albums)("viewTypeList",!0)("grouping",!0)}}function M(i,d){if(i&1&&(p(0,"div",3),c(1,"app-tracks-loader",8),o()),i&2){let t=m();n(),u("queryCmd",t.tracksQuery)}}var z=(()=>{class i{constructor(){this.library=r(T),this.notify=r(g),this.jam=r(h),this.route=r(b),this.unsubscribe=new f}ngOnInit(){this.route.paramMap.pipe(_(this.unsubscribe)).subscribe(t=>{this.id=t.get("id")??void 0,this.refresh()})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}refresh(){this.artist=void 0,this.albums=void 0,this.tracksQuery=void 0,this.id&&this.jam.artist.id({id:this.id,artistIncState:!0,artistIncAlbums:!0,artistIncGenres:!0,albumIncState:!0,artistIncInfo:!0}).then(t=>{this.artist=t,this.albums=(t.albums??[]).map(e=>new O(e,this.library)),this.albums.length===0&&(this.tracksQuery={artistIDs:[this.artist.id]})}).catch(t=>{this.notify.error(t)})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=v({type:i,selectors:[["app-artist-overview"]],decls:4,vars:3,consts:()=>{let t;return t=$localize`:␟eec715de352a6b114713b30b640d319fa78207a0␟4902817035128594900:Description`,[t,[1,"overview"],[1,"artist-albums"],[1,"artist-tracks"],[1,"info"],[1,"section-title"],[3,"info"],[3,"objs","viewTypeList","grouping"],[3,"queryCmd"]]},template:function(e,l){e&1&&(a(0,A,2,1,"div",1)(1,w,1,0,"app-loading"),a(2,R,2,3,"div",2),a(3,M,2,1,"div",3)),e&2&&(s(l.artist?0:1),n(2),s(l.albums&&!l.tracksQuery?2:-1),n(),s(l.tracksQuery?3:-1))},dependencies:[S,y,x,I],styles:["[_nghost-%COMP%]{padding:0 5px 5px}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media(max-width:522px){[_nghost-%COMP%]{padding-left:10px;padding-right:10px}}"]})}}return i})();export{z as ArtistOverviewComponent};
