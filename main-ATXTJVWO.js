import{a as $t}from"./chunk-O4OFMMXO.js";import{a as Ze,b as et,c as Bt,d as Dt,e as Ut,f as Yt,g as Me}from"./chunk-O7DQIRVI.js";import{a as j,b as ot,c as it}from"./chunk-3LEU7OZE.js";import{a as Lt}from"./chunk-CUCEAQEW.js";import{a as Rt}from"./chunk-5NIXNXXO.js";import{a as wt,b as At,c as kt,d as he}from"./chunk-MZ65RTTK.js";import{a as It}from"./chunk-SYVNN2CS.js";import{a as St,b as xt}from"./chunk-S5JBZZJP.js";import{a as Nt}from"./chunk-W4AKO6YE.js";import"./chunk-UOVMZ53K.js";import"./chunk-NV464EDQ.js";import{a as Je,c as N}from"./chunk-XP5ERWDG.js";import{a as Tt}from"./chunk-5YFZ6GCD.js";import{a as ie}from"./chunk-6VWQ7JC4.js";import{a as ht}from"./chunk-UPKF4LSO.js";import{a as Pe}from"./chunk-OJKXV56N.js";import{b as _e}from"./chunk-V6GDRA44.js";import{c as yt,d as ge}from"./chunk-6UV7XVIR.js";import{b as Mt,c as ft,d as me}from"./chunk-SDT7PSNL.js";import{a as Ct,c as Ht}from"./chunk-4K2FA6DD.js";import{a as Et}from"./chunk-AIQOHZWK.js";import{a as Ot}from"./chunk-N2K5OS3Y.js";import"./chunk-24DMSAFT.js";import{o as tt}from"./chunk-Y5Z5ITNC.js";import{a as Pt,c as de,d as vt}from"./chunk-ORVGIZVG.js";import{a as ut}from"./chunk-K7RVMPTP.js";import{a as bt,b as re,c as k,d as O}from"./chunk-MHPFTM2Z.js";import{a as Ce,b as ue}from"./chunk-T2QKBMPN.js";import"./chunk-DYCPZPVS.js";import"./chunk-CXISAAQ7.js";import"./chunk-BNP52TDG.js";import"./chunk-F6BYEP4R.js";import"./chunk-VP6KNDS4.js";import{a as S,l as st}from"./chunk-AQDYGNZB.js";import{a as A}from"./chunk-W76RWN3H.js";import"./chunk-FQC6PRY2.js";import"./chunk-PZTZCA44.js";import"./chunk-4HNSRH53.js";import{C as lt,D as ct,G as gt,q as rt,s as at}from"./chunk-ZVKVGF76.js";import{a as Fe,b as je,c as We,e as pt,f as _t,g as dt,h as se,i as mt,k as pe}from"./chunk-T6GM3CFW.js";import{$b as W,$d as oe,Da as X,F as we,Fc as Ye,Gb as Se,Hb as M,Hd as qe,Ib as f,Ic as b,Id as Qe,Jb as $e,Jc as G,Jd as Ke,Kc as He,Lb as Be,Lc as F,Mb as De,Mc as Ve,Nb as h,Ob as p,Pb as s,Qb as _,Rb as B,Sb as $,Tb as I,Ub as Q,Uc as Xe,Vb as K,Wc as te,Xa as Le,Y as le,Zd as ce,_a as be,_b as E,_d as ne,a as Ne,ab as a,ac as L,ae as nt,da as V,dc as d,e as J,ec as z,fc as u,ga as Ae,ia as c,ib as Te,ja as Re,k as ae,na as g,nb as P,nc as Z,nd as ze,oa as C,oc as ee,pa as ke,pc as Ue,qa as Ie,qc as H,rc as x,sb as Y,sc as xe,tc as v,td as Ge,uc as y,wd as D}from"./chunk-H2EXZDP6.js";var fe=class i{constructor(t,r,o){this.availableTabs=t,this.outletElement=r,this.injector=o,this.activeTabs={}}get currentTabName(){return this.curTab?this.curTab.tab.name:void 0}switchTo(t){let r=this.availableTabs.find(o=>o.name===t);r&&this.switchToTab(r)}switchToTab(t){if(this.curTab&&this.curTab.tab.name===t.name)return;for(let e of this.availableTabs)e.active=!1;t.active=!0,this.detach();let r=this.activateInstance(t),o=this.outletElement.element.nativeElement;o.innerHTML="",r&&(o.append(i.getComponentRootNode(r.componentRef)),this.curTab=r,r.componentRef.instance.onActivate())}detach(){let t=this.curTab;t!==void 0&&(t.portal.setAttachedHost(null),this.curTab=void 0)}dispose(){for(let r of Object.keys(this.activeTabs))this.activeTabs[r]?.dispose();this.outletElement.element.nativeElement.parentNode&&this.outletElement.remove()}static getComponentRootNode(t){return t.hostView.rootNodes[0]}activateInstance(t){return this.activeTabs[t.name]??=this.createComponent(t),this.activeTabs[t.name]}createComponent(t){let r=this.outletElement.createComponent(t.componentClass),o=new rt(t.componentClass,void 0,this.injector);return{tab:t,portal:o,componentRef:r,dispose:()=>{r.destroy()}}}};function nn(i,t){if(i&1){let r=E();p(0,"div",4),d("contextmenu",function(){g(r);let e=u();return C(e.onContextMenu())}),p(1,"div",5),L(2,0),s(),p(3,"div",6)(4,"div",7),_(5,"app-coverart-image",8),s(),p(6,"div",9)(7,"app-fav-icon",10),d("clickenter",function(){let e=g(r),n=u();return C(n.actions.toggleMediaBaseFav(e))}),s(),p(8,"div",11),v(9),s(),p(10,"a",12),d("clickenter",function(){let e=g(r),n=u();return C(n.navig.toTrack(e))}),v(11),s(),p(12,"a",13),d("clickenter",function(){let e=g(r),n=u();return C(n.navig.toMediaAlbum(e))}),v(13),s(),p(14,"a",14),d("clickenter",function(){let e=g(r),n=u();return C(n.navig.toMediaArtist(e))}),v(15),s(),p(16,"div",15)(17,"a",16),d("clickenter",function(){g(r);let e=u();return C(e.onContextMenu())}),v(18,"\u2026"),s()()()(),_(19,"app-lyrics",17),s()}if(i&2){let r=t;a(5),h("coverArtObj",r)("size",135)("alt",r.name),a(2),h("faved",r.state==null?null:r.state.faved),a(2),y(r.tag==null?null:r.tag.year),a(2),y(r.tag==null?null:r.tag.title),a(2),y(r.tag==null?null:r.tag.album),a(2),y(r.tag==null?null:r.tag.artist),a(4),h("trackID",r.id)}}function on(i,t){if(i&1&&(p(0,"div",22)(1,"div",24),v(2),s()()),i&2){let r=u();a(2),y(r.summary)}}function rn(i,t){if(i&1&&_(0,"app-chapters",23),i&2){let r=u();h("episode",r)}}function an(i,t){if(i&1){let r=E();p(0,"div",2)(1,"div",6)(2,"div",7),_(3,"app-coverart-image",8),s(),p(4,"div",9)(5,"app-fav-icon",18),d("click",function(){let e=g(r),n=u();return C(n.actions.toggleMediaBaseFav(e))})("keydown.enter",function(){let e=g(r),n=u();return C(n.actions.toggleMediaBaseFav(e))}),s(),p(6,"div",11),v(7),b(8,"date"),s(),p(9,"a",19),d("click",function(){let e=g(r),n=u();return C(n.navig.toPodcastEpisode(e))})("keydown.enter",function(){let e=g(r),n=u();return C(n.navig.toPodcastEpisode(e))}),v(10),s(),p(11,"a",20),d("click",function(){let e=g(r),n=u();return C(n.navig.toPodcastID(e.podcastID,e.podcastName))})("keydown.enter",function(){let e=g(r),n=u();return C(n.navig.toPodcastID(e.podcastID,e.podcastName))}),v(12),s(),p(13,"div",21),v(14),s(),_(15,"div",15),s()(),M(16,on,3,1,"div",22),M(17,rn,1,1,"app-chapters",23),s()}if(i&2){let r=t;a(3),h("coverArtObj",r)("size",135)("alt",r.name),a(2),h("faved",r.state==null?null:r.state.faved),a(2),y(G(8,10,r.date)),a(3),y((r.tag==null?null:r.tag.title)||r.name),a(2),y(r.podcast),a(2),y(r.author),a(2),f(r.summary?16:-1),a(),f(r&&r.chapters?17:-1)}}function ln(i,t){i&1&&(p(0,"div",3)(1,"div",5),L(2,1),s()())}var Oe=(()=>{let t=class t{constructor(){this.player=c(O),this.navig=c(A),this.actions=c(de)}onActivate(){}onContextMenu(){}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-player-current-info"]],decls:3,vars:3,consts:()=>{let o;o=$localize`:␟7ccb95194e15c1e9b056e3e555d02544657c4fda␟4022398858082732270:Toggle Favorite`;let e;e=$localize`:␟41aac9cecddc9f345c263d3742192e68e227e413␟2102825898069375693:Menu`;let n;n=$localize`:␟554fa4d24b46ad3dbc2727a72e5dcdb8fdbd4671␟1577493895947205336: Currently Playing `;let l;l=$localize`:␟7ccb95194e15c1e9b056e3e555d02544657c4fda␟4022398858082732270:Toggle Favorite`;let m;return m=$localize`:␟8473671b5232bc3bbff7e3d33690548a2c5e64c5␟8177455663203610753:No track playing`,[n,m,[1,"player-top-view"],[1,"player-top-view","player-top-centered"],[1,"player-top-view",3,"contextmenu"],[1,"title"],[1,"track-plate"],[1,"art"],[3,"coverArtObj","size","alt"],[1,"meta"],["tabindex","0","title",o,3,"clickenter","faved"],[1,"year"],["tabindex","0",1,"name",3,"clickenter"],["tabindex","0",1,"album",3,"clickenter"],["tabindex","0",1,"artist",3,"clickenter"],[1,"actions"],["tabindex","0","title",e,1,"more",3,"clickenter"],[3,"trackID"],["tabindex","0","title",l,3,"click","keydown.enter","faved"],["tabindex","0",1,"name",3,"click","keydown.enter"],["tabindex","0",1,"album",3,"click","keydown.enter"],[1,"artist"],[1,"description"],[3,"episode"],[1,"note"]]},template:function(e,n){if(e&1&&(M(0,nn,20,9,"div",2),M(1,an,18,12,"div",2),M(2,ln,3,0,"div",3)),e&2){let l,m;f((l=n.player.currentTrack)?0:-1,l),a(),f((m=n.player.currentEpisode)?1:-1,m),a(),f(!n.player.currentTrack&&!n.player.currentEpisode?2:-1)}},dependencies:[D,ht,Nt,Pt,ie,xt,Ge],styles:["[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]{overflow-y:auto;width:100%;height:80px;min-height:100%;overflow-x:hidden;padding:15px}[_nghost-%COMP%]   .player-top-view.player-top-centered[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:32px;font-weight:100;text-align:center;padding:0 0 10px;margin:0;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{display:block;padding:15px;border-radius:4px;font-weight:200;font-size:13px;letter-spacing:1px;line-height:1.5em;background-color:var(--background-box);color:var(--on-background-highlight)}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .info-footnote[_ngcontent-%COMP%]{margin-top:15px}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]{border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:var(--background-border);padding:15px;display:flex;flex-flow:row wrap}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .art[_ngcontent-%COMP%]{min-height:135px;min-width:135px;display:block;cursor:pointer}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{width:calc(100% - 152px);margin-left:15px;display:flex;flex-flow:column wrap;position:relative}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   app-fav-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:0;display:none;cursor:pointer;border:1px solid transparent;padding:7px 5px 5px;border-radius:50%;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   app-fav-icon[_ngcontent-%COMP%]:hover{background-color:var(--control-hover);color:var(--on-background-hover)}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{text-transform:uppercase}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], [_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%], [_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]{letter-spacing:1px;font-size:.8em}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:24px;font-weight:100;color:var(--on-background-highlight)}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--on-background-highlight)}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--on-background)}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;line-height:1.2em}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:auto}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:5px;margin-right:5px;height:27px;font-weight:500;padding:1px 15px 0}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:scale(1.3);transform-origin:center}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;border:1px solid transparent;padding:4px 9px 7px;border-radius:50%;display:none;position:absolute;right:1px;bottom:0}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--control-hover);color:var(--on-background-hover)}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]:hover   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]:hover   app-fav-icon[_ngcontent-%COMP%]{display:inline}@media (max-width: 400px){[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]{padding-left:0;padding-right:0}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.8em}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   .track-plate[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px}}[_nghost-%COMP%]   .player-top-view[_ngcontent-%COMP%]   app-chapters[_ngcontent-%COMP%]{display:block;margin-top:15px;margin-left:15px}"]});let i=t;return i})();var Vt=(()=>{let t=class t{constructor(){this.player=c(O),this.navig=c(A)}onActivate(){}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-tab-info"]],decls:3,vars:0,consts:[[1,"player-full"],[1,"player-top"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1),_(2,"app-player-current-info"),s()())},dependencies:[D,Oe],styles:["[_nghost-%COMP%]   .player-full[_ngcontent-%COMP%]{position:relative;flex:0 1 100%;display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .player-top[_ngcontent-%COMP%]{flex-grow:1;overflow-y:hidden;overflow-x:hidden}"]});let i=t;return i})();var Xt=(()=>{let t=class t{onActivate(){}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-tab-main"]],decls:1,vars:0,template:function(e,n){e&1&&_(0,"router-outlet")},dependencies:[D,pe,dt],encapsulation:2});let i=t;return i})();var ve=(()=>{let t=class t{constructor(){this.speedPC=20,this.speedString="Speed: 1x",this.min=0,this.max=3.5,this.player=c(O),this.element=c(X),this.speed=1}ngOnInit(){this.displaySpeed(this.player.getSpeed()),this.player.on(k.SPEED,o=>{this.displaySpeed(o)})}changeSpeed(o){let e=this.calculateSpeedByPosition(o.offsetX),n=(this.max-this.min)*e/100;this.player.speed(n+.5)}displaySpeed(o){this.speed=o,this.speedString=`Speed: ${o.toFixed(2)}x`,this.speedPC=this.calculatePositionPercentBySpeed()}calculatePositionPercentBySpeed(){return(this.speed-.5)/(this.max-this.min)*100}calculateSpeedByPosition(o){let e=this.element.nativeElement.getBoundingClientRect().width||1;return o*100/e}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-speed-slider"]],decls:3,vars:3,consts:[[1,"slider",3,"click","title"],[1,"back"],[1,"scrubber","neutral"]],template:function(e,n){e&1&&(B(0,"div",0),z("click",function(m){return n.changeSpeed(m)}),I(1,"div",1)(2,"div",2),$()),e&2&&(W("title",n.speedString),a(2),H("width",n.speedPC,"%"))},styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]{height:28px;float:none;width:100%;position:relative;overflow:visible;cursor:pointer}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{height:8px;position:absolute;inset:9px 0 0;width:100%;pointer-events:none;z-index:1;background-color:var(--control-box)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]{position:absolute;top:9px;left:0;bottom:0;width:0;height:8px;z-index:3;pointer-events:none;background-color:var(--primary)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber.neutral[_ngcontent-%COMP%]{background-color:var(--control-box-border)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{display:none;position:absolute;width:20px;height:20px;top:-9px;right:-10px;border-radius:50%;cursor:default;z-index:3}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber.line[_ngcontent-%COMP%]{border-right-style:solid;border-right-width:3px;top:0;height:28px;background-color:transparent;border-right-color:var(--on-background)}"]});let i=t;return i})();function sn(i,t){i&1&&I(0,"div",1)}function pn(i,t){if(i&1&&(B(0,"div",2),ke(),B(1,"svg",4)(2,"defs")(3,"clipPath",5),I(4,"rect",6),$(),I(5,"path",7),$(),I(6,"use",8)(7,"use",9),$()()),i&2){let r=u();a(),Se("viewBox",r.svg.viewbox),a(3),H("width",r.timePC,"%"),a(),Se("d",r.svg.path)}}var ye=(()=>{let t=class t{constructor(){this.player=c(O),this.jam=c(oe),this.app=c(N),this.timePC=0,this.tabindex="0",this.element=c(X)}ngOnInit(){this.player.on(k.TIME,()=>{this.updateTimeIndicator()}),this.player.on(k.TRACK,()=>{this.displayTrack(),this.updateTimeIndicator()}),this.displayTrack(),this.updateTimeIndicator()}displayTrack(){this.updateTimeIndicator(),this.displayWaveForm()}rewind(){this.player.rewind(2)}forward(){this.player.forward(2)}displayWaveForm(){this.svg=void 0,this.app.settings.showWaveform&&this.player.currentMedia&&this.jam.waveform.svg({id:this.player.currentMedia.id,width:this.app.smallscreen?1e3:4e3}).then(o=>{this.svg=St(o)}).catch(o=>{console.error(o)})}updateTimeIndicator(){this.timePC=this.calculatePositionPercentByTime()}calculatePositionPercentByTime(){return this.player.currentPercent()}changePlaybackTime(o){let e=this.player.totalTime;if(e!==void 0){let n=this.element.nativeElement.getBoundingClientRect().width||1,l=o.offsetX/n,m=e*l;setTimeout(()=>{this.player.seek(m)},0)}}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-time-slider"]],hostVars:1,hostBindings:function(e,n){e&1&&d("keydown.arrowLeft",function(){return n.rewind()})("keydown.arrowRight",function(){return n.forward()}),e&2&&W("tabIndex",n.tabindex)},decls:4,vars:6,consts:()=>{let o;return o=$localize`:␟27551d586c79b500503f5aab2739bec723c3c4c6␟5734888861256751765:none`,[[1,"slider",3,"mousedown"],[1,"back"],[1,"waveform"],[1,"scrubber"],["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio",o,2,"fill-rule","evenodd","clip-rule","evenodd"],["id","cut-off-right"],["x","0","y","0","height","256"],["id","waveform-path"],[0,"xlink","href","#waveform-path","stroke","#1ed760","fill","#1ed760"],[0,"xlink","href","#waveform-path","stroke","#2B7343","fill","#2B7343","clip-path","url(#cut-off-right)"]]},template:function(e,n){e&1&&(B(0,"div",0),z("mousedown",function(m){return n.changePlaybackTime(m)}),M(1,sn,1,0,"div",1),M(2,pn,8,4,"div",2),I(3,"div",3),$()),e&2&&(a(),f(!n.app.settings.showWaveform||!n.svg?1:-1),a(),f(n.app.settings.showWaveform&&n.svg?2:-1),a(),H("width",n.timePC,"%"),x("line",!!n.svg))},styles:["[_nghost-%COMP%]{width:100%;vertical-align:middle}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]{height:32px;float:none;width:100%;position:relative;overflow:visible;cursor:pointer}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{height:4px;position:absolute;inset:13px 0 0;width:100%;pointer-events:none;z-index:1;background-color:var(--control-box)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]{position:absolute;top:13px;left:0;bottom:0;width:0;height:4px;z-index:3;pointer-events:none;background-color:var(--primary)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber.neutral[_ngcontent-%COMP%]{background-color:var(--control-box-border)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{display:none;position:absolute;width:28px;height:28px;top:-13px;right:-14px;border-radius:50%;cursor:default;z-index:3}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber.line[_ngcontent-%COMP%]{border-right-style:solid;border-right-width:3px;top:0;height:32px;background-color:transparent;border-right-color:var(--on-background)}[_nghost-%COMP%]   .waveform[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;right:0;width:100%;height:100%;pointer-events:none;z-index:2;color:#1ed760}[_nghost-%COMP%]   .waveform[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:32px}"]});let i=t;return i})();var Ee=(()=>{let t=class t{constructor(){this.volumePC=50,this.tabindex="0",this.player=c(O),this.element=c(X),this.volume=0}volumeDown(){this.player.volumeDown()}volumeUp(){this.player.volumeUp()}ngOnInit(){this.displayVolume(this.player.getVolume()),this.player.on(k.VOLUME,o=>{this.displayVolume(o)})}changeVolume(o){let e=this.calculateVolumeByPosition(o.offsetX);this.player.volume(e)}displayVolume(o){this.volume=o,this.volumePC=this.calculatePositionPercentByVolume()}calculatePositionPercentByVolume(){return this.volume}calculateVolumeByPosition(o){let e=this.element.nativeElement.getBoundingClientRect().width||1;return o*100/e}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-volume-slider"]],hostVars:1,hostBindings:function(e,n){e&1&&d("keydown.arrowLeft",function(){return n.volumeDown()})("keydown.arrowRight",function(){return n.volumeUp()}),e&2&&W("tabIndex",n.tabindex)},decls:3,vars:3,consts:[[1,"slider",3,"click","title"],[1,"back"],[1,"scrubber","neutral"]],template:function(e,n){e&1&&(B(0,"div",0),z("click",function(m){return n.changeVolume(m)}),I(1,"div",1)(2,"div",2),$()),e&2&&(W("title",n.volumePC),a(2),H("width",n.volumePC,"%"))},styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]{height:28px;float:none;width:100%;position:relative;overflow:visible;cursor:pointer}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{height:8px;position:absolute;inset:9px 0 0;width:100%;pointer-events:none;z-index:1;background-color:var(--control-box)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]{position:absolute;top:9px;left:0;bottom:0;width:0;height:8px;z-index:3;pointer-events:none;background-color:var(--primary)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber.neutral[_ngcontent-%COMP%]{background-color:var(--control-box-border)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{display:none;position:absolute;width:20px;height:20px;top:-9px;right:-10px;border-radius:50%;cursor:default;z-index:3}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber.line[_ngcontent-%COMP%]{border-right-style:solid;border-right-width:3px;top:0;height:28px;background-color:transparent;border-right-color:var(--on-background)}"]});let i=t;return i})();function _n(i,t){if(i&1){let r=E();p(0,"a",12),d("click",function(){g(r);let e=u();return C(e.player.unmute())}),_(1,"i",13),s()}}function dn(i,t){if(i&1){let r=E();p(0,"a",14),d("click",function(){g(r);let e=u();return C(e.player.mute())}),_(1,"i",15),s()}}var zt=(()=>{let t=class t{constructor(){this.player=c(O),this.navig=c(A)}onActivate(){}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-tab-player"]],decls:19,vars:7,consts:()=>{let o;o=$localize`:␟1f689fada9748a830117f5b429a88ef8629082a8␟6453471031802119612:Unmute`;let e;e=$localize`:␟7be9877f3b1042bfc095c728acb0dbeb9c6e8205␟2494293689061559568:Mute`;let n;n=$localize`:␟796e42bec8a6996607cf1f3e80235b86d695804a␟434404492084234684:Volume`;let l;return l=$localize`:␟d1fe6d3a9d6cf3a1e3972a5d19cae96ebf150246␟810461764147293655:Reset Speed`,[[1,"player-info"],[1,"volume"],["title",o],["title",e],["title",n],[1,"player-speed"],["title",l,3,"click"],[1,"icon-speed"],[1,"progress"],[1,"start"],[1,"bar"],[1,"finish"],["title",o,3,"click"],[1,"icon-volume-off"],["title",e,3,"click"],[1,"icon-volume-up"]]},template:function(e,n){e&1&&(_(0,"app-player-current-info"),p(1,"div",0)(2,"div",1),M(3,_n,2,0,"a",2)(4,dn,2,0,"a",3),_(5,"app-volume-slider",4),s(),p(6,"div",5)(7,"a",6),d("click",function(){return n.player.speed(1)}),_(8,"i",7),s(),_(9,"app-speed-slider"),s(),p(10,"div",8)(11,"div",9),v(12),b(13,"mediaduration"),s(),p(14,"div",10),_(15,"app-time-slider"),s(),p(16,"div",11),v(17),b(18,"mediaduration"),s()()()),e&2&&(a(3),f(n.player.isMuted?3:4),a(9),y(G(13,3,n.player.currentTime)),a(5),y(G(18,5,n.player.totalTime)))},dependencies:[D,Oe,Ee,ve,ye,Pe],styles:["[_nghost-%COMP%]{height:100%;position:relative;flex:0 1 100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]{padding:15px;background-color:var(--control);border-top-width:1px;border-top-style:solid;border-top-color:var(--control-border)}[_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%], [_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   .player-speed[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-flow:row nowrap;width:100%;margin-bottom:5px}[_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   .player-speed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--on-control-ambient);font-size:1.5em;display:block}[_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   .player-speed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--on-control-ambient-hover)}[_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   app-volume-slider[_ngcontent-%COMP%], [_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   app-speed-slider[_ngcontent-%COMP%]{display:block;flex:1;margin-left:15px;margin-top:5px}[_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{font-size:11px;display:flex;flex-flow:row;justify-content:space-between;align-items:center;color:var(--on-control-ambient)}[_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .start[_ngcontent-%COMP%], [_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .finish[_ngcontent-%COMP%]{min-width:30px}[_nghost-%COMP%]   .player-info[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:100%;padding-left:12px;padding-right:12px}[_nghost-%COMP%]   app-player-current-info[_ngcontent-%COMP%]{flex-grow:1;overflow-y:hidden;overflow-x:hidden}"]});let i=t;return i})();var Gt=(()=>{let t=class t{onActivate(){}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-tab-queue"]],decls:1,vars:0,template:function(e,n){e&1&&_(0,"app-queue")},dependencies:[D,It],encapsulation:2});let i=t;return i})();var U=(()=>{let t=class t{constructor(){this.infoTab={name:"info-queue",componentClass:Vt},this.playerTab={name:"player",componentClass:zt},this.queueTab={name:"queue",componentClass:Gt},this.mainTab={name:"main",componentClass:Xt},this.tabs=[this.mainTab,this.playerTab,this.queueTab,this.infoTab]}get currentTabName(){return this.tabPortalHost?this.tabPortalHost.currentTabName:void 0}init(o){this.tabPortalHost=o,this.switchToMain()}switchToMain(){this.switchTo(this.mainTab.name)}dispose(){this.tabPortalHost&&(this.tabPortalHost.dispose(),this.tabPortalHost=void 0)}clickInfo(){this.switchTo(this.currentTabName===this.infoTab.name?this.mainTab.name:this.infoTab.name)}clickPlayer(){this.switchTo(this.currentTabName===this.playerTab.name?this.mainTab.name:this.playerTab.name)}clickQueue(){this.switchTo(this.currentTabName===this.queueTab.name?this.mainTab.name:this.queueTab.name)}switchTo(o){this.tabPortalHost&&this.tabPortalHost.switchTo(o)}};t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var mn=["userMenu"];function gn(i,t){i&1&&(_(0,"i",9),Q(1),L(2,1),K())}function Cn(i,t){i&1&&(_(0,"i",10),Q(1),L(2,2),K())}function un(i,t){i&1&&(_(0,"i",11),Q(1),L(2,3),K())}function Pn(i,t){i&1&&(_(0,"i",12),Q(1),L(2,4),K())}function hn(i,t){i&1&&(_(0,"i",13),Q(1),L(2,5),K())}function Mn(i,t){i&1&&(_(0,"i",14),Q(1),L(2,6),K())}var Ft=(()=>{let t=class t{constructor(){this.navig=c(A),this.auth=c(ne),this.contextMenu=te.required("userMenu")}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-context-menu-user"]],viewQuery:function(e,n){e&1&&Z(n.contextMenu,mn,5),e&2&&ee()},decls:8,vars:1,consts:()=>{let o;o=$localize`:␟994363f08f9fbfa3b3994ff7b35c6904fdff18d8␟4915431133669985304:Profile`;let e;e=$localize`:␟121cc5391cd2a5115bc2b3160379ee5b36cd7716␟4930506384627295710:Settings`;let n;n=$localize`:␟0b319c4dd6d4ddd74cd138b72ab8109ffcc28f36␟7385160636957089888:Library`;let l;l=$localize`:␟b7648e7aced164498aa843b5c4e8f2f1c36a7919␟7844706011418789951:Administration`;let m;m=$localize`:␟004b222ff9ef9dd4771b777950ca1d0e4cd4348a␟1726363342938046830:About`;let w;return w=$localize`:␟bb694b49d408265c91c62799c2b3a7e3151c824d␟3797778920049399855:Logout`,[["userMenu",""],o,e,n,l,m,w,["contextMenuItem","",3,"execute"],["contextMenuItem","",3,"execute","visible"],[1,"icon-user"],[1,"icon-settings"],[1,"icon-browse"],[1,"icon-admin"],[1,"icon-help"],[1,"icon-logout"]]},template:function(e,n){if(e&1){let l=E();p(0,"context-menu",null,0),Y(2,gn,3,0,"ng-template",7),d("execute",function(){return g(l),C(n.navig.toUser())}),Y(3,Cn,3,0,"ng-template",7),d("execute",function(){return g(l),C(n.navig.toUserSettings())}),Y(4,un,3,0,"ng-template",7),d("execute",function(){return g(l),C(n.navig.toLibraryStart())}),Y(5,Pn,3,0,"ng-template",8),d("execute",function(){return g(l),C(n.navig.toAdmin())}),Y(6,hn,3,0,"ng-template",7),d("execute",function(){return g(l),C(n.navig.toAbout())}),Y(7,Mn,3,0,"ng-template",7),d("execute",function(){return g(l),C(n.navig.toLogout())}),s()}e&2&&(a(5),h("visible",!!(!(n.auth.user==null||n.auth.user.roles==null)&&n.auth.user.roles.admin)))},dependencies:[me,ft,Mt],encapsulation:2});let i=t;return i})();function fn(i,t){if(i&1&&(p(0,"app-autocomplete-option-header"),v(1),s()),i&2){let r=u().$implicit;a(),y(r.header)}}function On(i,t){if(i&1&&(M(0,fn,2,1,"app-autocomplete-option-header"),p(1,"app-autocomplete-option",8),_(2,"span",9),b(3,"highlight"),s()),i&2){let r=t.$implicit,o=u().control;f(r.header?0:-1),a(),h("option",r)("control",o),a(),h("innerHTML",He(3,4,r.data.name,o.query),Le)}}function vn(i,t){if(i&1&&Be(0,On,4,7,null,null,$e),i&2){let r=t.control;De(r.options)}}var R={track:"Track",album:"Album",artist:"Artist",playlist:"Playlist",podcast:"Podcast",episode:"Episode",folder:"Folder"},jt=(()=>{let t=class t{constructor(){this.autocomplete=te(he),this.searchStateChange=Xe(),this.jam=c(oe),this.navig=c(A)}setSearchActive(o){this.searchStateChange.emit(o)}autocompleteEnter(){}search(){this.autocomplete()?.run()}autocompleteGetData(o){return J(this,null,function*(){let e=yield this.jam.autocomplete.autocomplete({query:o,album:5,artist:5,playlist:5,podcast:5,track:5,episode:5}),n=[{type:R.artist,list:e.artists},{type:R.album,list:e.albums},{type:R.track,list:e.tracks},{type:R.playlist,list:e.playlists},{type:R.podcast,list:e.podcasts},{type:R.episode,list:e.episodes},{type:R.folder,list:e.folders}],l=[];for(let m of n)if(m.list&&m.list.length>0){let w=m.list.map(q=>({data:Ne({type:m.type},q)}));w[0].header=m.type,l=[...l,...w]}return l})}autocompleteSelectResult(o){let e=o.data;switch(e.type){case R.track:{this.navig.toTrackID(e.id,e.name);break}case R.episode:{this.navig.toPodcastEpisodeID(e.id,e.name);break}case R.album:{this.navig.toAlbumID(e.id,e.name);break}case R.artist:{this.navig.toArtistID(e.id,e.name);break}case R.playlist:{this.navig.toPlaylistID(e.id,e.name);break}case R.podcast:{this.navig.toPodcastID(e.id,e.name);break}case R.folder:{this.navig.toFolderID(e.id,e.name);break}default:break}return e.name}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-search-box"]],viewQuery:function(e,n){e&1&&Z(n.autocomplete,he,5),e&2&&ee()},outputs:{searchStateChange:"searchStateChange"},decls:9,vars:2,consts:()=>{let o;o=$localize`:␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`;let e;return e=$localize`:␟7e892ba15f2c6c17e83510e273b3e10fc32ea016␟4580988005648117665:Search`,[["autocomplete","appAutocomplete"],e,["appAutocompleteContent",""],["role","search"],["for","header-search-box",1,"visually-hidden"],["aria-label",o,"autocomplete","off","id","header-search-box","name","query","type","search",3,"blur","focusin","appAutocompleteControl","appAutocomplete"],[3,"click"],["aria-hidden","true",1,"icon-search"],[3,"option","control"],[3,"innerHTML"]]},template:function(e,n){if(e&1){let l=E();p(0,"app-autocomplete",null,0),Y(2,vn,2,0,"ng-template",2),s(),p(3,"form",3)(4,"label",4),L(5,1),s(),p(6,"input",5),d("blur",function(){return g(l),C(n.setSearchActive(!1))})("focusin",function(){return g(l),C(n.setSearchActive(!0))}),s(),p(7,"button",6),d("click",function(){return g(l),C(n.search())}),_(8,"i",7),s()()}if(e&2){let l=Ue(1);a(6),h("appAutocompleteControl",n)("appAutocomplete",l)}},dependencies:[At,kt,he,wt,$t,Rt],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{border-radius:3px;align-items:center;background-color:var(--control-ambient);border:1px solid var(--control-box-border);color:var(--on-control);display:flex;flex-wrap:nowrap}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;min-width:50px;padding-left:3px;padding-right:3px;background-color:var(--control-ambient);color:var(--on-control);min-height:28px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--on-control);font-size:14px;cursor:pointer}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--on-input-hover)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]:focus-within{background-color:var(--input);border-color:var(--input-border);color:var(--on-input)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]:focus-within   input[_ngcontent-%COMP%]{background-color:var(--input);color:var(--on-input)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]:focus-within   i[_ngcontent-%COMP%]{color:var(--on-input)}"]});let i=t;return i})();var yn=()=>["/library"];function En(i,t){if(i&1){let r=E();p(0,"button",8),d("click",function(){g(r);let e=u();return C(e.back())}),_(1,"i",9),s()}}function bn(i,t){if(i&1){let r=E();p(0,"button",10),d("click",function(e){g(r);let n=u();return C(n.onContextMenu(e))}),_(1,"app-coverart-image",11),s()}if(i&2){let r=u();a(),h("coverArtObj",r.auth.user)("size",28)("round",!0)}}var qt=(()=>{let t=class t{constructor(){this.app=c(N),this.auth=c(ne),this.navig=c(A),this.tabService=c(U),this.searchActive=!1,this.location=c(ze),this.menuService=c(ge)}back(){this.location.back()}toggleMobileNavig(){this.tabService.switchToMain(),this.app.view.currentSidebar?.toggleMobileNavig()}onContextMenu(o){this.menuService.openMenuComponent(Ft,void 0,o)}searchStateChange(o){this.searchActive=o}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-header"]],decls:11,vars:7,consts:()=>{let o;o=$localize`:␟b9a009eab846176317fc928e63d0edb0a8a260d2␟4468670264446559048:Navigation Menu`;let e;e=$localize`:␟a67aec1c4d47cdf3a4442a19e616def78fd77388␟734934965373819800:Go back`;let n;n=$localize`:␟bb5f103d944a8504e750eefeea0a9a69fd61935f␟2590140545626587198:Go to Start`;let l;return l=$localize`:␟ffac8783eaf153173408c8a9014a7484fa6a9175␟8767912651395089354:User Menu`,[["title",o,1,"sandwich",3,"click"],["aria-hidden","true",1,"icon-menu"],["title",e,1,"back"],["title",n,1,"logo",3,"routerLink"],[1,"logo-name"],[1,"spacer"],[1,"search",3,"searchStateChange"],["title",l,1,"user"],["title",e,1,"back",3,"click"],["aria-hidden","true",1,"icon-left-bold"],["title",l,1,"user",3,"click"],[3,"coverArtObj","size","round"]]},template:function(e,n){e&1&&(p(0,"header")(1,"button",0),d("click",function(){return n.toggleMobileNavig()}),_(2,"i",1),s(),M(3,En,2,0,"button",2),p(4,"a",3),_(5,"app-logo-icon"),p(6,"span",4),v(7),s()(),_(8,"div",5),p(9,"app-search-box",6),d("searchStateChange",function(m){return n.searchStateChange(m)}),s(),M(10,bn,2,3,"button",7),s()),e&2&&(x("searching",n.searchActive),a(3),f(n.app.standalone?3:-1),a(),h("routerLink",Ye(6,yn)),a(3),y(n.app.name),a(3),f(n.auth.user!=null&&n.auth.user.name?10:-1))},dependencies:[pe,mt,jt,Tt,ie],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background-color:var(--control);color:var(--on-control-ambient);padding:10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:var(--control-border);width:100%;display:flex;flex-flow:row nowrap;align-items:center;justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:30px}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;margin-right:5px;display:flex;flex-wrap:nowrap;justify-content:center;align-items:center}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-name[_ngcontent-%COMP%]{padding-left:5px}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--on-control);font-size:20px;height:42px;padding-top:2px}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--on-control-hover)}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]   app-logo-icon[_ngcontent-%COMP%]{height:30px;width:30px}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .user[_ngcontent-%COMP%]   app-coverart-image[_ngcontent-%COMP%]{vertical-align:middle}[_nghost-%COMP%]   .user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}[_nghost-%COMP%]   .user[_ngcontent-%COMP%]:hover   app-coverart-image[_ngcontent-%COMP%], [_nghost-%COMP%]   .user[_ngcontent-%COMP%]:focus   app-coverart-image[_ngcontent-%COMP%]{border:1px solid var(--on-control-hover)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{transition:all .3s;width:120px}[_nghost-%COMP%]   .sandwich[_ngcontent-%COMP%], [_nghost-%COMP%]   .back[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding-top:2px;background-color:var(--control);color:var(--on-control);border-radius:50%}[_nghost-%COMP%]   .sandwich.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .sandwich[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .back.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .back[_ngcontent-%COMP%]:hover{background-color:var(--control-hover);color:var(--on-control-hover)}[_nghost-%COMP%]   .sandwich[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){[_nghost-%COMP%]   .sandwich[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{margin-right:15px}}@media (max-width: 522px){[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}[_nghost-%COMP%]   .logo-name[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{flex:1;overflow:hidden;margin-right:5px}}@media (max-width: 400px){[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{padding-right:10px}}@media (max-width: 300px){[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   header.searching[_ngcontent-%COMP%]{align-items:flex-end}[_nghost-%COMP%]   header.searching[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], [_nghost-%COMP%]   header.searching[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%], [_nghost-%COMP%]   header.searching[_ngcontent-%COMP%]   .sandwich[_ngcontent-%COMP%], [_nghost-%COMP%]   header.searching[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header.searching[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{flex:1;width:100%}"]});let i=t;return i})();function Tn(i,t){if(i&1){let r=E();p(0,"div",13)(1,"div",13)(2,"button",22),d("click",function(){g(r);let e=u();return C(e.player.speed(1))}),_(3,"i",17),s(),_(4,"app-speed-slider"),s()()}}var Qt=(()=>{let t=class t{constructor(){this.app=c(N),this.player=c(O),this.queue=c(re),this.showSpeed=!1,this.HOTKEYS=S,this.tabService=c(U)}toggleRepeat(){this.player.repeatTrack=!this.player.repeatTrack}togglePlayPause(){this.player.isPlaying||this.player.currentMedia?this.player.togglePlayPause():this.player.next()}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-player"]],decls:41,vars:63,consts:()=>{let o;o=$localize`:␟796e42bec8a6996607cf1f3e80235b86d695804a␟434404492084234684:Volume`;let e;return e=$localize`:␟d1fe6d3a9d6cf3a1e3972a5d19cae96ebf150246␟810461764147293655:Reset Speed`,[["role","status",1,"player"],[1,"actions"],[3,"click","disabled","title"],["aria-hidden","true",1,"icon-fast-backward"],[1,"play",3,"click","disabled","title"],["aria-hidden","true"],["aria-hidden","true",1,"icon-fast-forward"],[1,"progress"],[1,"start"],[1,"bar"],[1,"finish"],[1,"options"],[1,"player-slider-controls"],[1,"player-controls"],[1,"player-control",3,"click","title"],["title",o],["aria-hidden","true",1,"icon-loop"],["aria-hidden","true",1,"icon-speed"],[1,"player-control","button-info",3,"click","title"],["aria-hidden","true",1,"icon-info"],[1,"player-control","button-queue",3,"click","title"],["aria-hidden","true",1,"icon-queue"],["title",e,1,"player-control",3,"click"]]},template:function(e,n){e&1&&(p(0,"section",0)(1,"div",1)(2,"button",2),d("click",function(){return n.player.previous()}),_(3,"i",3),s(),p(4,"button",4),b(5,"stringToggle"),d("click",function(){return n.togglePlayPause()}),_(6,"i",5),b(7,"stringToggle"),s(),p(8,"button",2),d("click",function(){return n.player.next()}),_(9,"i",6),s()(),p(10,"div",7)(11,"div",8),v(12),b(13,"mediaduration"),s(),p(14,"div",9),_(15,"app-time-slider"),s(),p(16,"div",10),v(17),b(18,"mediaduration"),s()(),p(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),b(23,"stringToggle"),d("click",function(){return n.player.unmute()}),_(24,"i",5),b(25,"stringToggle"),s(),_(26,"app-volume-slider",15),s()(),M(27,Tn,5,0,"div",13),p(28,"div",13)(29,"button",14),b(30,"stringToggle"),d("click",function(){return n.toggleRepeat()}),_(31,"i",16),s(),p(32,"button",14),b(33,"stringToggle"),d("click",function(){return n.showSpeed=!n.showSpeed}),_(34,"i",17),s(),p(35,"button",18),b(36,"stringToggle"),d("click",function(){return n.tabService.clickInfo()}),_(37,"i",19),s(),p(38,"button",20),b(39,"stringToggle"),d("click",function(){return n.tabService.clickQueue()}),_(40,"i",21),s()()()()),e&2&&(a(2),h("disabled",!n.queue.hasPrevious)("title",`Previous Track (${n.HOTKEYS.previousTrack.shortcut})`),a(2),h("disabled",n.queue.isEmpty)("title",Ve(5,26,n.player.isPlaying,"Pause","Play",n.HOTKEYS.playPause.shortcut)),a(2),xe(F(7,31,n.player.isPlaying,"icon-pause","icon-play")),a(2),h("disabled",!n.queue.hasNext)("title",`Next Track (${n.HOTKEYS.nextTrack.shortcut})`),a(4),y(G(13,35,n.player.currentTime)),a(5),y(G(18,37,n.player.totalTime)),a(5),h("title",F(23,39,n.player.isMuted,"Unmute","Mute")),a(2),xe(F(25,43,n.player.isMuted,"icon-volume-off","icon-volume-up")),a(3),f(n.showSpeed?27:-1),a(2),x("active",n.player.repeatTrack),h("title",F(30,47,n.player.repeatTrack,"Stop repeating current track","Repeat current track")),a(3),x("active",n.showSpeed),h("title",F(33,51,n.showSpeed,"Hide Playback Speed Control","Show Playback Speed Control")),a(3),x("active",n.tabService.infoTab.active),h("title",F(36,55,n.tabService.infoTab.active,"Hide Play Info","Show Play Info")),a(3),x("active",n.tabService.queueTab.active),h("title",F(39,59,n.tabService.queueTab.active,"Hide Play Queue","Show Play Queue")))},dependencies:[ye,Ee,ve,Pe,ut],styles:["[_nghost-%COMP%]{background-color:var(--background);color:var(--on-background)}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]{width:100%;border-top-width:1px;border-top-style:solid;border-top-color:var(--control-border);padding:15px 15px 10px;display:flex;flex-flow:row wrap;align-items:center;background-color:var(--control);color:var(--on-control-ambient)}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--on-control-ambient);cursor:pointer;border:1px solid transparent;padding-top:4px}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:var(--on-background-highlight);border:1px solid var(--control-active)}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--on-control-ambient-hover)}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--on-control-ambient-disabled);cursor:default}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:24px}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .play[_ngcontent-%COMP%]{font-size:36px}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{flex:1;padding:0 15px;font-size:11px;display:flex;flex-flow:row;justify-content:space-between;align-items:center;color:var(--on-control-ambient)}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .start[_ngcontent-%COMP%], [_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .finish[_ngcontent-%COMP%]{min-width:30px}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:100%;padding-left:12px;padding-right:12px}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]{width:auto;margin-right:15px;text-align:right;flex:1;flex-wrap:nowrap;white-space:nowrap;display:flex;justify-items:center;align-items:center}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .player-control[_ngcontent-%COMP%]{margin-right:5px;font-size:1.5em;border-radius:2px;line-height:1.5em}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .player-control.button-queue[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   app-volume-slider[_ngcontent-%COMP%], [_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   app-speed-slider[_ngcontent-%COMP%]{display:block;flex:1;min-width:70px;margin-right:5px}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-flow:column wrap;align-items:center;max-width:200px;margin-top:2px}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;width:100%}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--on-control-ambient);font-size:1.5em;display:block}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--on-control-ambient-hover)}@media (max-width: 1400px){[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .player-control.button-queue[_ngcontent-%COMP%]{display:inline}}@media (max-width: 1000px){[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{padding-left:15px}}@media (max-width: 768px){[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:25%}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:75%}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{width:100%;padding-left:0;flex:none}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .player-slider-controls[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%] > .player-controls[_ngcontent-%COMP%]{flex:inherit}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{padding-top:15px}}@media (max-width: 522px){[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%;justify-content:space-around;padding:5px 0}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:100%;padding:5px 0}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{padding:5px 0}}@media (max-width: 522px){[_nghost-%COMP%]{border-top:1px solid var(--background-border)}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]{border-top:1px solid var(--control-box-border)}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .player-control.button-queue[_ngcontent-%COMP%], [_nghost-%COMP%]   .player[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .player-control.button-info[_ngcontent-%COMP%]{display:none}}"]});let i=t;return i})();function Sn(i,t){if(i&1&&I(0,"div",1)(1,"div",2),i&2){let r=u();a(),H("width",r.timePC,"%")}}var Kt=(()=>{let t=class t{constructor(){this.player=c(O),this.jam=c(oe),this.timePC=0,this.element=c(X)}ngOnInit(){this.player.on(k.TIME,()=>{this.updateTimeIndicator()}),this.player.on(k.TRACK,()=>{this.updateTimeIndicator()}),this.updateTimeIndicator()}updateTimeIndicator(){this.timePC=this.calculatePositionPercentByTime()}calculatePositionPercentByTime(){return this.player.currentPercent()}changePlaybackTime(o){let e=this.player.totalTime;if(e!==void 0){let n=this.element.nativeElement.getBoundingClientRect().width||1,l=o.offsetX/n,m=e*l;setTimeout(()=>{this.player.seek(m)},0)}}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-mini-time-slider"]],decls:2,vars:1,consts:[[1,"slider",3,"mousedown"],[1,"back"],[1,"scrubber","line"]],template:function(e,n){e&1&&(B(0,"div",0),z("mousedown",function(m){return n.changePlaybackTime(m)}),M(1,Sn,2,2),$()),e&2&&(a(),f(n.player.isPlaying?1:-1))},styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]{height:3px;float:none;width:100%;position:relative;overflow:visible;cursor:pointer}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{height:3px;position:absolute;inset:-1px 0 0;width:100%;pointer-events:none;z-index:1;background-color:var(--control-box)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]{position:absolute;top:-1px;left:0;bottom:0;width:0;height:3px;z-index:3;pointer-events:none;background-color:var(--primary)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber.neutral[_ngcontent-%COMP%]{background-color:var(--control-box-border)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{display:none;position:absolute;width:0px;height:0px;top:1px;right:0;border-radius:50%;cursor:default;z-index:3}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber.line[_ngcontent-%COMP%]{border-right-style:solid;border-right-width:3px;top:0;height:3px;background-color:transparent;border-right-color:var(--on-background)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{background-color:var(--primary)}[_nghost-%COMP%]   .slider[_ngcontent-%COMP%]   .scrubber.line[_ngcontent-%COMP%]{top:-1px;background-color:var(--control-border)}"]});let i=t;return i})();function xn(i,t){if(i&1&&(p(0,"div"),_(1,"app-coverart-image",12),s()),i&2){let r=u();a(),h("coverArtObj",r.player.currentMedia)("size",50)("fill",!0)}}function Nn(i,t){i&1&&_(0,"i",2)}function wn(i,t){if(i&1){let r=E();p(0,"button",13),d("click",function(){g(r);let e=u();return C(e.togglePlayPause())}),_(1,"i",14),s()}}function An(i,t){if(i&1){let r=E();p(0,"button",15),d("click",function(){g(r);let e=u();return C(e.togglePlayPause())}),_(1,"i",16),s()}}var Wt=(()=>{let t=class t{constructor(){this.app=c(N),this.player=c(O),this.queue=c(re),this.tabService=c(U)}togglePlayPause(){this.player.isPlaying||this.player.currentMedia?this.player.togglePlayPause():this.player.next()}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-mini-player"]],decls:16,vars:10,consts:()=>{let o;o=$localize`:␟5bac00dd5db2ba2451d049bcccec71b45c0943f2␟7484336710632233254:Previous Track`;let e;e=$localize`:␟b2838c6165a9672a17db188f4dd9676574353dd8␟9042260521669277115:Pause`;let n;n=$localize`:␟9b00b4b718d67ef6351bba15acd4ad0f2bc47927␟8564202903947049539:Play`;let l;l=$localize`:␟13faa22b2c751a318eaa681690580217f814daeb␟8095317917249912566:Next Track`;let m;return m=$localize`:␟c323b76780c213ddfc9603f673f9d7494c029f69␟3154631950436655267:Album Art`,[[1,"buttons"],[1,"art",3,"click"],["aria-hidden","true",1,"icon-info"],[1,"actions"],["title",o,3,"click","disabled"],["aria-hidden","true",1,"icon-fast-backward"],["title",e,1,"play"],["title",n,1,"play"],["title",l,3,"click","disabled"],["aria-hidden","true",1,"icon-fast-forward"],[3,"click"],["aria-hidden","true",1,"icon-queue"],["alt",m,3,"coverArtObj","size","fill"],["title",e,1,"play",3,"click"],["aria-hidden","true",1,"icon-pause"],["title",n,1,"play",3,"click"],["aria-hidden","true",1,"icon-play"]]},template:function(e,n){e&1&&(_(0,"app-mini-time-slider"),p(1,"div",0)(2,"div")(3,"button",1),d("click",function(){return n.tabService.clickPlayer()}),M(4,xn,2,3,"div")(5,Nn,1,0,"i",2),s()(),p(6,"div",3)(7,"button",4),d("click",function(){return n.player.previous()}),_(8,"i",5),s(),M(9,wn,2,0,"button",6)(10,An,2,0,"button",7),p(11,"button",8),d("click",function(){return n.player.next()}),_(12,"i",9),s()(),p(13,"div")(14,"button",10),d("click",function(){return n.tabService.clickQueue()}),_(15,"i",11),s()()()),e&2&&(x("hidden",n.tabService.playerTab.active),a(3),x("active",n.tabService.playerTab.active),a(),f(n.player.currentMedia?4:5),a(3),h("disabled",!n.queue.hasPrevious),a(2),f(n.player.isPlaying?9:10),a(2),h("disabled",!n.queue.hasNext),a(3),x("active",n.tabService.queueTab.active))},dependencies:[Kt,ie],styles:["[_nghost-%COMP%]{flex-direction:column}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{font-size:24px;color:var(--on-control-ambient);border-radius:5px;padding:5px}[_nghost-%COMP%]   button.play[_ngcontent-%COMP%]{font-size:36px;padding:0}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--on-control-ambient-hover)}[_nghost-%COMP%]   button.active[_ngcontent-%COMP%]{color:var(--on-control-active);background-color:var(--control-active)}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--on-control-ambient-disabled);cursor:default;background-color:transparent}[_nghost-%COMP%]   app-mini-time-slider[_ngcontent-%COMP%]{margin-top:1px}[_nghost-%COMP%]   app-mini-time-slider.hidden[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding-top:4px;padding-left:15px;padding-right:15px}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-around;align-items:center}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]   .art[_ngcontent-%COMP%]{width:45px;min-width:45px}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]   .art[_ngcontent-%COMP%]   app-coverart-image[_ngcontent-%COMP%]{display:block;min-height:35px;max-height:35px;min-width:35px;max-width:35px}"]});let i=t;return i})();var Rn=["tabContentOutlet"];function kn(i,t){i&1&&_(0,"app-header",1)}function In(i,t){i&1&&_(0,"app-player",3)}function Ln(i,t){i&1&&_(0,"app-mini-player",4)}var Jt=(()=>{let t=class t{constructor(){this.tabContentOutlet=te.required("tabContentOutlet",{read:Te}),this.player=c(O),this.app=c(N),this.auth=c(ne),this.tabService=c(U),this.unsubscribe=new ae,this.hotkeysService=c(ot),this.router=c(se),this.deferLoadService=c(_e),this.settingsStore=c(Me),this.themeService=c(et),this.injector=c(Ie),this.init()}get expandBody(){return!!this.tabService.mainTab.active}ngOnInit(){this.tabService.init(new fe(this.tabService.tabs,this.tabContentOutlet(),this.injector))}ngOnDestroy(){this.tabService.dispose(),this.unsubscribe.next(),this.unsubscribe.complete()}init(){this.settingsStore.settingsChange.pipe(le(this.unsubscribe)).subscribe(()=>{this.setTheme()}),this.auth.loaded||this.auth.load().catch(o=>{console.error(o)}),this.router.events.forEach(()=>{this.tabService.switchToMain()}).catch(o=>{console.error(o)}),this.app.standalone=this.isStandaloneWebApp()||this.isElectronApp()||this.isMacGapApp(),this.setTheme(),this.setKeyboardShortcuts(),this.determinateScreen()}isStandaloneWebApp(){return navigator.standalone===!0||globalThis.matchMedia("(display-mode: standalone)").matches}isElectronApp(){return navigator.userAgent.toLowerCase().includes("electron/")}isMacGapApp(){return navigator.userAgent.includes("MacGap")}setTheme(){this.themeService.setTheme(this.app.settings.theme||"dark")}scrollTrack(){this.deferLoadService.notifyScroll({name:"app"})}resize(){this.determinateScreen(),this.tabService.switchToMain()}determinateScreen(){this.app.smallscreen=window.innerHeight<400||window.innerWidth<522}setKeyboardShortcuts(){this.hotkeysService.add(new j(S.playPause.shortcut,()=>(this.player.togglePlayPause(),!1),void 0,S.playPause.name)),this.hotkeysService.add(new j(S.nextTrack.shortcut,()=>(this.player.next(),!1),void 0,S.nextTrack.name)),this.hotkeysService.add(new j(S.previousTrack.shortcut,()=>(this.player.previous(),!1),void 0,S.previousTrack.name)),this.hotkeysService.add(new j(S.volumeUp.shortcut,()=>(this.player.volumeUp(),!1),void 0,S.volumeUp.name)),this.hotkeysService.add(new j(S.forward.shortcut,()=>(this.player.forward(10),!1),void 0,S.forward.name)),this.hotkeysService.add(new j(S.rewind.shortcut,()=>(this.player.rewind(10),!1),void 0,S.rewind.name)),this.hotkeysService.add(new j(S.volumeDown.shortcut,()=>(this.player.volumeDown(),!1),void 0,S.volumeDown.name))}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["body"]],viewQuery:function(e,n){e&1&&Z(n.tabContentOutlet,Rn,5,Te),e&2&&ee()},hostVars:2,hostBindings:function(e,n){e&1&&d("scroll",function(){return n.scrollTrack()},be)("resize",function(){return n.resize()},be),e&2&&x("expand",n.expandBody)},decls:5,vars:5,consts:[["tabContentOutlet",""],[1,"header"],[1,"app-content"],[1,"footer"],[1,"mini-player"]],template:function(e,n){e&1&&(M(0,kn,1,0,"app-header",1),_(1,"div",2,0),M(3,In,1,0,"app-player",3),M(4,Ln,1,0,"app-mini-player",4)),e&2&&(f(n.auth.user?0:-1),a(),x("player-active",n.player.currentMedia),a(2),f(n.auth.user?3:-1),a(),f(n.player.currentMedia?4:-1))},dependencies:[qt,Qt,Wt],styles:['[_nghost-%COMP%]{background-color:var(--background);color:var(--on-background);display:flex;flex-direction:column;height:100%;min-height:100%}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{flex:0 0 auto}[_nghost-%COMP%]   .app-content[_ngcontent-%COMP%]{flex:1 1 auto;position:relative;overflow:hidden;height:100%}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]{display:none;text-align:center;width:100%;min-height:60px;height:60px;max-height:60px;position:fixed;left:0;right:0;bottom:0;z-index:10;border-top-width:1px;border-top-style:solid;border-top-color:var(--control-border);background-color:var(--control)}@keyframes _ngcontent-%COMP%_dash{0%{stroke-dashoffset:0}25%{stroke-dashoffset:100}50%{stroke-dashoffset:0}75%{stroke-dashoffset:100}to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_grow{0%{transform:scaleY(1)}15%{transform:scaleY(1.5)}15%{transform:scaleY(1.5)}30%{transform:scaleY(1)}to{transform:scaleY(1)}}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:middle;padding-bottom:1px}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .waveform[_ngcontent-%COMP%] > rect[_ngcontent-%COMP%]{fill:var(--on-background)}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .waveform[_ngcontent-%COMP%] > rect[_ngcontent-%COMP%]:nth-child(2){animation-delay:.25s}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .waveform[_ngcontent-%COMP%] > rect[_ngcontent-%COMP%]:nth-child(3){animation-delay:.5s}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .waveform[_ngcontent-%COMP%] > rect[_ngcontent-%COMP%]:nth-child(4){animation-delay:.75s}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .waveform[_ngcontent-%COMP%] > rect[_ngcontent-%COMP%]:nth-child(5){animation-delay:1s}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .waveform[_ngcontent-%COMP%] > rect[_ngcontent-%COMP%]:nth-child(6){animation-delay:1.25s}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .waveform[_ngcontent-%COMP%] > rect[_ngcontent-%COMP%]:nth-child(7){animation-delay:1.5s}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   .playing[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .waveform[_ngcontent-%COMP%] > rect[_ngcontent-%COMP%]{fill:#1ed760;transform-box:fill-box;transform-origin:50% 50%;animation-name:_ngcontent-%COMP%_grow;animation-duration:1.85s;animation-iteration-count:infinite;animation-timing-function:linear}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:6px;border-width:1px;border-style:solid;padding:7px 15px;text-transform:uppercase;letter-spacing:1px;font-size:11px;line-height:11px;cursor:pointer;overflow:hidden;position:relative;-webkit-user-select:none;user-select:none;background-color:var(--control);border-color:var(--control);color:var(--on-control);flex:1}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{position:absolute;content:"";top:0;left:0;width:0;height:100%;transition:width 20ms ease;z-index:0;background-color:#fff3}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:before{width:100%}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-color:var(--control-active)}@media (max-width: 522px){.expand[_nghost-%COMP%]{height:auto;overflow-y:auto}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{position:fixed;left:0;right:0;top:0;z-index:10}[_nghost-%COMP%]   .app-content[_ngcontent-%COMP%]{margin-top:60px;height:auto;min-height:calc(100% - 120px)}[_nghost-%COMP%]   .app-content.player-active[_ngcontent-%COMP%]{margin-bottom:60px}[_nghost-%COMP%]   .mini-player[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .footer[_ngcontent-%COMP%]{display:none}}']});let i=t;return i})();var Zt=(()=>{let t=class t{canDeactivate(o){return o.canDeactivate()?!0:confirm("WARNING: You have unsaved changes. Press Cancel to go back and save these changes, or OK to lose these changes.")}};t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac});let i=t;return i})();var $n=new Ae("window",{providedIn:"root",factory:()=>globalThis}),en=(()=>{let t=class t extends ce{constructor(){super(),this.clientDomain=void 0,this.forceSessionUsage=!1,this.localstorage=c(Ce),this.userStorage=c(ue),this.app=c(N),this.window=c($n);let o=this.app,e=this.window;this.clientName=o.name,this.clientDomain=e.location.origin}domain(){return this.clientDomain??""}fromStorage(){return J(this,null,function*(){return this.localstorage.get(t.localStorageName)})}toStorage(o){return J(this,null,function*(){this.localstorage.set(t.localStorageName,o)})}userChangeNotify(o){return J(this,null,function*(){this.userStorage.notifyUserChange(o)})}};t.localStorageName="jam.auth",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var tn=(()=>{let t=class t{constructor(){this.title=c(We),this.titles=[],this.app=c(N),this.player=c(O),this.unsubscribe=new ae,this.router=c(se),this.route=c(_t),this.router.events.pipe(we(o=>o instanceof pt),le(this.unsubscribe)).subscribe(()=>{this.titles=[];let o=e=>{let n=e.snapshot.data;if(n.name)this.titles.push(n.name);else if(n.names){let l=n.names.find(m=>m.id===e.snapshot.params.id);l&&this.titles.push(l.name)}else{let l=e.snapshot.paramMap.get("name");l&&this.titles.push(l)}for(let l of e.children)o(l)};for(let e of this.route.children)o(e);this.titles.push(this.app.name),this.app.settings.playingTrackInTitle||this.refreshTitle()}),this.player.on(k.FINISH,()=>{this.refreshTitle()}),this.player.on(k.TRACK,o=>{this.app.settings.playingTrackInTitle&&(o?this.refreshTitleSong(o):this.refreshTitle())})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}refreshTitleSong(o){let e=`${o.tag?.title??"Unknown Title"} - ${o.tag?.artist??"Unknown Artist"} \u2022 ${this.app.name}`;this.title.setTitle(e)}refreshTitle(){this.title.setTitle(this.titles.join(" \u2022 "))}};t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();Je.production&&void 0;Fe(Jt,{providers:[Re(je,tt,nt.forRoot({provide:ce,useFactory:Ut,deps:[en]}),it.forRoot(),lt.forRoot(),me.forRoot({autoFocus:!0}),st,at,Ht),Ct,Zt,Bt,O,U,vt,tn,N,ct,Lt,Ce,ue,_e,gt,ge,Ot,A,re,de,Et,yt,Me,bt,Yt(),qe(Qe(),Ke()),...Ze(Dt)]}).catch(i=>{console.error(i)});
