import{c as ot,d as V,da as U,ea as B,ga as z,ob as X,wd as $}from"./chunk-H2EXZDP6.js";var L=ot((ut,E)=>{"use strict";(function(v,f,g){if(!v)return;for(var r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},_,k=1;k<20;++k)r[111+k]="f"+k;for(k=0;k<=9;++k)r[k+96]=k.toString();function M(t,e,n){if(t.addEventListener){t.addEventListener(e,n,!1);return}t.attachEvent("on"+e,n)}function P(t){if(t.type=="keypress"){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return r[t.which]?r[t.which]:i[t.which]?i[t.which]:String.fromCharCode(t.which).toLowerCase()}function C(t,e){return t.sort().join(",")===e.sort().join(",")}function J(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function Q(t){if(t.preventDefault){t.preventDefault();return}t.returnValue=!1}function W(t){if(t.stopPropagation){t.stopPropagation();return}t.cancelBubble=!0}function K(t){return t=="shift"||t=="ctrl"||t=="alt"||t=="meta"}function Z(){if(!_){_={};for(var t in r)t>95&&t<112||r.hasOwnProperty(t)&&(_[r[t]]=t)}return _}function tt(t,e,n){return n||(n=Z()[t]?"keydown":"keypress"),n=="keypress"&&e.length&&(n="keydown"),n}function et(t){return t==="+"?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function R(t,e){var n,l,w,S=[];for(n=et(t),w=0;w<n.length;++w)l=n[w],d[l]&&(l=d[l]),e&&e!="keypress"&&h[l]&&(l=h[l],S.push("shift")),K(l)&&S.push(l);return e=tt(l,S,e),{key:l,modifiers:S,action:e}}function D(t,e){return t===null||t===f?!1:t===e?!0:D(t.parentNode,e)}function m(t){var e=this;if(t=t||f,!(e instanceof m))return new m(t);e.target=t,e._callbacks={},e._directMap={};var n={},l,w=!1,S=!1,T=!1;function I(s){s=s||{};var a=!1,c;for(c in n){if(s[c]){a=!0;continue}n[c]=0}a||(T=!1)}function F(s,a,c,o,p,b){var u,y,x=[],A=c.type;if(!e._callbacks[s])return[];for(A=="keyup"&&K(s)&&(a=[s]),u=0;u<e._callbacks[s].length;++u)if(y=e._callbacks[s][u],!(!o&&y.seq&&n[y.seq]!=y.level)&&A==y.action&&(A=="keypress"&&!c.metaKey&&!c.ctrlKey||C(a,y.modifiers))){var it=!o&&y.combo==p,nt=o&&y.seq==o&&y.level==b;(it||nt)&&e._callbacks[s].splice(u,1),x.push(y)}return x}function H(s,a,c,o){e.stopCallback(a,a.target||a.srcElement,c,o)||s(a,c)===!1&&(Q(a),W(a))}e._handleKey=function(s,a,c){var o=F(s,a,c),p,b={},u=0,y=!1;for(p=0;p<o.length;++p)o[p].seq&&(u=Math.max(u,o[p].level));for(p=0;p<o.length;++p){if(o[p].seq){if(o[p].level!=u)continue;y=!0,b[o[p].seq]=1,H(o[p].callback,c,o[p].combo,o[p].seq);continue}y||H(o[p].callback,c,o[p].combo)}var x=c.type=="keypress"&&S;c.type==T&&!K(s)&&!x&&I(b),S=y&&c.type=="keydown"};function O(s){typeof s.which!="number"&&(s.which=s.keyCode);var a=P(s);if(a){if(s.type=="keyup"&&w===a){w=!1;return}e.handleKey(a,J(s),s)}}function rt(){clearTimeout(l),l=setTimeout(I,1e3)}function st(s,a,c,o){n[s]=0;function p(A){return function(){T=A,++n[s],rt()}}function b(A){H(c,A,s),o!=="keyup"&&(w=P(A)),setTimeout(I,10)}for(var u=0;u<a.length;++u){var y=u+1===a.length,x=y?b:p(o||R(a[u+1]).action);j(a[u],x,o,s,u)}}function j(s,a,c,o,p){e._directMap[s+":"+c]=a,s=s.replace(/\s+/g," ");var b=s.split(" "),u;if(b.length>1){st(s,b,a,c);return}u=R(s,c),e._callbacks[u.key]=e._callbacks[u.key]||[],F(u.key,u.modifiers,{type:u.action},o,s,p),e._callbacks[u.key][o?"unshift":"push"]({callback:a,modifiers:u.modifiers,action:u.action,seq:o,level:p,combo:s})}e._bindMultiple=function(s,a,c){for(var o=0;o<s.length;++o)j(s[o],a,c)},M(t,"keypress",O),M(t,"keydown",O),M(t,"keyup",O)}m.prototype.bind=function(t,e,n){var l=this;return t=t instanceof Array?t:[t],l._bindMultiple.call(l,t,e,n),l},m.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},m.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},m.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},m.prototype.stopCallback=function(t,e){var n=this;if((" "+e.className+" ").indexOf(" mousetrap ")>-1||D(e,n.target))return!1;if("composedPath"in t&&typeof t.composedPath=="function"){var l=t.composedPath()[0];l!==t.target&&(e=l)}return e.tagName=="INPUT"||e.tagName=="SELECT"||e.tagName=="TEXTAREA"||e.isContentEditable},m.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},m.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);_=null},m.init=function(){var t=m(f);for(var e in t)e.charAt(0)!=="_"&&(m[e]=(function(n){return function(){return t[n].apply(t,arguments)}})(e))},m.init(),v.Mousetrap=m,typeof E<"u"&&E.exports&&(E.exports=m),typeof define=="function"&&define.amd&&define(function(){return m})})(typeof window<"u"?window:null,typeof window<"u"?document:null)});var Y=V(L());var q=(()=>{let f=class f{constructor(){this.hotkeys=[],this.pausedHotkeys=[],this.preventIn=["INPUT","SELECT","TEXTAREA"],this.mousetrap=new Y.default}add(r,i){if(Array.isArray(r)){let d=[];for(let _ of r)d.push(this.add(_,i));return d}this.remove(r),this.hotkeys.push(r);let h=(d,_)=>{let k=!0,M=d.target;if(!M)return;let P=M.nodeName.toUpperCase();if(k=` ${M.className} `.includes(" mousetrap ")||!(this.preventIn.includes(P)&&!(r.allowIn??[]).map(C=>C.toUpperCase()).includes(P)),k)return Reflect.apply(r.callback,this,[d,_])};return this.mousetrap.bind(r.combo,h,i),r}remove(r){let i=[];if(!r){for(let d of this.hotkeys)i.push(this.remove(d));return i}if(Array.isArray(r)){for(let d of r)i.push(this.remove(d));return i}let h=this.findHotkey(r);if(h>-1)return this.hotkeys.splice(h,1),this.mousetrap.unbind(r.combo),r}get(r){if(!r)return this.hotkeys;if(Array.isArray(r)){let i=[];for(let h of r)i.push(this.get(h));return i}return this.hotkeys.find(i=>i.combo.includes(r))}pause(r){if(!r)return this.pause(this.hotkeys);if(Array.isArray(r)){let i=[];for(let h of r)i.push(this.pause(h));return i}return this.remove(r),this.pausedHotkeys.push(r),r}unpause(r){if(!r)return this.unpause(this.pausedHotkeys);if(Array.isArray(r)){let h=[];for(let d of r)h.push(this.unpause(d));return h}let i=this.pausedHotkeys.indexOf(r);if(i!==-1)return this.add(r),this.pausedHotkeys.splice(i,1)}reset(){this.mousetrap.reset()}findHotkey(r){return this.hotkeys.indexOf(r)}};f.\u0275fac=function(i){return new(i||f)},f.\u0275prov=U({token:f,factory:f.\u0275fac});let v=f;return v})();var ft=V(L());var N=class v{constructor(f,g,r,i,h,d){this.combo=f,this.callback=g,this.allowIn=r,this.description=i,this.action=h,this.persistent=d,this.combo=Array.isArray(f)?f:[f],this.allowIn=r??[],this.description=i??""}get formatted(){if(!this.formattedVal){let g=this.combo[0].split(/\s/);for(let r=0;r<g.length;r++)g[r]=v.symbolize(g[r]);this.formattedVal=g}return this.formattedVal}static symbolize(f){let g={command:"\u2318",shift:"\u21E7",left:"\u2190",right:"\u2192",up:"\u2191",down:"\u2193",return:"\u23CE",backspace:"\u232B"},r=f.split("+");for(let i=0;i<r.length;i++)r[i]==="mod"&&(r[i]=/macOS|Mac|iPhone|iPad|iPod/.test(navigator.userAgent)?"command":"ctrl"),r[i]=g[r[i]]||r[i];return r.join(" + ")}};var G=new z("HotkeyOptions");var wt=(()=>{let f=class f{static forRoot(r={}){return{ngModule:f,providers:[q,{provide:G,useValue:r}]}}};f.\u0275fac=function(i){return new(i||f)},f.\u0275mod=X({type:f}),f.\u0275inj=B({imports:[$]});let v=f;return v})();export{N as a,q as b,wt as c};
