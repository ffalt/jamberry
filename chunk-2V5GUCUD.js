import{aa as V,ba as U,c as ot,d as j,da as B,nb as z,sd as X}from"./chunk-S3YUDFSI.js";var O=ot((ut,E)=>{"use strict";(function(h,k,r){if(!h)return;for(var s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},_={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},b,v=1;v<20;++v)s[111+v]="f"+v;for(v=0;v<=9;++v)s[v+96]=v.toString();function S(t,e,n){if(t.addEventListener){t.addEventListener(e,n,!1);return}t.attachEvent("on"+e,n)}function P(t){if(t.type=="keypress"){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return s[t.which]?s[t.which]:u[t.which]?u[t.which]:String.fromCharCode(t.which).toLowerCase()}function G(t,e){return t.sort().join(",")===e.sort().join(",")}function J(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function Q(t){if(t.preventDefault){t.preventDefault();return}t.returnValue=!1}function W(t){if(t.stopPropagation){t.stopPropagation();return}t.cancelBubble=!0}function C(t){return t=="shift"||t=="ctrl"||t=="alt"||t=="meta"}function Z(){if(!b){b={};for(var t in s)t>95&&t<112||s.hasOwnProperty(t)&&(b[s[t]]=t)}return b}function tt(t,e,n){return n||(n=Z()[t]?"keydown":"keypress"),n=="keypress"&&e.length&&(n="keydown"),n}function et(t){return t==="+"?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function D(t,e){var n,l,w,M=[];for(n=et(t),w=0;w<n.length;++w)l=n[w],_[l]&&(l=_[l]),e&&e!="keypress"&&d[l]&&(l=d[l],M.push("shift")),C(l)&&M.push(l);return e=tt(l,M,e),{key:l,modifiers:M,action:e}}function N(t,e){return t===null||t===k?!1:t===e?!0:N(t.parentNode,e)}function m(t){var e=this;if(t=t||k,!(e instanceof m))return new m(t);e.target=t,e._callbacks={},e._directMap={};var n={},l,w=!1,M=!1,H=!1;function K(i){i=i||{};var a=!1,c;for(c in n){if(i[c]){a=!0;continue}n[c]=0}a||(H=!1)}function R(i,a,c,o,p,g){var f,y,x=[],A=c.type;if(!e._callbacks[i])return[];for(A=="keyup"&&C(i)&&(a=[i]),f=0;f<e._callbacks[i].length;++f)if(y=e._callbacks[i][f],!(!o&&y.seq&&n[y.seq]!=y.level)&&A==y.action&&(A=="keypress"&&!c.metaKey&&!c.ctrlKey||G(a,y.modifiers))){var it=!o&&y.combo==p,nt=o&&y.seq==o&&y.level==g;(it||nt)&&e._callbacks[i].splice(f,1),x.push(y)}return x}function T(i,a,c,o){e.stopCallback(a,a.target||a.srcElement,c,o)||i(a,c)===!1&&(Q(a),W(a))}e._handleKey=function(i,a,c){var o=R(i,a,c),p,g={},f=0,y=!1;for(p=0;p<o.length;++p)o[p].seq&&(f=Math.max(f,o[p].level));for(p=0;p<o.length;++p){if(o[p].seq){if(o[p].level!=f)continue;y=!0,g[o[p].seq]=1,T(o[p].callback,c,o[p].combo,o[p].seq);continue}y||T(o[p].callback,c,o[p].combo)}var x=c.type=="keypress"&&M;c.type==H&&!C(i)&&!x&&K(g),M=y&&c.type=="keydown"};function I(i){typeof i.which!="number"&&(i.which=i.keyCode);var a=P(i);if(a){if(i.type=="keyup"&&w===a){w=!1;return}e.handleKey(a,J(i),i)}}function rt(){clearTimeout(l),l=setTimeout(K,1e3)}function st(i,a,c,o){n[i]=0;function p(A){return function(){H=A,++n[i],rt()}}function g(A){T(c,A,i),o!=="keyup"&&(w=P(A)),setTimeout(K,10)}for(var f=0;f<a.length;++f){var y=f+1===a.length,x=y?g:p(o||D(a[f+1]).action);F(a[f],x,o,i,f)}}function F(i,a,c,o,p){e._directMap[i+":"+c]=a,i=i.replace(/\s+/g," ");var g=i.split(" "),f;if(g.length>1){st(i,g,a,c);return}f=D(i,c),e._callbacks[f.key]=e._callbacks[f.key]||[],R(f.key,f.modifiers,{type:f.action},o,i,p),e._callbacks[f.key][o?"unshift":"push"]({callback:a,modifiers:f.modifiers,action:f.action,seq:o,level:p,combo:i})}e._bindMultiple=function(i,a,c){for(var o=0;o<i.length;++o)F(i[o],a,c)},S(t,"keypress",I),S(t,"keydown",I),S(t,"keyup",I)}m.prototype.bind=function(t,e,n){var l=this;return t=t instanceof Array?t:[t],l._bindMultiple.call(l,t,e,n),l},m.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},m.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},m.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},m.prototype.stopCallback=function(t,e){var n=this;if((" "+e.className+" ").indexOf(" mousetrap ")>-1||N(e,n.target))return!1;if("composedPath"in t&&typeof t.composedPath=="function"){var l=t.composedPath()[0];l!==t.target&&(e=l)}return e.tagName=="INPUT"||e.tagName=="SELECT"||e.tagName=="TEXTAREA"||e.isContentEditable},m.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},m.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(s[e]=t[e]);b=null},m.init=function(){var t=m(k);for(var e in t)e.charAt(0)!=="_"&&(m[e]=(function(n){return function(){return t[n].apply(t,arguments)}})(e))},m.init(),h.Mousetrap=m,typeof E<"u"&&E.exports&&(E.exports=m),typeof define=="function"&&define.amd&&define(function(){return m})})(typeof window<"u"?window:null,typeof window<"u"?document:null)});var $=j(O());var L=(()=>{class h{constructor(){this.hotkeys=[],this.pausedHotkeys=[],this.preventIn=["INPUT","SELECT","TEXTAREA"],this.mousetrap=new $.default}add(r,s){if(Array.isArray(r)){let d=[];for(let _ of r)d.push(this.add(_,s));return d}this.remove(r),this.hotkeys.push(r);let u=(d,_)=>{let b=!0,v=d.target;if(!v)return;let S=v.nodeName.toUpperCase();if(b=` ${v.className} `.includes(" mousetrap ")||!(this.preventIn.includes(S)&&!(r.allowIn??[]).map(P=>P.toUpperCase()).includes(S)),b)return Reflect.apply(r.callback,this,[d,_])};return this.mousetrap.bind(r.combo,u,s),r}remove(r){let s=[];if(!r){for(let d of this.hotkeys)s.push(this.remove(d));return s}if(Array.isArray(r)){for(let d of r)s.push(this.remove(d));return s}let u=this.findHotkey(r);if(u>-1)return this.hotkeys.splice(u,1),this.mousetrap.unbind(r.combo),r}get(r){if(!r)return this.hotkeys;if(Array.isArray(r)){let s=[];for(let u of r)s.push(this.get(u));return s}return this.hotkeys.find(s=>s.combo.includes(r))}pause(r){if(!r)return this.pause(this.hotkeys);if(Array.isArray(r)){let s=[];for(let u of r)s.push(this.pause(u));return s}return this.remove(r),this.pausedHotkeys.push(r),r}unpause(r){if(!r)return this.unpause(this.pausedHotkeys);if(Array.isArray(r)){let u=[];for(let d of r)u.push(this.unpause(d));return u}let s=this.pausedHotkeys.indexOf(r);if(s!==-1)return this.add(r),this.pausedHotkeys.splice(s,1),r}reset(){this.mousetrap.reset()}findHotkey(r){return this.hotkeys.indexOf(r)}static{this.\u0275fac=function(s){return new(s||h)}}static{this.\u0275prov=V({token:h,factory:h.\u0275fac})}}return h})();var ft=j(O());var q=class h{constructor(k,r,s,u,d,_){this.combo=k,this.callback=r,this.allowIn=s,this.description=u,this.action=d,this.persistent=_,this.combo=Array.isArray(k)?k:[k],this.allowIn=s??[],this.description=u??""}get formatted(){if(!this.formattedVal){let r=this.combo[0].split(/\s/);for(let s=0;s<r.length;s++)r[s]=h.symbolize(r[s]);this.formattedVal=r}return this.formattedVal}static symbolize(k){let r={command:"\u2318",shift:"\u21E7",left:"\u2190",right:"\u2192",up:"\u2191",down:"\u2193",return:"\u23CE",backspace:"\u232B"},s=k.split("+");for(let u=0;u<s.length;u++)s[u]==="mod"&&(s[u]=/macOS|Mac|iPhone|iPad|iPod/.test(navigator.userAgent)?"command":"ctrl"),s[u]=r[s[u]]||s[u];return s.join(" + ")}};var Y=new B("HotkeyOptions");var wt=(()=>{class h{static forRoot(r={}){return{ngModule:h,providers:[L,{provide:Y,useValue:r}]}}static{this.\u0275fac=function(s){return new(s||h)}}static{this.\u0275mod=z({type:h})}static{this.\u0275inj=U({imports:[X]})}}return h})();export{q as a,L as b,wt as c};
