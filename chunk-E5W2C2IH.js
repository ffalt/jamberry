import{$ as z,D as U,E as B,F as $,d as ot,e as V,yb as X}from"./chunk-2CUFB47X.js";var L=ot((ut,C)=>{"use strict";(function(h,k,r){if(!h)return;for(var s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},b={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},g,v=1;v<20;++v)s[111+v]="f"+v;for(v=0;v<=9;++v)s[v+96]=v.toString();function S(t,e,n){if(t.addEventListener){t.addEventListener(e,n,!1);return}t.attachEvent("on"+e,n)}function E(t){if(t.type=="keypress"){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return s[t.which]?s[t.which]:u[t.which]?u[t.which]:String.fromCharCode(t.which).toLowerCase()}function G(t,e){return t.sort().join(",")===e.sort().join(",")}function J(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function Q(t){if(t.preventDefault){t.preventDefault();return}t.returnValue=!1}function W(t){if(t.stopPropagation){t.stopPropagation();return}t.cancelBubble=!0}function H(t){return t=="shift"||t=="ctrl"||t=="alt"||t=="meta"}function Z(){if(!g){g={};for(var t in s)t>95&&t<112||s.hasOwnProperty(t)&&(g[s[t]]=t)}return g}function tt(t,e,n){return n||(n=Z()[t]?"keydown":"keypress"),n=="keypress"&&e.length&&(n="keydown"),n}function et(t){return t==="+"?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function D(t,e){var n,l,w,M=[];for(n=et(t),w=0;w<n.length;++w)l=n[w],b[l]&&(l=b[l]),e&&e!="keypress"&&d[l]&&(l=d[l],M.push("shift")),H(l)&&M.push(l);return e=tt(l,M,e),{key:l,modifiers:M,action:e}}function R(t,e){return t===null||t===k?!1:t===e?!0:R(t.parentNode,e)}function m(t){var e=this;if(t=t||k,!(e instanceof m))return new m(t);e.target=t,e._callbacks={},e._directMap={};var n={},l,w=!1,M=!1,P=!1;function K(i){i=i||{};var a=!1,c;for(c in n){if(i[c]){a=!0;continue}n[c]=0}a||(P=!1)}function F(i,a,c,o,p,_){var f,y,x=[],A=c.type;if(!e._callbacks[i])return[];for(A=="keyup"&&H(i)&&(a=[i]),f=0;f<e._callbacks[i].length;++f)if(y=e._callbacks[i][f],!(!o&&y.seq&&n[y.seq]!=y.level)&&A==y.action&&(A=="keypress"&&!c.metaKey&&!c.ctrlKey||G(a,y.modifiers))){var it=!o&&y.combo==p,nt=o&&y.seq==o&&y.level==_;(it||nt)&&e._callbacks[i].splice(f,1),x.push(y)}return x}function I(i,a,c,o){e.stopCallback(a,a.target||a.srcElement,c,o)||i(a,c)===!1&&(Q(a),W(a))}e._handleKey=function(i,a,c){var o=F(i,a,c),p,_={},f=0,y=!1;for(p=0;p<o.length;++p)o[p].seq&&(f=Math.max(f,o[p].level));for(p=0;p<o.length;++p){if(o[p].seq){if(o[p].level!=f)continue;y=!0,_[o[p].seq]=1,I(o[p].callback,c,o[p].combo,o[p].seq);continue}y||I(o[p].callback,c,o[p].combo)}var x=c.type=="keypress"&&M;c.type==P&&!H(i)&&!x&&K(_),M=y&&c.type=="keydown"};function T(i){typeof i.which!="number"&&(i.which=i.keyCode);var a=E(i);if(a){if(i.type=="keyup"&&w===a){w=!1;return}e.handleKey(a,J(i),i)}}function rt(){clearTimeout(l),l=setTimeout(K,1e3)}function st(i,a,c,o){n[i]=0;function p(A){return function(){P=A,++n[i],rt()}}function _(A){I(c,A,i),o!=="keyup"&&(w=E(A)),setTimeout(K,10)}for(var f=0;f<a.length;++f){var y=f+1===a.length,x=y?_:p(o||D(a[f+1]).action);j(a[f],x,o,i,f)}}function j(i,a,c,o,p){e._directMap[i+":"+c]=a,i=i.replace(/\s+/g," ");var _=i.split(" "),f;if(_.length>1){st(i,_,a,c);return}f=D(i,c),e._callbacks[f.key]=e._callbacks[f.key]||[],F(f.key,f.modifiers,{type:f.action},o,i,p),e._callbacks[f.key][o?"unshift":"push"]({callback:a,modifiers:f.modifiers,action:f.action,seq:o,level:p,combo:i})}e._bindMultiple=function(i,a,c){for(var o=0;o<i.length;++o)j(i[o],a,c)},S(t,"keypress",T),S(t,"keydown",T),S(t,"keyup",T)}m.prototype.bind=function(t,e,n){var l=this;return t=t instanceof Array?t:[t],l._bindMultiple.call(l,t,e,n),l},m.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},m.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},m.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},m.prototype.stopCallback=function(t,e){var n=this;if((" "+e.className+" ").indexOf(" mousetrap ")>-1||R(e,n.target))return!1;if("composedPath"in t&&typeof t.composedPath=="function"){var l=t.composedPath()[0];l!==t.target&&(e=l)}return e.tagName=="INPUT"||e.tagName=="SELECT"||e.tagName=="TEXTAREA"||e.isContentEditable},m.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},m.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(s[e]=t[e]);g=null},m.init=function(){var t=m(k);for(var e in t)e.charAt(0)!=="_"&&(m[e]=function(n){return function(){return t[n].apply(t,arguments)}}(e))},m.init(),h.Mousetrap=m,typeof C<"u"&&C.exports&&(C.exports=m),typeof define=="function"&&define.amd&&define(function(){return m})})(typeof window<"u"?window:null,typeof window<"u"?document:null)});var O=V(L());var q=(()=>{class h{hotkeys=[];pausedHotkeys=[];mousetrap;preventIn=["INPUT","SELECT","TEXTAREA"];constructor(){O.default.prototype.stopCallback=(r,s)=>` ${s.className} `.includes(" mousetrap ")?!1:s.contentEditable==="true",this.mousetrap=new O.default}add(r,s){if(Array.isArray(r)){let d=[];for(let b of r)d.push(this.add(b,s));return d}this.remove(r),this.hotkeys.push(r);let u=(d,b)=>{let g=!0;if(d){let v=d.target||d.srcElement,S=v.nodeName.toUpperCase();` ${v.className} `.includes(" mousetrap ")?g=!0:this.preventIn.includes(S)&&!(r.allowIn||[]).map(E=>E.toUpperCase()).includes(S)&&(g=!1)}if(g)return r.callback.apply(this,[d,b])};return this.mousetrap.bind(r.combo,u,s),r}remove(r){let s=[];if(!r){for(let d of this.hotkeys)s.push(this.remove(d));return s}if(Array.isArray(r)){for(let d of r)s.push(this.remove(d));return s}let u=this.findHotkey(r);if(u>-1)return this.hotkeys.splice(u,1),this.mousetrap.unbind(r.combo),r}get(r){if(!r)return this.hotkeys;if(Array.isArray(r)){let s=[];for(let u of r)s.push(this.get(u));return s}return this.hotkeys.find(s=>s.combo.includes(r))}pause(r){if(!r)return this.pause(this.hotkeys);if(Array.isArray(r)){let s=[];for(let u of r)s.push(this.pause(u));return s}return this.remove(r),this.pausedHotkeys.push(r),r}unpause(r){if(!r)return this.unpause(this.pausedHotkeys);if(Array.isArray(r)){let u=[];for(let d of r)u.push(this.unpause(d));return u}let s=this.pausedHotkeys.indexOf(r);if(s>-1)return this.add(r),this.pausedHotkeys.splice(s,1)}reset(){this.mousetrap.reset()}findHotkey(r){return this.hotkeys.indexOf(r)}static \u0275fac=function(s){return new(s||h)};static \u0275prov=U({token:h,factory:h.\u0275fac})}return h})();var ft=V(L());var N=class h{combo;callback;allowIn;description;action;persistent;get formatted(){if(!this.formattedVal){let r=this.combo[0].split(/[\s]/);for(let s=0;s<r.length;s++)r[s]=h.symbolize(r[s]);this.formattedVal=r}return this.formattedVal}formattedVal;constructor(k,r,s,u,d,b){this.combo=k,this.callback=r,this.allowIn=s,this.description=u,this.action=d,this.persistent=b,this.combo=Array.isArray(k)?k:[k],this.allowIn=s||[],this.description=u||""}static symbolize(k){let r={command:"\u2318",shift:"\u21E7",left:"\u2190",right:"\u2192",up:"\u2191",down:"\u2193",return:"\u23CE",backspace:"\u232B"},s=k.split("+");for(let u=0;u<s.length;u++)s[u]==="mod"&&(s[u]=window.navigator&&window.navigator.platform.includes("Mac")?"command":"ctrl"),s[u]=r[s[u]]||s[u];return s.join(" + ")}};var Y=new $("HotkeyOptions");var wt=(()=>{class h{static forRoot(r={}){return{ngModule:h,providers:[q,{provide:Y,useValue:r}]}}static \u0275fac=function(s){return new(s||h)};static \u0275mod=z({type:h});static \u0275inj=B({imports:[X]})}return h})();export{N as a,q as b,wt as c};
