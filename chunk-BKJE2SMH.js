import{a as P}from"./chunk-PDFDIAHA.js";import{b as E}from"./chunk-7YEHAOTU.js";import"./chunk-H7J33JRO.js";import"./chunk-TN4DQYXD.js";import"./chunk-UJDKMBWQ.js";import"./chunk-33GLPMOM.js";import"./chunk-55GTWUAS.js";import"./chunk-FNYIAIY2.js";import"./chunk-GZZSVLKI.js";import"./chunk-OSSJ2PGW.js";import"./chunk-24DMSAFT.js";import"./chunk-JWYMJBHE.js";import"./chunk-4IQGZQCR.js";import"./chunk-U7OXVLBO.js";import"./chunk-Q63CSAYE.js";import"./chunk-X6GEWTUQ.js";import"./chunk-COAHUF74.js";import"./chunk-NDAMPTYI.js";import"./chunk-PWCTC5DJ.js";import"./chunk-5TIVVKYZ.js";import"./chunk-TT7XXVKE.js";import"./chunk-ALNDELZX.js";import"./chunk-EYYLYRFR.js";import"./chunk-U3AJXI6D.js";import"./chunk-FQC6PRY2.js";import{a as b}from"./chunk-33YDEZ6H.js";import"./chunk-Q3X46OXX.js";import{G as v}from"./chunk-SR2DRA4F.js";import{f as h}from"./chunk-MCFY5JX5.js";import{Db as _,Eb as l,Jb as p,Kb as r,Lb as i,Mb as s,Sd as O,U as C,Wd as M,Yb as m,_a as a,bc as d,fa as o,j as u,nb as g}from"./chunk-MRX5UB2X.js";function A(e,f){if(e&1&&(r(0,"div",3)(1,"div",6),m(2,1),i(),s(3,"app-info-note",8),i()),e&2){let t=d(2);a(3),p("info",t.album.info)}}function x(e,f){if(e&1&&(r(0,"div",2),_(1,A,4,1,"div",3),r(2,"div",4)(3,"div",5)(4,"span",6),m(5,0),i()(),s(6,"app-track-list",7),i()()),e&2){let t=d();a(),l(t.album.info?1:-1),a(5),p("tracks",t.tracks)("showArtist",t.isCompilation)}}function I(e,f){e&1&&s(0,"app-loading")}var $=(()=>{class e{constructor(){this.tracks=[],this.isCompilation=!1,this.unsubscribe=new u,this.jam=o(M),this.notify=o(v),this.route=o(h)}ngOnInit(){this.route.paramMap.pipe(C(this.unsubscribe)).subscribe(t=>{this.id=t.get("id")??void 0,this.refresh()})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}display(t){this.album=t,this.isCompilation=this.album.albumType===O.compilation,this.tracks=t.tracks??[]}refresh(){this.album=void 0,this.tracks=[],this.id&&this.jam.album.id({id:this.id,trackIncState:!0,trackIncTag:!0,albumIncGenres:!0,albumIncTracks:!0,albumIncInfo:!0}).then(t=>{this.display(t)}).catch(t=>{this.notify.error(t)})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=g({type:e,selectors:[["app-album-overview"]],decls:2,vars:1,consts:()=>{let t;t=$localize`:␟cb98522066062d775f3b81f29c898a7cc76292c0␟1575810254412583888:Tracks`;let n;return n=$localize`:␟eec715de352a6b114713b30b640d319fa78207a0␟4902817035128594900:Description`,[t,n,[1,"overview"],[1,"info"],[1,"album-tracks"],[1,"head"],[1,"section-title"],[3,"tracks","showArtist"],[3,"info"]]},template:function(n,c){n&1&&_(0,x,7,3,"div",2)(1,I,1,0,"app-loading"),n&2&&l(c.album?0:1)},dependencies:[E,P,b],styles:["[_nghost-%COMP%]{padding:0 5px 5px}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media(max-width:522px){[_nghost-%COMP%]{padding-left:10px;padding-right:10px}}[_nghost-%COMP%]   .overview[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}[_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%}@media(max-width:768px){[_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding-right:0}}[_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .album-tracks[_ngcontent-%COMP%]{margin-top:15px;width:100%}[_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .album-tracks[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center}"]})}}return e})();export{$ as AlbumOverviewComponent};
