import{A as F,q as K,w as $,z}from"./chunk-ZVKVGF76.js";import{$a as S,Hb as y,Ib as g,Rb as l,Sb as c,Wc as U,Y as k,Zb as M,_b as v,a as O,ab as p,ac as b,da as x,dc as G,ea as L,ec as _,fc as C,ga as R,ia as d,ib as A,k as u,na as m,nb as I,nc as N,oa as h,ob as T,oc as V,qa as D,rc as B,tc as j,uc as P,wd as Y}from"./chunk-H2EXZDP6.js";var s=class{constructor(o){this.overlayRef=o,this.beforeCloseSubj=new u,this.afterClosedSubj=new u}close(){if(!this.componentInstance)return;let o=this.componentInstance.getResult();this.beforeCloseSubj.next(o),this.beforeCloseSubj.complete(),this.overlayRef.detachBackdrop(),this.overlayRef.dispose(),this.afterClosedSubj.next(o),this.afterClosedSubj.complete(),this.componentInstance=void 0}afterClosed(){return this.afterClosedSubj.asObservable()}beforeClose(){return this.beforeCloseSubj.asObservable()}};var ie={playPause:{shortcut:"space",name:"Play / Pause"},nextTrack:{shortcut:"alt+right",name:"Next Track"},previousTrack:{shortcut:"alt+left",name:"Previous Track"},volumeUp:{shortcut:"+",name:"Volume Up"},volumeDown:{shortcut:"-",name:"Volume Down"},rewind:{shortcut:"shift+left",name:"Rewind 10 seconds"},forward:{shortcut:"shift+right",name:"Forward 10 seconds"}};function ae(e){return["Enter","NumpadEnter","Tab","ShiftLeft","ShiftRight","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","MetaLeft","MetaRight"].includes(e.code)}function le(e){return["ArrowDown","ArrowUp"].includes(e.code)}function ce(e){return["ArrowLeft","ArrowRight","ArrowDown","ArrowUp"].includes(e.code)}function se(e){return["ArrowLeft","ArrowRight"].includes(e.code)}function de(e){return e.code==="ArrowRight"}function ue(e){return e.code==="ArrowLeft"}function pe(e){return e.code==="ArrowDown"}function fe(e){return["Enter","NumpadEnter"].includes(e.code)}function X(e){return e.code==="Escape"}var w=new R("DIALOG_OVERLAY_DIALOG_CONFIG");var J=["overlayDialogBody"];function Z(e,o){if(e&1){let a=v();l(0,"button",14),_("click",function(){m(a);let n=C(2);return h(n.ok())}),b(1,2),c()}}function ee(e,o){if(e&1){let a=v();l(0,"button",15),_("click",function(){m(a);let n=C(2);return h(n.cancel())}),b(1,3),c()}}function oe(e,o){if(e&1&&(l(0,"div",11),y(1,Z,2,0,"button",12),y(2,ee,2,0,"button",13),c()),e&2){let a=C();B("disabled",a.isBusy),p(),g(a.config.onOkBtn?1:-1),p(),g(a.config.onCancelBtn?2:-1)}}var Q=(()=>{let o=class o{constructor(){this.dialogRef=d(s),this.config=d(w),this.isBusy=!1,this.dynamicComponentTarget=U("overlayDialogBody",{read:A})}handleKeydown(t){X(t)&&this.dialogRef.close()}ngOnInit(){let t=this.dynamicComponentTarget();this.config.childComponent&&t&&(this.childComponentRef=t.createComponent(this.config.childComponent),this.childComponentRef.instance.dialogInit(this.dialogRef,this.config))}getResult(){if(this.childComponentRef?.instance.dialogResult)return this.childComponentRef.instance.dialogResult()}ok(){this.isBusy||!this.config.onOkBtn||(this.isBusy=!0,this.config.onOkBtn().then(()=>{this.isBusy=!1,this.dialogRef.close()}).catch(()=>{this.isBusy=!1}))}cancel(){this.isBusy||!this.config.onCancelBtn||(this.isBusy=!0,this.config.onCancelBtn().then(()=>{this.isBusy=!1,this.dialogRef.close()}).catch(()=>{this.isBusy=!1}))}close(){this.dialogRef.close()}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=I({type:o,selectors:[["app-dialog-overlay"]],viewQuery:function(n,r){n&1&&N(r.dynamicComponentTarget,J,5,A),n&2&&V()},hostBindings:function(n,r){n&1&&G("keydown",function(f){return r.handleKeydown(f)},S)},decls:11,vars:2,consts:()=>{let t;t=$localize`:␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`;let n;n=$localize`:␟7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e␟8998179362936748717:OK`;let r;return r=$localize`:␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,[["overlayDialogBody",""],t,n,r,[1,"overlay-content"],[1,"overlay-title"],[1,"close-panel"],[1,"close",3,"click"],[1,"visually-hidden"],[1,"overlay-body"],[1,"overlay-buttons",3,"disabled"],[1,"overlay-buttons"],[1,"ok"],[1,"cancel"],[1,"ok",3,"click"],[1,"cancel",3,"click"]]},template:function(n,r){if(n&1){let i=v();l(0,"div",4)(1,"div",5),j(2),c(),l(3,"div",6)(4,"button",7),_("click",function(){return m(i),h(r.close())}),l(5,"span",8),b(6,1),c()()(),l(7,"div",9),M(8,null,0),c(),y(10,oe,3,4,"div",10),c()}n&2&&(p(2),P(r.config.title),p(8),g(r.config.onOkBtn||r.config.onCancelBtn?10:-1))},styles:[`:host{display:flex;flex-direction:column;align-items:center}.overlay-content{padding:2em;display:block;position:relative;border-radius:.3125rem;background-color:var(--control);color:var(--on-control);max-height:100%;overflow-y:auto}.overlay-content .overlay-title{text-align:center;padding:0 .5em .5em;margin:0;font-size:1.5rem;font-weight:700;color:var(--on-control-hover)}.overlay-content .overlay-buttons{display:flex}.overlay-content .overlay-buttons>a,.overlay-content .overlay-buttons>button{position:relative;display:inline-block;padding:8px 0;border-radius:3px;font-size:14px;font-weight:400;text-transform:uppercase;overflow:hidden;cursor:pointer;margin-top:1em;flex-grow:1;flex-basis:0;text-align:center;color:var(--on-control-hover)}.overlay-content .overlay-buttons>a:before,.overlay-content .overlay-buttons>button:before{position:absolute;content:"";top:0;left:0;width:0;height:100%;transition:width .25s ease;z-index:0;background-color:#fff3}.overlay-content .overlay-buttons>a:hover:before,.overlay-content .overlay-buttons>button:hover:before{width:100%}.overlay-content .overlay-buttons>a.ok,.overlay-content .overlay-buttons>button.ok{background-color:var(--primary);color:var(--on-primary);margin-right:5px}.overlay-content .overlay-buttons>a.cancel,.overlay-content .overlay-buttons>button.cancel{background-color:var(--accent);color:var(--on-accent)}.overlay-content .overlay-buttons.disabled>a,.overlay-content .overlay-buttons.disabled>button{background-color:var(--on-control-ambient-disabled)}.overlay-content .close-panel{position:absolute;top:0;right:0;overflow:hidden;width:2.5rem;height:2.5rem;max-width:2.5rem;max-height:2.5rem}.overlay-content .close-panel .close{display:flex;align-items:center;justify-content:center;width:2.5rem;height:2.5rem;border:none;background-color:transparent;font-size:1.5rem;transition:.25s linear}.overlay-content .close-panel .close:before,.overlay-content .close-panel .close:after{position:absolute;content:"";width:.75rem;height:.125rem;background-color:var(--on-control-hover);overflow:hidden}.overlay-content .close-panel .close:before{transform:rotate(-45deg)}.overlay-content .close-panel .close:after{transform:rotate(45deg)}.overlay-content .close-panel .close:hover{transform:rotate(360deg)}.overlay-content .close-panel .close:hover:before,.overlay-content .close-panel .close:hover:after{background-color:var(--accent)}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000}.cdk-overlay-backdrop{position:absolute;inset:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0;background-color:#000}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.48}.cdk-overlay-dark-backdrop{background-color:var(--dialog-backdrop)}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-transparent-backdrop{background-color:unset}.overlay-panel-large{width:80%;min-width:80%;height:80%;min-height:80%}.overlay-panel-large app-dialog-overlay,.overlay-panel-large .overlay-body,.overlay-panel-large .overlay-content{width:100%;height:100%}.overlay-panel-large .overlay-content{overflow-y:hidden}.overlay-panel-large-buttons{width:80%;min-width:80%;height:80%;min-height:80%}.overlay-panel-large-buttons .overlay-body{overflow:auto;flex-grow:1}.overlay-panel-large-buttons app-dialog-overlay,.overlay-panel-large-buttons .overlay-content{width:100%;height:100%;max-height:100%}.overlay-panel-large-buttons .overlay-content{display:flex;flex-direction:column}@media (max-width: 768px){.overlay-content .overlay-title{font-size:1.2rem}}@media (max-width: 522px){.overlay-content{padding:1em}}
`],encapsulation:2});let e=o;return e})();var q={hasBackdrop:!0,backdropClass:"dark-backdrop"};var E=class{constructor(o,a){this.parentInjector=o,this.customTokens=a}get(o,a){let t=this.customTokens.get(o);return t??this.parentInjector.get(o,a)}},W=(()=>{let o=class o{constructor(){this.injector=d(D),this.overlay=d(z),this.unsubscribe=new u}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}open(t={}){let n=O(O({},q),t),r=this.createOverlay(n),i=new s(r);return i.componentInstance=this.attachDialogContainer(r,n,i),r.backdropClick().pipe(k(this.unsubscribe)).subscribe(()=>{i.close()}),i}createOverlay(t){return this.overlay.create(this.getOverlayConfig(t))}attachDialogContainer(t,n,r){let i=this.createInjector(n,r),f=new K(Q,void 0,i);return t.attach(f).instance}createInjector(t,n){let r=new WeakMap;return r.set(s,n),r.set(w,t),new E(this.injector,r)}getOverlayConfig(t){let n=this.overlay.position().global().centerHorizontally().centerVertically();return new $({hasBackdrop:t.hasBackdrop,backdropClass:t.backdropClass,panelClass:t.panelClass,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:n})}};o.\u0275fac=function(n){return new(n||o)},o.\u0275prov=x({token:o,factory:o.\u0275fac});let e=o;return e})();var Ue=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=T({type:o}),o.\u0275inj=L({providers:[W],imports:[Y,F]});let e=o;return e})();export{ie as a,ae as b,le as c,ce as d,se as e,de as f,ue as g,pe as h,fe as i,X as j,W as k,Ue as l};
