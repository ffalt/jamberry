import{c as U}from"./chunk-AOWKIYEI.js";import{b as z}from"./chunk-FNYIAIY2.js";import{c as R}from"./chunk-5TIVVKYZ.js";import{h as j,i as q,j as B}from"./chunk-MCFY5JX5.js";import{$b as m,Bc as $,Db as L,Eb as N,Hb as w,Ib as b,Jb as f,Kb as d,Lb as p,Mb as T,Oc as x,Pc as h,Qc as K,Rc as O,Wb as g,_a as s,bc as _,cc as E,dc as I,fa as S,jc as v,ka as l,kc as C,la as c,nb as u,nc as y,oc as A,pc as M,qc as F,rc as Q}from"./chunk-MRX5UB2X.js";var W=["item"],G=()=>({exact:!1}),P=(()=>{class i{constructor(){this.entry=h(),this.navigate=x(),this.element=K("item")}clickEntry(){this.navigate.emit()}focus(){this.element()?.nativeElement.focus()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-sidebar-list-item"]],viewQuery:function(t,n){t&1&&v(n.element,W,5),t&2&&C()},inputs:{entry:[1,"entry"]},outputs:{navigate:"navigate"},decls:4,vars:6,consts:[["item",""],["routerLinkActive","active","tabindex","-1",1,"item",3,"click","keydown.enter","routerLinkActiveOptions","routerLink"],["aria-hidden","true"]],template:function(t,n){if(t&1){let o=g();d(0,"a",1,0),m("click",function(){return l(o),c(n.clickEntry())})("keydown.enter",function(){return l(o),c(n.clickEntry())}),T(2,"i",2),M(3),p()}if(t&2){let o,a,V,D;f("routerLinkActiveOptions",((o=n.entry())==null?null:o.options)||$(5,G))("routerLink",(a=n.entry())==null?null:a.link),s(2),A((V=n.entry())==null?null:V.icon),s(),Q(" ",(D=n.entry())==null?null:D.name,`
`)}},dependencies:[B,q],styles:["[_nghost-%COMP%]   .item[_ngcontent-%COMP%]{color:var(--on-control);padding:5px 0;display:flex;flex-flow:row nowrap;align-items:center;border-right-width:3px;border-right-style:solid;border-right-color:transparent;transition:all .1s ease-in-out;transform-origin:left center}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   app-coverart-image[_ngcontent-%COMP%]{margin-right:6px}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:25px;display:block}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]:hover{color:var(--on-control-hover);border-right-color:var(--primary)}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]:focus{border-right-color:var(--secondary)}[_nghost-%COMP%]   .item.active[_ngcontent-%COMP%]{color:var(--on-control-active);transform:scale(1.1)}@media(max-width:768px){[_nghost-%COMP%]   .item[_ngcontent-%COMP%]{line-height:1.5em}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]:hover{border-right-width:0}}"]})}}return i})();var J=(i,r)=>r.link;function X(i,r){if(i&1){let e=g();d(0,"li")(1,"app-sidebar-list-item",2),m("navigate",function(){l(e);let n=_(3);return c(n.onNavigate())}),p()()}if(i&2){let e=r.$implicit;s(),f("entry",e)}}function Y(i,r){if(i&1&&(d(0,"ul",1),w(1,X,2,1,"li",null,J),p()),i&2){let e=_();s(),b(e.entries)}}function Z(i,r){if(i&1){let e=g();d(0,"a",0),m("click",function(){l(e);let n=_();return c(n.toggle())})("keydown.enter",function(){l(e);let n=_();return c(n.toggle())}),M(1),p(),L(2,Y,3,0,"ul",1)}if(i&2){let e=_();s(),F(r.name),s(),N(e.collapsed?-1:2)}}function pe(i,r){let e=z.find(o=>o.path===r),t={name:e.data?.name??"",icon:e.data?.icon??"",link:`/${r}`,options:{exact:!0}},n=(e.children??[]).filter(o=>o.path&&o.path.length>0&&o.data?.name).map(o=>{let a=o.data?.link??o.path;return{name:o.data?.name??"",icon:o.data?.icon??"",link:`/${e.path}/${a}`}});return{name:i,entries:[t,...n]}}var k=(()=>{class i{constructor(){this.list=h.required(),this.items=O(P),this.navigate=x(),this.collapsed=!1}onNavigate(){this.navigate.emit()}toggle(){this.collapsed=!this.collapsed}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-sidebar-list"]],viewQuery:function(t,n){t&1&&v(n.items,P,5),t&2&&C()},hostVars:2,hostBindings:function(t,n){t&2&&y("active",n.collapsed)},inputs:{list:[1,"list"]},outputs:{navigate:"navigate"},decls:1,vars:1,consts:[["role","button",1,"header",3,"click","keydown.enter"],[1,"index-list-content"],[3,"navigate","entry"]],template:function(t,n){if(t&1&&L(0,Z,3,2),t&2){let o;N((o=n.list())?0:-1,o)}},dependencies:[P],styles:['[_nghost-%COMP%]{display:flex;flex-flow:column wrap;margin-bottom:15px}[_nghost-%COMP%]   .index-list-content[_ngcontent-%COMP%]{padding:0;list-style:none;margin:0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{color:var(--on-control-ambient);font-size:11px;text-transform:uppercase;letter-spacing:1px;margin-bottom:5px;cursor:pointer;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:after{font-family:jam;content:"\\e804";padding-left:4px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:hover{color:var(--on-control-ambient-hover)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:hover:after{color:var(--primary)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{border-right-width:3px;border-right-style:solid;border-right-color:transparent}.active[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:after{content:"\\e807"}@media(max-width:768px){[_nghost-%COMP%]{flex:1}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{border-right-width:0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]:after{content:""}}']})}}return i})();var ee=["*"],te=(i,r)=>r.name;function ne(i,r){if(i&1){let e=g();d(0,"app-sidebar-list",2),m("navigate",function(){l(e);let n=_();return c(n.onNavigate())}),p()}if(i&2){let e=r.$implicit;f("list",e)}}var Ce=(()=>{class i{constructor(){this.sections=h([]),this.listName=h(""),this.collapsed=!1,this.showMobileNavig=!1,this.app=S(U),this.router=S(j),this.items=O(k)}ngOnInit(){this.app.view.currentSidebar=this,this.router.events.forEach(()=>{this.showMobileNavig=!1}).catch(e=>{console.error(e)})}ngOnDestroy(){this.app.view.currentSidebar=void 0}toggleMobileNavig(){this.showMobileNavig=!this.showMobileNavig}onNavigate(){this.showMobileNavig=!1}manageKey(e){this.keyManager?.onKeydown(e)}ngAfterViewInit(){let e=this.items().map(n=>n.items()),t=[].concat(...e);this.keyManager=new R(t).withWrap()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-sidebar"]],viewQuery:function(t,n){t&1&&v(n.items,k,5),t&2&&C()},hostVars:4,hostBindings:function(t,n){t&2&&y("active",n.collapsed)("show",n.showMobileNavig)},inputs:{sections:[1,"sections"],listName:[1,"listName"]},ngContentSelectors:ee,decls:4,vars:0,consts:[["tabindex","0",1,"navigation",3,"keydown.arrowDown","keydown.arrowUp"],[3,"list"],[3,"navigate","list"]],template:function(t,n){t&1&&(E(),d(0,"nav",0),m("keydown.arrowDown",function(a){return n.manageKey(a)})("keydown.arrowUp",function(a){return n.manageKey(a)}),w(1,ne,1,1,"app-sidebar-list",1,te),p(),I(3)),t&2&&(s(),b(n.sections()))},dependencies:[k],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column wrap;margin-bottom:15px;height:100%;padding:1px}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]{padding:15px;flex-grow:1;width:100%;overflow-y:auto;overflow-x:hidden;background-color:var(--background-sidebar);color:var(--on-control)}@media(max-width:768px){[_nghost-%COMP%]{display:none}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]{position:fixed;z-index:10;flex:unset;max-height:calc(100% - 60px);flex-flow:row wrap;border-bottom:1px solid var(--control-box-border)}.show[_nghost-%COMP%]{display:flex}}"]})}}return i})();export{pe as a,Ce as b};
