import{a as v}from"./chunk-CHYN2OU2.js";import"./chunk-BROOBCUQ.js";import"./chunk-YTAUIBY4.js";import"./chunk-AOSNM3EN.js";import"./chunk-CXOLACS4.js";import"./chunk-YXDUILPU.js";import"./chunk-Z5Y35675.js";import"./chunk-DJYMAW3B.js";import"./chunk-UO5UMZSC.js";import"./chunk-JP4K5MFN.js";import"./chunk-DYL3URTZ.js";import{a as h,i as g}from"./chunk-SCLJ3VCI.js";import"./chunk-DGTK7RHM.js";import"./chunk-PEPRZYDQ.js";import"./chunk-AFPGMN6L.js";import"./chunk-L6NQU2BC.js";import"./chunk-4UFWK3HC.js";import"./chunk-24DMSAFT.js";import"./chunk-SCY3FOMN.js";import"./chunk-FU6C5Z5T.js";import"./chunk-6WISUSLE.js";import"./chunk-NWR5JEWI.js";import"./chunk-3XAJ3MB2.js";import"./chunk-3VLHYTEX.js";import"./chunk-AKA224Y7.js";import"./chunk-RJHPSDKR.js";import"./chunk-MTB5HHEE.js";import"./chunk-TT7XXVKE.js";import"./chunk-ZBZLQTZR.js";import"./chunk-6SWJ3F4P.js";import"./chunk-N4AK7Z46.js";import"./chunk-FQC6PRY2.js";import{a as b}from"./chunk-ITVL4IJL.js";import"./chunk-JI2YWTPQ.js";import{G as f}from"./chunk-3LOKQP2Q.js";import{f as l}from"./chunk-MFAW4R34.js";import{Db as a,Eb as m,Jb as c,Mb as o,U as s,Wd as d,bc as u,fa as n,j as r,nb as p}from"./chunk-XLNNDSL4.js";function C(t,x){if(t&1&&o(0,"app-obj-groups-view",0),t&2){let e=u();c("objs",e.albums)("viewTypeList",!0)("grouping",!0)}}function w(t,x){t&1&&o(0,"app-loading")}var J=(()=>{class t{constructor(){this.library=n(g),this.notify=n(f),this.jam=n(d),this.route=n(l),this.unsubscribe=new r}ngOnInit(){this.route.paramMap.pipe(s(this.unsubscribe)).subscribe(e=>{this.id=e.get("id")??void 0,this.refresh()})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}refresh(){this.series=void 0,this.albums=void 0,this.id&&this.jam.series.id({id:this.id,seriesIncState:!0,seriesIncAlbums:!0,albumIncState:!0}).then(e=>{this.display(e)}).catch(e=>{this.notify.error(e)})}display(e){this.series=e,this.albums=(e.albums??[]).map(i=>new h(i,this.library))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=p({type:t,selectors:[["app-series-overview"]],decls:2,vars:1,consts:[[3,"objs","viewTypeList","grouping"]],template:function(i,y){i&1&&a(0,C,1,3,"app-obj-groups-view",0)(1,w,1,0,"app-loading"),i&2&&m(y.albums?0:1)},dependencies:[v,b],styles:["[_nghost-%COMP%]{padding:0 5px 5px}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media(max-width:522px){[_nghost-%COMP%]{padding-left:10px;padding-right:10px}}"]})}}return t})();export{J as SeriesOverviewComponent};
