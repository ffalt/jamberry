import{a as b,b as E}from"./chunk-DYL3URTZ.js";import{Ba as p,Nb as s,Ob as r,Oc as v,Pb as a,Pc as c,Uc as g,_a as o,ac as d,fa as l,nb as f,nc as m,pb as h,pc as _,qc as u}from"./chunk-XLNNDSL4.js";var C=(()=>{class i{constructor(){this.viewTypeList=g(!1),this.headline=c()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["app-view-type-toggle"]],inputs:{viewTypeList:[1,"viewTypeList"],headline:[1,"headline"]},outputs:{viewTypeList:"viewTypeListChange"},decls:8,vars:5,consts:()=>{let e;e=$localize`:␟6957187f10bef7578ae39f9d8d5d23b90b57d36a␟7812652214482641791:View as List`;let t;return t=$localize`:␟cac122bb27896420fe3b9d79884161a1e069c748␟7523937793320218832:View as Tiles`,[[1,"view-type"],[1,"section-title"],[1,"buttons"],["title",e,3,"click"],[1,"icon-view-details"],["title",t,3,"click"],[1,"icon-view-tiles"]]},template:function(t,n){t&1&&(s(0,"div",0)(1,"span",1),_(2),r(),s(3,"div",2)(4,"a",3),d("click",function(){return n.viewTypeList.set(!0)}),a(5,"i",4),r(),s(6,"a",5),d("click",function(){return n.viewTypeList.set(!1)}),a(7,"i",6),r()()()),t&2&&(o(2),u(n.headline()),o(2),m("active",n.viewTypeList()),o(2),m("active",!n.viewTypeList()))},styles:["[_nghost-%COMP%]{border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:var(--background-border)}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]{min-height:30px;margin-top:10px;margin-bottom:10px}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-top:10px;color:var(--on-control-ambient)}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px;border-radius:50%;font-size:.6em;margin-left:2px;color:var(--on-background);-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--background-hover);color:var(--on-background-hover)}[_nghost-%COMP%]   .view-type[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:var(--background-active);color:var(--on-background-active)}"]})}}return i})();var R=(()=>{class i{constructor(){this.preRender=c(!1),this.appDeferLoad=v(),this.elementRef=l(p),this.deferLoadService=l(E),this.timeoutLoadMS=50}ngAfterViewInit(){this.deferLoadService.isBrowser?this.deferLoadService.hasIntersectionObserver?this.registerIntersectionObserver():this.addScrollListeners():this.preRender()&&this.load()}ngOnDestroy(){this.removeListeners()}static getScrollPosition(){return window.scrollY+(document.documentElement.clientHeight||document.body.clientHeight)}loadAndUnobserve(){this.load(),this.intersectionObserver&&this.elementRef.nativeElement&&this.intersectionObserver.unobserve(this.elementRef.nativeElement)}cancelDelayLoad(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}delayLoad(){this.timeoutId||(this.timeoutId=setTimeout(()=>{this.loadAndUnobserve(),this.cancelDelayLoad()},this.timeoutLoadMS))}manageIntersection(e){this.checkIfIntersecting(e)?this.delayLoad():this.cancelDelayLoad()}registerIntersectionObserver(){this.intersectionObserver||(this.intersectionObserver=this.deferLoadService.getObserver(),this.elementRef.nativeElement&&(this.intersectionObserver.observe(this.elementRef.nativeElement),this.observeSubscription=this.deferLoadService.observeNotify.subscribe(e=>{this.checkForIntersection(e)})))}checkForIntersection(e){for(let t of e)t.target===this.elementRef.nativeElement&&this.manageIntersection(t)}checkIfIntersecting(e){return e.time?e.isIntersecting:this.isVisible()}load(){this.removeListeners(),this.appDeferLoad.emit()}loadFromScroll(){setTimeout(()=>{this.load()})}addScrollListeners(){this.scrollSubscription=this.deferLoadService.scrollNotify.subscribe(e=>{this.checkInView(e.rect)&&this.loadFromScroll()}),setTimeout(()=>{this.checkInView(this.deferLoadService.currentViewport)&&this.loadFromScroll()})}removeListeners(){this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.observeSubscription&&this.observeSubscription.unsubscribe()}checkInView(e){return this.elementRef.nativeElement?b.fromElement(this.elementRef.nativeElement).intersectsWithY(e):!1}isVisible(){if(!this.elementRef.nativeElement)return!1;let e=i.getScrollPosition();return this.elementRef.nativeElement.offsetTop<=e}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=h({type:i,selectors:[["","appDeferLoad",""]],inputs:{preRender:[1,"preRender"]},outputs:{appDeferLoad:"appDeferLoad"}})}}return i})();export{R as a,C as b};
