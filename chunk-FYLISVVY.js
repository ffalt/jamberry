import{a as h}from"./chunk-KD232HJS.js";import"./chunk-JNPRJ3MQ.js";import{a as z}from"./chunk-4J5YZFAW.js";import{a as j}from"./chunk-CUCEAQEW.js";import"./chunk-UPKF4LSO.js";import"./chunk-24DMSAFT.js";import"./chunk-K7RVMPTP.js";import"./chunk-BNP52TDG.js";import"./chunk-F6BYEP4R.js";import"./chunk-VP6KNDS4.js";import"./chunk-ZVKVGF76.js";import{e as F,f as y,g as $,h as k,i as G,j as B,k as X}from"./chunk-T6GM3CFW.js";import{Gc as g,Hb as f,Ib as m,Nb as d,Ob as i,Pb as r,Qb as O,Ub as u,Vb as E,Wc as x,Y as p,ab as a,ac as c,dc as b,fc as L,ia as P,k as S,nb as T,nc as D,oc as R,rc as I,wd as w}from"./chunk-H2EXZDP6.js";var H=["overview","tags","health","tracks","tracks-health"];var U=n=>["/admin/folder",n,"overview"],Q=n=>["/admin/folder",n,"tracks"],q=n=>["/admin/folder",n,"sub-folders"],V=n=>["/admin/folder",n,"tags"],J=n=>["/admin/folder",n,"health"],K=n=>["/admin/folder",n,"tracks-health"];function W(n,_){n&1&&(i(0,"a"),O(1,"i",15),u(2),c(3,0),E(),r())}function Y(n,_){n&1&&(i(0,"a"),O(1,"i",16),u(2),c(3,1),E(),r())}function Z(n,_){if(n&1&&(i(0,"nav",13)(1,"ul",17)(2,"li",18)(3,"a"),c(4,2),r()(),i(5,"li",18)(6,"a"),c(7,3),r()(),i(8,"li",18)(9,"a"),c(10,4),r()(),i(11,"li",18)(12,"a"),c(13,5),r()(),i(14,"li",18)(15,"a"),c(16,6),r()(),i(17,"li",18)(18,"a"),c(19,7),r()()()()),n&2){let M=L();a(2),d("routerLink",g(6,U,M.id)),a(3),d("routerLink",g(8,Q,M.id)),a(3),d("routerLink",g(10,q,M.id)),a(3),d("routerLink",g(12,V,M.id)),a(3),d("routerLink",g(14,J,M.id)),a(3),d("routerLink",g(16,K,M.id))}}var Mn=(()=>{let _=class _{constructor(){this.rightActive=!1,this.tree=x(h),this.unsubscribe=new S,this.route=P(y),this.router=P(k),this.uiState=P(j),this.mode="overview"}refresh(){let e=this.tree();e&&e.refresh()}selectionChange(e){this.router.navigate([`/admin/folder/${e.id}/${this.mode}`]).catch(t=>{console.error(t)})}onFolderUpdate(e){let t=this.tree();t&&t.onFolderUpdate(e)}ngOnInit(){this.router.events.pipe(p(this.unsubscribe)).subscribe(t=>{if(t instanceof F&&this.route.firstChild?.snapshot.url[0]){let o=this.route.firstChild.snapshot.url[0].path;H.includes(o)&&(this.mode=o)}}),this.route.paramMap.pipe(p(this.unsubscribe)).subscribe(t=>{let o=t.get("id")??void 0;this.id=o,this.tree()&&o&&setTimeout(()=>{let l=this.tree();l&&l.selectFolderByID(o)})});let e=this.tree();e&&(e.expandIDs=this.uiState.get("app-admin-folders",[])),this.refresh()}ngOnDestroy(){let e=this.tree();e&&this.uiState.put("app-admin-folders",e.expandIDs),this.unsubscribe.next(),this.unsubscribe.complete()}};_.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=T({type:_,selectors:[["app-admin-folder"]],viewQuery:function(t,o){t&1&&D(o.tree,h,5),t&2&&R()},hostVars:2,hostBindings:function(t,o){t&2&&I("right-active",o.rightActive)},decls:11,vars:2,consts:()=>{let e;e=$localize`:␟916b83c8c6c89e399186184c2198e5b4a760361b␟3376465991526605180:Show Folder Tree`;let t;t=$localize`:␟7ec7b22d8039675be42abd55ef2b6adad32ba322␟6821898315173685664:Show Folder Tools`;let o;o=$localize`:␟e95ae009d0bdb45fcc656e8b65248cf7396080d5␟2614607010577950577:Overview`;let l;l=$localize`:␟cb98522066062d775f3b81f29c898a7cc76292c0␟1575810254412583888:Tracks`;let C;C=$localize`:␟3fde556358b58d910adc30abaaff2433f0bb5f6c␟1205037876874222931:Folders`;let N;N=$localize`:␟cafc87479686947e2590b9f588a88040aeaf660b␟7886570921510760899:Tags`;let v;v=$localize`:␟d2bcd3296d2850de762fb943060b7e086a893181␟2041675390931385838:Health`;let A;return A=$localize`:␟a12d1012d8918ce2725b84077784140cb3381cd7␟4537451926022625647:Track Health`,[e,t,o,l,C,N,v,A,[1,"toggle",3,"click"],[1,"content"],[1,"left-content"],[3,"selectionChange"],[1,"right-content"],[1,"navigation"],[1,"router-content"],[1,"icon-left"],[1,"icon-right"],[1,"tabs"],["routerLinkActive","active",3,"routerLink"]]},template:function(t,o){t&1&&(i(0,"button",8),b("click",function(){return o.rightActive=!o.rightActive}),f(1,W,4,0,"a")(2,Y,4,0,"a"),r(),i(3,"div",9)(4,"div",10)(5,"app-admin-folder-tree",11),b("selectionChange",function(C){return o.selectionChange(C)}),r()(),O(6,"app-splitter"),i(7,"div",12),f(8,Z,20,18,"nav",13),i(9,"div",14),O(10,"router-outlet"),r()()()),t&2&&(a(),m(o.rightActive?1:2),a(7),m(o.id?8:-1))},dependencies:[w,X,$,G,B,h,z],styles:["[_nghost-%COMP%]{overflow-y:auto;overflow-x:hidden;height:100%;width:100%;min-height:100%;flex:1 1 auto;position:relative;display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .toggle[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]{width:100%;z-index:1;display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center;background-color:var(--background-transparent);color:var(--on-control)}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{padding-left:0;margin-top:0;margin-bottom:0;list-style:none;border:none;display:flex;flex-flow:row wrap;width:100%}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;display:block;margin-bottom:-1px;flex:1;align-self:stretch;border-top-width:4px;border-top-style:solid;border-top-color:transparent;border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:transparent;padding:0}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:var(--control-hover);transition:all .4s ease;border-bottom-width:4px;border-bottom-style:solid;border-bottom-color:transparent}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-bottom:15px}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:10px 0;text-align:center;align-items:center;align-content:center;justify-content:center;margin-right:2px;line-height:1.42857143;border-radius:4px 4px 0 0;position:relative;display:flex;cursor:pointer;border:none;font-size:14px;text-transform:uppercase;letter-spacing:.5px;height:100%;color:var(--on-control);-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:unset;border:none;color:var(--on-control-hover)}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]{cursor:default;border-bottom-color:var(--primary)!important}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:default;background-color:unset;color:var(--on-control-hover)}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]:hover{border-bottom-color:var(--primary)}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li.disabled[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:var(--on-control-ambient-disabled)}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li.disabled[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li.disabled[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:var(--on-control-ambient-disabled);text-decoration:none;cursor:not-allowed;background-color:transparent}@media (max-width: 768px){[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{align-items:center;align-content:center;justify-content:center}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding:5px;min-width:33%}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:.8em}}@media (max-width: 400px){[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding:0 5px}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:.7em}}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs.mini[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs.mini[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{flex:0}@media (max-width: 768px){[_nghost-%COMP%]   .navigation[_ngcontent-%COMP%]   .tabs.mini[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{min-width:20px}}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;flex:1;display:flex;flex-flow:row nowrap;overflow:hidden;align-items:flex-start;align-content:flex-start;padding:0;min-height:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]{height:100%;width:20%;display:block;border-right:1px solid var(--background-border);min-width:240px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{width:80%;flex-shrink:1;flex-grow:1;height:100%;display:flex;flex-flow:column nowrap;position:relative;overflow:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .router-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block;overflow:hidden}@media (max-width: 522px){[_nghost-%COMP%]{height:100%;width:100%;min-height:100%;overflow:hidden}[_nghost-%COMP%]   .toggle[_ngcontent-%COMP%]{display:block;position:relative;width:100%;height:33px;text-align:center;padding-top:5px;border-bottom:1px solid var(--background-border)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:calc(100% - 33px);min-height:calc(100% - 33px);overflow:hidden;display:block;flex:none;position:relative}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   app-splitter[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{display:none;height:100%;width:100%}.right-active[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]{display:none}.right-active[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{display:flex}}"]});let n=_;return n})();export{Mn as AdminFolderComponent};
