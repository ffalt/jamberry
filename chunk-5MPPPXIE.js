import{a as x}from"./chunk-XGGDZPWO.js";import{b as P}from"./chunk-MQ5GQMNI.js";import"./chunk-6WAGYCOA.js";import"./chunk-UPKF4LSO.js";import"./chunk-NNT52QCM.js";import"./chunk-6UV7XVIR.js";import"./chunk-SDT7PSNL.js";import"./chunk-4K2FA6DD.js";import"./chunk-AIQOHZWK.js";import"./chunk-N2K5OS3Y.js";import"./chunk-24DMSAFT.js";import"./chunk-Y5Z5ITNC.js";import"./chunk-ORVGIZVG.js";import"./chunk-K7RVMPTP.js";import"./chunk-MHPFTM2Z.js";import"./chunk-T2QKBMPN.js";import"./chunk-DYCPZPVS.js";import"./chunk-CXISAAQ7.js";import"./chunk-BNP52TDG.js";import"./chunk-F6BYEP4R.js";import"./chunk-VP6KNDS4.js";import"./chunk-D2CLWX7O.js";import"./chunk-AQDYGNZB.js";import"./chunk-W76RWN3H.js";import"./chunk-FQC6PRY2.js";import{a as E}from"./chunk-PZTZCA44.js";import"./chunk-4HNSRH53.js";import{G as b}from"./chunk-ZVKVGF76.js";import{f as v}from"./chunk-T6GM3CFW.js";import{$d as h,Hb as p,Ib as m,Nb as d,Ob as c,Pb as a,Qb as _,Xd as O,Y as g,ab as s,ac as f,fc as u,ia as r,k as C,nb as M}from"./chunk-H2EXZDP6.js";function I(e,n){if(e&1&&(c(0,"div",3)(1,"div",6),f(2,1),a(),_(3,"app-info-note",8),a()),e&2){let o=u(2);s(3),d("info",o.album.info)}}function A(e,n){if(e&1&&(c(0,"div",2),p(1,I,4,1,"div",3),c(2,"div",4)(3,"div",5)(4,"span",6),f(5,0),a()(),_(6,"app-track-list",7),a()()),e&2){let o=u();s(),m(o.album.info?1:-1),s(5),d("tracks",o.tracks)("showArtist",o.isCompilation)}}function T(e,n){e&1&&_(0,"app-loading")}var U=(()=>{let n=class n{constructor(){this.tracks=[],this.isCompilation=!1,this.unsubscribe=new C,this.jam=r(h),this.notify=r(b),this.route=r(v)}ngOnInit(){this.route.paramMap.pipe(g(this.unsubscribe)).subscribe(t=>{this.id=t.get("id")??void 0,this.refresh()})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}display(t){this.album=t,this.isCompilation=this.album.albumType===O.compilation,this.tracks=t.tracks??[]}refresh(){this.album=void 0,this.tracks=[],this.id&&this.jam.album.id({id:this.id,trackIncState:!0,trackIncTag:!0,albumIncGenres:!0,albumIncTracks:!0,albumIncInfo:!0}).then(t=>{this.display(t)}).catch(t=>{this.notify.error(t)})}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=M({type:n,selectors:[["app-album-overview"]],decls:2,vars:1,consts:()=>{let t;t=$localize`:␟cb98522066062d775f3b81f29c898a7cc76292c0␟1575810254412583888:Tracks`;let i;return i=$localize`:␟eec715de352a6b114713b30b640d319fa78207a0␟4902817035128594900:Description`,[t,i,[1,"overview"],[1,"info"],[1,"album-tracks"],[1,"head"],[1,"section-title"],[3,"tracks","showArtist"],[3,"info"]]},template:function(i,l){i&1&&p(0,A,7,3,"div",2)(1,T,1,0,"app-loading"),i&2&&m(l.album?0:1)},dependencies:[P,x,E],styles:["[_nghost-%COMP%]{padding:0 5px 5px}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1.25px;font-size:13.2px;margin-bottom:10px;color:var(--on-control-ambient)}@media (max-width: 522px){[_nghost-%COMP%]{padding-left:10px;padding-right:10px}}[_nghost-%COMP%]   .overview[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}[_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%}@media (max-width: 768px){[_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding-right:0}}[_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .album-tracks[_ngcontent-%COMP%]{margin-top:15px;width:100%}[_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .album-tracks[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center}"]});let e=n;return e})();export{U as AlbumOverviewComponent};
